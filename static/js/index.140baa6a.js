(()=>{"use strict";var e={94602:function(e,t,s){var a=s(69979),r=s(52136),n=s(63742);s(60441);var l=s(61069),i=s(80885);function c(e){if(e.startsWith("http://")||e.startsWith("https://"))return e;let t=e.startsWith("/")?e:`/${e}`,s="https://bilal-ullah-khan-netra-ai.hf.space".replace(/\/$/,"");return`${s}${t}`}async function o(e){if(!e.ok){let t=await e.text()||e.statusText;throw Error(`${e.status}: ${t}`)}}async function d(e,t,s){let a,r=c(t),n=s instanceof FormData,l=s instanceof File,i={};if(n)a=s;else if(l){let e=new FormData;e.append("file",s),a=e}else s&&(i["Content-Type"]="application/json",a=JSON.stringify(s));let d=await fetch(r,{method:e,headers:i,body:a,credentials:"include"});return await o(d),d}s(56741);let m=new(s(30576)).S({defaultOptions:{queries:{queryFn:(e=>{let{on401:t}=e;return async e=>{let{queryKey:s}=e,a=c(s.join("/")),r=await fetch(a,{credentials:"include"});return"returnNull"===t&&401===r.status?null:(await o(r),await r.json())}})({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}});var u=s(54018);s(92360),s(61961),s(48230),s(94489),s(27166),s(80682),s(72161),s(83235),s(93899),s(92173),s(47672),s(42229),s(6966),s(33436),s(52434),s(89439),s(7230),s(70823),s(35459),s(8517),s(73996),s(41972);let x=0,h=new Map,p=e=>{if(h.has(e))return;let t=setTimeout(()=>{h.delete(e),g({type:"REMOVE_TOAST",toastId:e})},1e6);h.set(e,t)},f=[],j={toasts:[]};function g(e){j=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?p(s):e.toasts.forEach(e=>{p(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(j,e),f.forEach(e=>{e(j)})}function y(e){let{...t}=e,s=(x=(x+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>g({type:"DISMISS_TOAST",toastId:s});return g({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||a()}}}),{id:s,dismiss:a,update:e=>g({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function v(){let[e,t]=r.useState(j);return r.useEffect(()=>(f.push(t),()=>{let e=f.indexOf(t);e>-1&&f.splice(e,1)}),[e]),{...e,toast:y,dismiss:e=>g({type:"DISMISS_TOAST",toastId:e})}}var N=s(18393),b=s(48690),w=s(43254),_=s(54461),S=s(64377);function C(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,S.m6)((0,_.W)(t))}let P=N.zt,A=r.forwardRef((e,t)=>{let s,r,n,i,c=(0,l.c)(9);return c[0]!==e?({className:s,...r}=e,c[0]=e,c[1]=s,c[2]=r):(s=c[1],r=c[2]),c[3]!==s?(n=C("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",s),c[3]=s,c[4]=n):n=c[4],c[5]!==r||c[6]!==t||c[7]!==n?(i=(0,a.jsx)(N.l_,{ref:t,className:n,...r}),c[5]=r,c[6]=t,c[7]=n,c[8]=i):i=c[8],i});A.displayName=N.l_.displayName;let k=(0,b.j)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),D=r.forwardRef((e,t)=>{let s,r,n,i,c,o=(0,l.c)(11);return o[0]!==e?({className:s,variant:n,...r}=e,o[0]=e,o[1]=s,o[2]=r,o[3]=n):(s=o[1],r=o[2],n=o[3]),o[4]!==s||o[5]!==n?(i=C(k({variant:n}),s),o[4]=s,o[5]=n,o[6]=i):i=o[6],o[7]!==r||o[8]!==t||o[9]!==i?(c=(0,a.jsx)(N.fC,{ref:t,className:i,...r}),o[7]=r,o[8]=t,o[9]=i,o[10]=c):c=o[10],c});D.displayName=N.fC.displayName,r.forwardRef((e,t)=>{let s,r,n,i,c=(0,l.c)(9);return c[0]!==e?({className:s,...r}=e,c[0]=e,c[1]=s,c[2]=r):(s=c[1],r=c[2]),c[3]!==s?(n=C("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",s),c[3]=s,c[4]=n):n=c[4],c[5]!==r||c[6]!==t||c[7]!==n?(i=(0,a.jsx)(N.aU,{ref:t,className:n,...r}),c[5]=r,c[6]=t,c[7]=n,c[8]=i):i=c[8],i}).displayName=N.aU.displayName;let Z=r.forwardRef((e,t)=>{let s,r,n,i,c,o=(0,l.c)(10);return o[0]!==e?({className:s,...r}=e,o[0]=e,o[1]=s,o[2]=r):(s=o[1],r=o[2]),o[3]!==s?(n=C("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",s),o[3]=s,o[4]=n):n=o[4],o[5]===Symbol.for("react.memo_cache_sentinel")?(i=(0,a.jsx)(w.Z,{className:"h-4 w-4"}),o[5]=i):i=o[5],o[6]!==r||o[7]!==t||o[8]!==n?(c=(0,a.jsx)(N.x8,{ref:t,className:n,"toast-close":"",...r,children:i}),o[6]=r,o[7]=t,o[8]=n,o[9]=c):c=o[9],c});Z.displayName=N.x8.displayName;let I=r.forwardRef((e,t)=>{let s,r,n,i,c=(0,l.c)(9);return c[0]!==e?({className:s,...r}=e,c[0]=e,c[1]=s,c[2]=r):(s=c[1],r=c[2]),c[3]!==s?(n=C("text-sm font-semibold",s),c[3]=s,c[4]=n):n=c[4],c[5]!==r||c[6]!==t||c[7]!==n?(i=(0,a.jsx)(N.Dx,{ref:t,className:n,...r}),c[5]=r,c[6]=t,c[7]=n,c[8]=i):i=c[8],i});I.displayName=N.Dx.displayName;let T=r.forwardRef((e,t)=>{let s,r,n,i,c=(0,l.c)(9);return c[0]!==e?({className:s,...r}=e,c[0]=e,c[1]=s,c[2]=r):(s=c[1],r=c[2]),c[3]!==s?(n=C("text-sm opacity-90",s),c[3]=s,c[4]=n):n=c[4],c[5]!==r||c[6]!==t||c[7]!==n?(i=(0,a.jsx)(N.dk,{ref:t,className:n,...r}),c[5]=r,c[6]=t,c[7]=n,c[8]=i):i=c[8],i});function O(){let e,t,s,r=(0,l.c)(5),{toasts:n}=v();return r[0]!==n?(e=n.map(E),r[0]=n,r[1]=e):e=r[1],r[2]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)(A,{}),r[2]=t):t=r[2],r[3]!==e?(s=(0,a.jsxs)(P,{children:[e,t]}),r[3]=e,r[4]=s):s=r[4],s}function E(e){let{id:t,title:s,description:r,action:n,...l}=e;return(0,a.jsxs)(D,{...l,children:[(0,a.jsxs)("div",{className:"grid gap-1",children:[s&&(0,a.jsx)(I,{children:s}),r&&(0,a.jsx)(T,{children:r})]}),n,(0,a.jsx)(Z,{})]},t)}T.displayName=N.dk.displayName;var M=s(96855);let F=M.zt;M.fC,M.xz,r.forwardRef((e,t)=>{let s,r,n,i,c,o=(0,l.c)(11);o[0]!==e?({className:s,sideOffset:n,...r}=e,o[0]=e,o[1]=s,o[2]=r,o[3]=n):(s=o[1],r=o[2],n=o[3]);let d=void 0===n?4:n;return o[4]!==s?(i=C("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",s),o[4]=s,o[5]=i):i=o[5],o[6]!==r||o[7]!==t||o[8]!==d||o[9]!==i?(c=(0,a.jsx)(M.VY,{ref:t,sideOffset:d,className:i,...r}),o[6]=r,o[7]=t,o[8]=d,o[9]=i,o[10]=c):c=o[10],c}).displayName=M.VY.displayName;var R=s(65717);let $="https://sqgtgwrhxoaeaxofyelf.supabase.co",U="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNxZ3Rnd3JoeG9hZWF4b2Z5ZWxmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUyNTA2ODAsImV4cCI6MjA3MDgyNjY4MH0.uNLXA6AIjKH9WnH4vxR13WdnevaA0yVl0Vwcac4dOJY";$&&U||console.warn("Supabase URL and Anon Key are required. Please set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY environment variables.");let z=(0,R.eI)($,U,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),L=async(e,t,s)=>{let{data:a,error:r}=await z.auth.signUp({email:e,password:t,options:{data:s}});return{data:a,error:r}},V=async(e,t)=>{let{data:s,error:a}=await z.auth.signInWithPassword({email:e,password:t});return{data:s,error:a}},W=async()=>{let{error:e}=await z.auth.signOut();return{error:e}},B=async()=>{let{data:{session:e},error:t}=await z.auth.getSession();return{session:e,error:t}},q=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"*",s=arguments.length>2?arguments[2]:void 0,a=z.from(e).select(t);s&&Object.keys(s).forEach(e=>{a=a.eq(e,s[e])});let{data:r,error:n}=await a;return{data:r,error:n}},H=(0,r.createContext)({user:null,session:null,loading:!0,signIn:async()=>({error:null}),signUp:async()=>({error:null}),signOut:async()=>({error:null}),resetPassword:async()=>({error:null})}),K=()=>{let e=(0,r.useContext)(H);if(!e)throw Error("useAuthContext must be used within an AuthProvider");return e};function G(e){let t,s,n,i,c=(0,l.c)(9),{children:o}=e,[d,m]=(0,r.useState)(null),[u,x]=(0,r.useState)(null),[h,p]=(0,r.useState)(!0);c[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>{z.auth.getSession().then(e=>{let{data:t}=e,{session:s}=t;x(s),m((null==s?void 0:s.user)??null),p(!1)});let{data:e}=z.auth.onAuthStateChange(async(e,t)=>{x(t),m((null==t?void 0:t.user)??null),p(!1)}),{subscription:t}=e;return()=>t.unsubscribe()},s=[],c[0]=t,c[1]=s):(t=c[0],s=c[1]),(0,r.useEffect)(t,s),c[2]!==h||c[3]!==u||c[4]!==d?(n={user:d,session:u,loading:h,signIn:X,signUp:Q,signOut:Y,resetPassword:J},c[2]=h,c[3]=u,c[4]=d,c[5]=n):n=c[5];let f=n;return c[6]!==o||c[7]!==f?(i=(0,a.jsx)(H.Provider,{value:f,children:o}),c[6]=o,c[7]=f,c[8]=i):i=c[8],i}async function J(e){let{error:t}=await z.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/reset-password`});return{error:t}}async function Y(){let{error:e}=await z.auth.signOut();return{error:e}}async function Q(e,t,s){let{error:a}=await z.auth.signUp({email:e,password:t,options:{data:s}});return{error:a}}async function X(e,t){let{error:s}=await z.auth.signInWithPassword({email:e,password:t});return{error:s}}var ee=s(51024);function et(e){let t,s,n,c=(0,l.c)(10),{children:o,redirectTo:d,fallback:m}=e,u=void 0===d?"/login":d,{user:x,loading:h}=K(),[,p]=(0,i.TH)();if(c[0]!==h||c[1]!==u||c[2]!==p||c[3]!==x?(t=()=>{h||x||p(u)},s=[x,h,p,u],c[0]=h,c[1]=u,c[2]=p,c[3]=x,c[4]=t,c[5]=s):(t=c[4],s=c[5]),(0,r.useEffect)(t,s),h){let e;return c[6]!==m?(e=m||(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(ee.Z,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-medical-blue"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Authenticating..."})]})}),c[6]=m,c[7]=e):e=c[7],e}return x?(c[8]!==o?(n=(0,a.jsx)(a.Fragment,{children:o}),c[8]=o,c[9]=n):n=c[9],n):null}function es(e){let t,s,n,c=(0,l.c)(10),{children:o,redirectTo:d,restrictWhenAuthenticated:m}=e,u=void 0===d?"/dashboard":d,x=void 0===m||m,{user:h,loading:p}=K(),[,f]=(0,i.TH)();if(c[0]!==p||c[1]!==u||c[2]!==x||c[3]!==f||c[4]!==h?(t=()=>{!p&&h&&x&&f(u)},s=[h,p,f,u,x],c[0]=p,c[1]=u,c[2]=x,c[3]=f,c[4]=h,c[5]=t,c[6]=s):(t=c[5],s=c[6]),(0,r.useEffect)(t,s),p){let e;return c[7]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-pulse",children:(0,a.jsx)("div",{className:"h-8 w-8 bg-gray-300 rounded-full mx-auto mb-4"})}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading..."})]})}),c[7]=e):e=c[7],e}return h&&x?null:(c[8]!==o?(n=(0,a.jsx)(a.Fragment,{children:o}),c[8]=o,c[9]=n):n=c[9],n)}var ea=s(60022),er=s(84848),en=s(95401),el=s(24794),ei=s(61511),ec=s(53909),eo=s(37247),ed=s(59166),em=s(78645);let eu=ec.fC,ex=ec.xz;ec.ZA,ec.Uv,ec.Tr,ec.Ee,r.forwardRef((e,t)=>{let s,r,n,i,c,o,d,m=(0,l.c)(14);m[0]!==e?({className:r,inset:n,children:s,...i}=e,m[0]=e,m[1]=s,m[2]=r,m[3]=n,m[4]=i):(s=m[1],r=m[2],n=m[3],i=m[4]);let u=n&&"pl-8";return m[5]!==r||m[6]!==u?(c=C("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",u,r),m[5]=r,m[6]=u,m[7]=c):c=m[7],m[8]===Symbol.for("react.memo_cache_sentinel")?(o=(0,a.jsx)(eo.Z,{className:"ml-auto"}),m[8]=o):o=m[8],m[9]!==s||m[10]!==i||m[11]!==t||m[12]!==c?(d=(0,a.jsxs)(ec.fF,{ref:t,className:c,...i,children:[s,o]}),m[9]=s,m[10]=i,m[11]=t,m[12]=c,m[13]=d):d=m[13],d}).displayName=ec.fF.displayName,r.forwardRef((e,t)=>{let s,r,n,i,c=(0,l.c)(9);return c[0]!==e?({className:s,...r}=e,c[0]=e,c[1]=s,c[2]=r):(s=c[1],r=c[2]),c[3]!==s?(n=C("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",s),c[3]=s,c[4]=n):n=c[4],c[5]!==r||c[6]!==t||c[7]!==n?(i=(0,a.jsx)(ec.tu,{ref:t,className:n,...r}),c[5]=r,c[6]=t,c[7]=n,c[8]=i):i=c[8],i}).displayName=ec.tu.displayName;let eh=r.forwardRef((e,t)=>{let s,r,n,i,c,o=(0,l.c)(11);o[0]!==e?({className:s,sideOffset:n,...r}=e,o[0]=e,o[1]=s,o[2]=r,o[3]=n):(s=o[1],r=o[2],n=o[3]);let d=void 0===n?4:n;return o[4]!==s?(i=C("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",s),o[4]=s,o[5]=i):i=o[5],o[6]!==r||o[7]!==t||o[8]!==d||o[9]!==i?(c=(0,a.jsx)(ec.Uv,{children:(0,a.jsx)(ec.VY,{ref:t,sideOffset:d,className:i,...r})}),o[6]=r,o[7]=t,o[8]=d,o[9]=i,o[10]=c):c=o[10],c});eh.displayName=ec.VY.displayName;let ep=r.forwardRef((e,t)=>{let s,r,n,i,c,o=(0,l.c)(11);o[0]!==e?({className:s,inset:r,...n}=e,o[0]=e,o[1]=s,o[2]=r,o[3]=n):(s=o[1],r=o[2],n=o[3]);let d=r&&"pl-8";return o[4]!==s||o[5]!==d?(i=C("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",d,s),o[4]=s,o[5]=d,o[6]=i):i=o[6],o[7]!==n||o[8]!==t||o[9]!==i?(c=(0,a.jsx)(ec.ck,{ref:t,className:i,...n}),o[7]=n,o[8]=t,o[9]=i,o[10]=c):c=o[10],c});ep.displayName=ec.ck.displayName,r.forwardRef((e,t)=>{let s,r,n,i,c,o,d,m=(0,l.c)(14);return m[0]!==e?({className:n,children:r,checked:s,...i}=e,m[0]=e,m[1]=s,m[2]=r,m[3]=n,m[4]=i):(s=m[1],r=m[2],n=m[3],i=m[4]),m[5]!==n?(c=C("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),m[5]=n,m[6]=c):c=m[6],m[7]===Symbol.for("react.memo_cache_sentinel")?(o=(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(ec.wU,{children:(0,a.jsx)(ed.Z,{className:"h-4 w-4"})})}),m[7]=o):o=m[7],m[8]!==s||m[9]!==r||m[10]!==i||m[11]!==t||m[12]!==c?(d=(0,a.jsxs)(ec.oC,{ref:t,className:c,checked:s,...i,children:[o,r]}),m[8]=s,m[9]=r,m[10]=i,m[11]=t,m[12]=c,m[13]=d):d=m[13],d}).displayName=ec.oC.displayName,r.forwardRef((e,t)=>{let s,r,n,i,c,o,d=(0,l.c)(12);return d[0]!==e?({className:r,children:s,...n}=e,d[0]=e,d[1]=s,d[2]=r,d[3]=n):(s=d[1],r=d[2],n=d[3]),d[4]!==r?(i=C("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),d[4]=r,d[5]=i):i=d[5],d[6]===Symbol.for("react.memo_cache_sentinel")?(c=(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(ec.wU,{children:(0,a.jsx)(em.Z,{className:"h-2 w-2 fill-current"})})}),d[6]=c):c=d[6],d[7]!==s||d[8]!==n||d[9]!==t||d[10]!==i?(o=(0,a.jsxs)(ec.Rk,{ref:t,className:i,...n,children:[c,s]}),d[7]=s,d[8]=n,d[9]=t,d[10]=i,d[11]=o):o=d[11],o}).displayName=ec.Rk.displayName,r.forwardRef((e,t)=>{let s,r,n,i,c,o=(0,l.c)(11);o[0]!==e?({className:s,inset:r,...n}=e,o[0]=e,o[1]=s,o[2]=r,o[3]=n):(s=o[1],r=o[2],n=o[3]);let d=r&&"pl-8";return o[4]!==s||o[5]!==d?(i=C("px-2 py-1.5 text-sm font-semibold",d,s),o[4]=s,o[5]=d,o[6]=i):i=o[6],o[7]!==n||o[8]!==t||o[9]!==i?(c=(0,a.jsx)(ec.__,{ref:t,className:i,...n}),o[7]=n,o[8]=t,o[9]=i,o[10]=c):c=o[10],c}).displayName=ec.__.displayName;let ef=r.forwardRef((e,t)=>{let s,r,n,i,c=(0,l.c)(9);return c[0]!==e?({className:s,...r}=e,c[0]=e,c[1]=s,c[2]=r):(s=c[1],r=c[2]),c[3]!==s?(n=C("-mx-1 my-1 h-px bg-muted",s),c[3]=s,c[4]=n):n=c[4],c[5]!==r||c[6]!==t||c[7]!==n?(i=(0,a.jsx)(ec.Z0,{ref:t,className:n,...r}),c[5]=r,c[6]=t,c[7]=n,c[8]=i):i=c[8],i});ef.displayName=ec.Z0.displayName;var ej=s(6802);let eg=(0,b.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ey=r.forwardRef((e,t)=>{let s,r,n,i,c,o,d,m=(0,l.c)(15);m[0]!==e?({className:s,variant:c,size:n,asChild:i,...r}=e,m[0]=e,m[1]=s,m[2]=r,m[3]=n,m[4]=i,m[5]=c):(s=m[1],r=m[2],n=m[3],i=m[4],c=m[5]);let u=void 0!==i&&i?ej.g7:"button";return m[6]!==s||m[7]!==n||m[8]!==c?(o=C(eg({variant:c,size:n,className:s})),m[6]=s,m[7]=n,m[8]=c,m[9]=o):o=m[9],m[10]!==u||m[11]!==r||m[12]!==t||m[13]!==o?(d=(0,a.jsx)(u,{className:o,ref:t,...r}),m[10]=u,m[11]=r,m[12]=t,m[13]=o,m[14]=d):d=m[14],d});ey.displayName="Button";let ev=()=>{let e=K(),[,t]=(0,i.TH)(),s=(0,r.useCallback)(async function(s,a){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/dashboard",{error:n}=await e.signIn(s,a);return n||t(r),{error:n}},[e,t]),a=(0,r.useCallback)(async function(s,a,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"/registration-success",{error:l}=await e.signUp(s,a,r);return l||t(n),{error:l}},[e,t]),n=(0,r.useCallback)(async function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/login",{error:a}=await e.signOut();return a||t(s),{error:a}},[e,t]),l=!!(e.user&&e.session);return{...e,loginAndRedirect:s,signUpAndRedirect:a,logoutAndRedirect:n,isAuthenticated:l}};function eN(){let e,t,s,r,n,c,o,d,m,u,x,h,p,f,j,g,y,v,N,b,w,_,S,C,P,A,k,D,Z,I,T,O,E,M=(0,l.c)(68),[F]=(0,i.TH)(),{logoutAndRedirect:R,user:$}=ev(),U=(null==$?void 0:$.email)||"";M[0]!==(null==$?void 0:$.user_metadata)?(e=(null==$?void 0:$.user_metadata)||{},M[0]=null==$?void 0:$.user_metadata,M[1]=e):e=M[1];let z=e;M[2]!==U||M[3]!==z.full_name||M[4]!==z.name?(t=z.full_name||z.name||U.split("@")[0],M[2]=U,M[3]=z.full_name,M[4]=z.name,M[5]=t):t=M[5];let L=t;M[6]!==L?(s=L.split(" ").map(eb).join("").toUpperCase().slice(0,2)||"U",M[6]=L,M[7]=s):s=M[7];let V=s;if(M[8]!==F||M[9]!==R){let e;M[18]!==R?(e=async()=>{try{let{error:e}=await R("/login");e&&console.error("Logout error:",e)}catch(e){console.error("Unexpected logout error:",e)}},M[18]=R,M[19]=e):e=M[19],r=e,x="bg-white shadow-sm border-b border-gray-200 sticky top-0 z-50",u="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",m="flex justify-between items-center h-16",o="flex items-center space-x-4",M[20]===Symbol.for("react.memo_cache_sentinel")?(d=(0,a.jsx)("div",{className:"w-[82px]",children:(0,a.jsx)("img",{src:"/images/netra-AI-logo.png",alt:"logo",className:"w-full h-full"})}),M[20]=d):d=M[20],n="hidden md:flex space-x-8 ml-8",c=[{path:"/dashboard",label:"Dashboard"},{path:"/patients",label:"Patients"},{path:"/appointments",label:"Appointments"},{path:"/procedures",label:"Procedures"},{path:"/ai-diagnosis",label:"AI Diagnosis"},{path:"/billing",label:"Billing"}].map(e=>{var t;return(0,a.jsx)(i.rU,{href:e.path,className:`font-medium pb-4 transition-colors ${("/dashboard"===(t=e.path)?"/"===F||"/dashboard"===F:F===t)?"text-medical-blue border-b-2 border-medical-blue":"text-gray-500 hover:text-medical-blue"}`,children:e.label},e.path)}),M[8]=F,M[9]=R,M[10]=r,M[11]=n,M[12]=c,M[13]=o,M[14]=d,M[15]=m,M[16]=u,M[17]=x}else r=M[10],n=M[11],c=M[12],o=M[13],d=M[14],m=M[15],u=M[16],x=M[17];return M[21]!==n||M[22]!==c?(h=(0,a.jsx)("nav",{className:n,children:c}),M[21]=n,M[22]=c,M[23]=h):h=M[23],M[24]!==h||M[25]!==o||M[26]!==d?(p=(0,a.jsxs)("div",{className:o,children:[d,h]}),M[24]=h,M[25]=o,M[26]=d,M[27]=p):p=M[27],M[28]===Symbol.for("react.memo_cache_sentinel")?(f=(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(ea.Z,{className:"text-gray-400 text-lg cursor-pointer hover:text-medical-blue"}),(0,a.jsx)("span",{className:"absolute -top-1 -right-1 bg-alert-orange text-white text-xs rounded-full w-4 h-4 flex items-center justify-center",children:"3"})]}),M[28]=f):f=M[28],M[29]!==V?(j=(0,a.jsx)("div",{className:"w-8 h-8 bg-medical-blue rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white text-sm font-medium",children:V})}),M[29]=V,M[30]=j):j=M[30],M[31]!==L?(g=(0,a.jsx)("span",{className:"hidden sm:block text-sm font-medium",children:L}),M[31]=L,M[32]=g):g=M[32],M[33]===Symbol.for("react.memo_cache_sentinel")?(y=(0,a.jsx)(er.Z,{className:"text-gray-400 text-sm"}),M[33]=y):y=M[33],M[34]!==j||M[35]!==g?(v=(0,a.jsx)(ex,{asChild:!0,children:(0,a.jsxs)(ey,{variant:"ghost",className:"flex items-center space-x-2 h-auto p-2",children:[j,g,y]})}),M[34]=j,M[35]=g,M[36]=v):v=M[36],M[37]!==L?(N=(0,a.jsx)("p",{className:"text-sm font-medium",children:L}),M[37]=L,M[38]=N):N=M[38],M[39]!==U?(b=(0,a.jsx)("p",{className:"text-xs text-gray-500",children:U}),M[39]=U,M[40]=b):b=M[40],M[41]!==N||M[42]!==b?(w=(0,a.jsxs)("div",{className:"px-2 py-2",children:[N,b]}),M[41]=N,M[42]=b,M[43]=w):w=M[43],M[44]===Symbol.for("react.memo_cache_sentinel")?(_=(0,a.jsx)(ef,{}),M[44]=_):_=M[44],M[45]===Symbol.for("react.memo_cache_sentinel")?(S=(0,a.jsxs)(ep,{children:[(0,a.jsx)(en.Z,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{children:"Profile"})]}),M[45]=S):S=M[45],M[46]===Symbol.for("react.memo_cache_sentinel")?(C=(0,a.jsxs)(ep,{children:[(0,a.jsx)(el.Z,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{children:"Settings"})]}),P=(0,a.jsx)(ef,{}),M[46]=C,M[47]=P):(C=M[46],P=M[47]),M[48]===Symbol.for("react.memo_cache_sentinel")?(A=(0,a.jsx)(ei.Z,{className:"mr-2 h-4 w-4"}),k=(0,a.jsx)("span",{children:"Log out"}),M[48]=A,M[49]=k):(A=M[48],k=M[49]),M[50]!==r?(D=(0,a.jsxs)(ep,{onClick:r,className:"text-red-600",children:[A,k]}),M[50]=r,M[51]=D):D=M[51],M[52]!==w||M[53]!==D?(Z=(0,a.jsxs)(eh,{align:"end",className:"w-56",children:[w,_,S,C,P,D]}),M[52]=w,M[53]=D,M[54]=Z):Z=M[54],M[55]!==v||M[56]!==Z?(I=(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[f,(0,a.jsxs)(eu,{children:[v,Z]})]}),M[55]=v,M[56]=Z,M[57]=I):I=M[57],M[58]!==p||M[59]!==I||M[60]!==m?(T=(0,a.jsxs)("div",{className:m,children:[p,I]}),M[58]=p,M[59]=I,M[60]=m,M[61]=T):T=M[61],M[62]!==T||M[63]!==u?(O=(0,a.jsx)("div",{className:u,children:T}),M[62]=T,M[63]=u,M[64]=O):O=M[64],M[65]!==O||M[66]!==x?(E=(0,a.jsx)("header",{className:x,children:O}),M[65]=O,M[66]=x,M[67]=E):E=M[67],E}function eb(e){return e.charAt(0)}var ew=s(12690),e_=s(10631),eS=s(58018),eC=s(9071),eP=s(469);function eA(e){let t,s,r,n,i=(0,l.c)(8);return i[0]!==e?({className:t,...s}=e,i[0]=e,i[1]=t,i[2]=s):(t=i[1],s=i[2]),i[3]!==t?(r=C("animate-pulse rounded-md bg-muted",t),i[3]=t,i[4]=r):r=i[4],i[5]!==s||i[6]!==r?(n=(0,a.jsx)("div",{className:r,...s}),i[5]=s,i[6]=r,i[7]=n):n=i[7],n}function ek(e){let t,s,r,n,i,c,o=(0,l.c)(16),{stats:d,isLoading:m}=e;if(m){let e;return o[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:Array.from({length:4}).map(eZ)}),o[0]=e):e=o[0],e}let u=(null==d?void 0:d.todayAppointments)||0;o[1]!==u?(t={title:"Today's Appointments",value:u,icon:e_.Z,color:"medical-blue",trend:"+8%",trendLabel:"from yesterday"},o[1]=u,o[2]=t):t=o[2];let x=(null==d?void 0:d.totalPatients)||0;o[3]!==x?(s={title:"Total Patients",value:x,icon:eS.Z,color:"healthcare-green",trend:"+12",trendLabel:"new this week"},o[3]=x,o[4]=s):s=o[4];let h=(null==d?void 0:d.aiDiagnoses)||0;o[5]!==h?(r={title:"AI Diagnoses",value:h,icon:eC.Z,color:"diagnostic-purple",trend:"94%",trendLabel:"accuracy rate"},o[5]=h,o[6]=r):r=o[6];let p=`$${((null==d?void 0:d.monthlyRevenue)||0).toLocaleString()}`;o[7]!==p?(n={title:"Revenue",value:p,icon:eP.Z,color:"healthcare-green",trend:"+15%",trendLabel:"from last month"},o[7]=p,o[8]=n):n=o[8],o[9]!==t||o[10]!==s||o[11]!==r||o[12]!==n?(i=[t,s,r,n],o[9]=t,o[10]=s,o[11]=r,o[12]=n,o[13]=i):i=o[13];let f=i;return o[14]!==f?(c=(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:f.map(eD)}),o[14]=f,o[15]=c):c=o[15],c}function eD(e,t){return(0,a.jsxs)("div",{className:"medical-card",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:e.title}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-professional-dark mt-1",children:e.value})]}),(0,a.jsx)("div",{className:`w-12 h-12 bg-${e.color}/10 rounded-lg flex items-center justify-center`,children:(0,a.jsx)(e.icon,{className:`text-${e.color} text-lg`})})]}),(0,a.jsxs)("div",{className:"mt-4 flex items-center text-sm",children:[(0,a.jsx)("span",{className:"text-healthcare-green font-medium",children:e.trend}),(0,a.jsx)("span",{className:"text-gray-500 ml-1",children:e.trendLabel})]})]},t)}function eZ(e,t){return(0,a.jsx)("div",{className:"medical-card",children:(0,a.jsx)(eA,{className:"h-16 w-full"})},t)}s(40914),s(73595);var eI=s(74841);function eT(){let e,t,s,r,n,i,c,o=(0,l.c)(13);o[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,eI.WU)(new Date,"yyyy-MM-dd"),o[0]=e):e=o[0];let d=e;o[1]===Symbol.for("react.memo_cache_sentinel")?(t={queryKey:["/api/appointments",{date:d}]},o[1]=t):t=o[1];let{data:m,isLoading:u}=(0,ew.a)(t);o[2]===Symbol.for("react.memo_cache_sentinel")?(s={queryKey:["/api/patients"]},o[2]=s):s=o[2];let{data:x}=(0,ew.a)(s);o[3]!==x?(r=e=>{let t=null==x?void 0:x.find(t=>t.id===e);return t?`${t.firstName} ${t.lastName}`:"Unknown Patient"},o[3]=x,o[4]=r):r=o[4];let h=r;if(u){let e,t;return o[5]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-professional-dark",children:"Today's Schedule"}),(0,a.jsx)("button",{className:"text-medical-blue hover:text-blue-700 text-sm font-medium",children:"View All"})]}),o[5]=e):e=o[5],o[6]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsxs)("div",{className:"medical-card",children:[e,(0,a.jsx)("div",{className:"space-y-4",children:Array.from({length:3}).map(eO)})]}),o[6]=t):t=o[6],t}return o[7]===Symbol.for("react.memo_cache_sentinel")?(n=(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-professional-dark",children:"Today's Schedule"}),(0,a.jsx)("button",{className:"text-medical-blue hover:text-blue-700 text-sm font-medium",children:"View All"})]}),o[7]=n):n=o[7],o[8]!==m||o[9]!==h?(i=(null==m?void 0:m.length)===0?(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No appointments scheduled for today"}):null==m?void 0:m.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"w-2 h-12 bg-medical-blue rounded-full"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-professional-dark",children:h(e.patientId)}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.procedure}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Dr. ",e.doctorName]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"font-medium text-professional-dark",children:e.appointmentTime}),(0,a.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${function(e){switch(e){case"confirmed":return"medical-badge-normal";case"in-progress":return"bg-yellow-100 text-yellow-800";case"urgent":return"medical-badge-urgent";default:return"bg-gray-100 text-gray-800"}}(e.status)}`,children:function(e){switch(e){case"confirmed":return"Confirmed";case"in-progress":return"In Progress";case"urgent":return"Urgent";case"completed":return"Completed";case"cancelled":return"Cancelled";default:return"Scheduled"}}(e.status)})]})]},e.id)),o[8]=m,o[9]=h,o[10]=i):i=o[10],o[11]!==i?(c=(0,a.jsxs)("div",{className:"medical-card",children:[n,(0,a.jsx)("div",{className:"space-y-4",children:i})]}),o[11]=i,o[12]=c):c=o[12],c}function eO(e,t){return(0,a.jsx)(eA,{className:"h-20 w-full"},t)}s(86658),s(8759),s(52741);var eE=s(58115),eM=s(7474),eF=s(716),eR=s(96893),e$=s(53733),eU=s(71223),ez=s(68983);function eL(){var e,t;let s,n,i,c,o,d,m,u,x,h,p,f,j,g,y,N,b,_=(0,l.c)(43),[S,C]=(0,r.useState)(null),[P,A]=(0,r.useState)(null),[k,D]=(0,r.useState)(null),{toast:Z}=v(),I=[];_[0]===Symbol.for("react.memo_cache_sentinel")?(s={queryKey:["/api/patients"]},_[0]=s):s=_[0];let{data:T}=(0,ew.a)(s);_[1]!==(null==T||null==(e=T[0])?void 0:e.id)||_[2]!==S||_[3]!==Z?(n=e=>{var t;D(e),null==T||null==(t=T[0])||t.id,function(e){let t=Math.max(e.diabetic_retinopathy.severity_level,e.glaucoma.severity_level);0===t||1===t||2===t||t>=3}(e),e.diabetic_retinopathy.confidence,e.glaucoma.confidence,Z({title:"Analysis Complete",description:"Image has been successfully analyzed.",variant:"default"})},_[1]=null==T||null==(t=T[0])?void 0:t.id,_[2]=S,_[3]=Z,_[4]=n):n=_[4],_[5]!==Z?(i=e=>{Z({title:"Analysis Failed",description:e.message||"Failed to analyze the image. Please try again.",variant:"destructive"})},_[5]=Z,_[6]=i):i=_[6],_[7]!==n||_[8]!==i?(c={mutationFn:eH,onSuccess:n,onError:i},_[7]=n,_[8]=i,_[9]=c):c=_[9];let O=(0,eE.D)(c);_[10]!==Z?(o=e=>{var t;let s=null==(t=e.target.files)?void 0:t[0];if(s){if(!s.type.startsWith("image/"))return void Z({title:"Invalid File Type",description:"Please select an image file (PNG, JPG, JPEG).",variant:"destructive"});if(s.size>0xa00000)return void Z({title:"File Too Large",description:"Please select an image smaller than 10MB.",variant:"destructive"});A(s),D(null),C(URL.createObjectURL(s))}},_[10]=Z,_[11]=o):o=_[11];let E=o;_[12]!==O||_[13]!==P?(d=()=>{P&&O.mutate(P)},_[12]=O,_[13]=P,_[14]=d):d=_[14];let M=d;_[15]!==S?(m=()=>{A(null),D(null),S&&URL.revokeObjectURL(S),C(null)},_[15]=S,_[16]=m):m=_[16];let F=m,R=eq,$=eB;_[17]===Symbol.for("react.memo_cache_sentinel")?(u=(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-diagnostic-purple/10 rounded-lg flex items-center justify-center",children:(0,a.jsx)(eC.Z,{className:"text-diagnostic-purple"})}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-professional-dark",children:"AI Fundus Analysis"})]}),(0,a.jsx)("span",{className:"text-xs bg-diagnostic-purple/10 text-diagnostic-purple px-2 py-1 rounded-full",children:"BETA"})]}),_[17]=u):u=_[17],_[18]===Symbol.for("react.memo_cache_sentinel")?(p=(0,a.jsx)("div",{className:"w-16 h-16 bg-diagnostic-purple/10 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(eM.Z,{className:"text-diagnostic-purple text-2xl"})}),x=(0,a.jsx)("h4",{className:"text-lg font-medium text-professional-dark mb-2",children:"Upload Fundus Photography"}),h=(0,a.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"Our AI model can detect diabetic retinopathy, glaucoma, and macular degeneration with 94% accuracy"}),_[18]=x,_[19]=h,_[20]=p):(x=_[18],h=_[19],p=_[20]),_[21]!==k||_[22]!==O||_[23]!==M||_[24]!==E||_[25]!==F||_[26]!==S||_[27]!==P?(f=(0,a.jsx)("div",{className:"bg-gradient-to-r from-diagnostic-purple/5 to-medical-blue/5 rounded-lg p-6 mb-6",children:(0,a.jsxs)("div",{className:"text-center",children:[p,x,h,S?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"relative inline-block",children:[(0,a.jsx)("img",{src:S,alt:"Fundus preview",className:"max-w-full max-h-64 rounded-lg shadow-md"}),(0,a.jsx)("button",{onClick:F,className:"absolute top-2 right-2 bg-red-500 hover:bg-red-600 text-white rounded-full p-1 transition-colors",children:(0,a.jsx)(w.Z,{className:"w-4 h-4"})})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"File:"})," ",null==P?void 0:P.name]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Size:"})," ",P?(P.size/1024/1024).toFixed(2):0," MB"]})]}),!k&&(0,a.jsxs)("div",{className:"flex gap-2 justify-center",children:[(0,a.jsxs)(ey,{onClick:M,disabled:O.isPending,className:"bg-diagnostic-purple hover:bg-diagnostic-purple/90",children:[(0,a.jsx)(eC.Z,{className:"w-4 h-4 mr-2"}),O.isPending?"Analyzing...":"Analyze Image"]}),(0,a.jsx)(ey,{onClick:F,variant:"outline",disabled:O.isPending,children:"Upload Different Image"})]})]}):(0,a.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8",children:[(0,a.jsx)("input",{type:"file",id:"fundus-upload",className:"hidden",accept:"image/*",onChange:E}),(0,a.jsx)("label",{htmlFor:"fundus-upload",className:"cursor-pointer",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(eM.Z,{className:"text-4xl text-gray-400 mb-4 mx-auto"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Click to upload or drag and drop"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"PNG, JPG, JPEG up to 10MB"})]})})]})]})}),_[21]=k,_[22]=O,_[23]=M,_[24]=E,_[25]=F,_[26]=S,_[27]=P,_[28]=f):f=_[28],_[29]!==k||_[30]!==F?(j=k&&(0,a.jsxs)("div",{className:"mb-6 space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("h4",{className:"font-medium text-professional-dark flex items-center",children:[(0,a.jsx)(eF.Z,{className:"w-5 h-5 mr-2 text-diagnostic-purple"}),"Analysis Results"]}),(0,a.jsx)(ey,{onClick:F,variant:"outline",size:"sm",children:"New Analysis"})]}),(0,a.jsxs)("div",{className:"medical-card bg-white border border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[R(k.diabetic_retinopathy.prediction),(0,a.jsx)("h5",{className:"font-medium text-professional-dark",children:"Diabetic Retinopathy"})]}),(0,a.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${$(k.diabetic_retinopathy.severity_level)}`,children:k.diabetic_retinopathy.prediction})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Confidence"}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[(100*k.diabetic_retinopathy.confidence).toFixed(1),"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-diagnostic-purple h-2 rounded-full transition-all duration-500",style:{width:`${100*k.diabetic_retinopathy.confidence}%`}})}),(0,a.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:(0,a.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,a.jsx)(eR.Z,{className:"w-4 h-4 text-blue-600 mt-0.5"}),(0,a.jsx)("p",{className:"text-sm text-blue-800",children:k.diabetic_retinopathy.doctor_note})]})}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h6",{className:"text-xs font-medium text-gray-700 uppercase tracking-wide",children:"Probability Breakdown"}),Object.entries(k.diabetic_retinopathy.probabilities).map(eW)]})]})]}),(0,a.jsxs)("div",{className:"medical-card bg-white border border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[R(k.glaucoma.prediction),(0,a.jsx)("h5",{className:"font-medium text-professional-dark",children:"Glaucoma"})]}),(0,a.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${$(k.glaucoma.severity_level)}`,children:k.glaucoma.prediction})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Confidence"}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[(100*k.glaucoma.confidence).toFixed(1),"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-medical-blue h-2 rounded-full transition-all duration-500",style:{width:`${100*k.glaucoma.confidence}%`}})}),(0,a.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:(0,a.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,a.jsx)(eR.Z,{className:"w-4 h-4 text-green-600 mt-0.5"}),(0,a.jsx)("p",{className:"text-sm text-green-800",children:k.glaucoma.doctor_note})]})}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h6",{className:"text-xs font-medium text-gray-700 uppercase tracking-wide",children:"Probability Breakdown"}),Object.entries(k.glaucoma.probabilities).map(eV)]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,a.jsx)(e$.Z,{className:"w-4 h-4 text-gray-500"}),(0,a.jsx)("h6",{className:"text-sm font-medium text-gray-700",children:"Analysis Details"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Request ID:"}),(0,a.jsx)("p",{className:"font-mono text-gray-800",children:k.meta.request_id})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Processing Time:"}),(0,a.jsxs)("p",{className:"text-gray-800",children:[k.meta.inference_time_ms,"ms"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Image Size:"}),(0,a.jsx)("p",{className:"text-gray-800",children:k.meta.image_size})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Model Version:"}),(0,a.jsx)("p",{className:"text-gray-800",children:k.meta.model_version})]})]})]})]}),_[29]=k,_[30]=F,_[31]=j):j=_[31],_[32]===Symbol.for("react.memo_cache_sentinel")?(g=(0,a.jsx)("h4",{className:"font-medium text-professional-dark mb-4",children:"Recent Analysis Results"}),_[32]=g):g=_[32];let U=(null==I?void 0:I.length)===0?(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No AI diagnoses available yet"}):null==I?void 0:I.slice(0,3).map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-diagnostic-purple/10 rounded-lg flex items-center justify-center",children:(0,a.jsx)(eC.Z,{className:"text-diagnostic-purple"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-professional-dark",children:(e=>{let t=null==T?void 0:T.find(t=>t.id===e);return t?`${t.firstName} ${t.lastName}`:"Unknown Patient"})(e.patientId)}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.diagnosis}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:(0,eI.WU)(new Date(e.createdAt),"MMM dd, yyyy HH:mm")})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${function(e){switch(e){case"normal":return"medical-badge-normal";case"mild":return"medical-badge-mild";case"moderate":return"bg-orange-100 text-orange-800";case"severe":return"medical-badge-urgent";default:return"bg-gray-100 text-gray-800"}}(e.severity)}`,children:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}(e.severity)}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[e.confidence,"% confidence"]})]})]},e.id));return _[33]!==U?(y=(0,a.jsx)("div",{className:"space-y-3",children:U}),_[33]=U,_[34]=y):y=_[34],_[35]!==g||_[36]!==y?(N=(0,a.jsxs)("div",{children:[g,y]}),_[35]=g,_[36]=y,_[37]=N):N=_[37],_[38]!==f||_[39]!==j||_[40]!==N||_[41]!==u?(b=(0,a.jsxs)("div",{className:"medical-card",children:[u,f,j,N]}),_[38]=f,_[39]=j,_[40]=N,_[41]=u,_[42]=b):b=_[42],b}function eV(e){let[t,s]=e;return(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsx)("span",{className:"text-gray-600",children:t}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-16 bg-gray-200 rounded-full h-1",children:(0,a.jsx)("div",{className:"bg-medical-blue h-1 rounded-full",style:{width:`${100*s}%`}})}),(0,a.jsxs)("span",{className:"text-gray-800 font-medium min-w-[3rem] text-right",children:[(100*s).toFixed(1),"%"]})]})]},t)}function eW(e){let[t,s]=e;return(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsx)("span",{className:"text-gray-600",children:t}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-16 bg-gray-200 rounded-full h-1",children:(0,a.jsx)("div",{className:"bg-diagnostic-purple h-1 rounded-full",style:{width:`${100*s}%`}})}),(0,a.jsxs)("span",{className:"text-gray-800 font-medium min-w-[3rem] text-right",children:[(100*s).toFixed(1),"%"]})]})]},t)}function eB(e){return 0===e?"bg-green-100 text-green-800 border-green-200":1===e?"bg-yellow-100 text-yellow-800 border-yellow-200":2===e?"bg-orange-100 text-orange-800 border-orange-200":e>=3?"bg-red-100 text-red-800 border-red-200":"bg-gray-100 text-gray-800 border-gray-200"}function eq(e){return e.toLowerCase().includes("normal")||"no dr"===e.toLowerCase()?(0,a.jsx)(eU.Z,{className:"w-5 h-5 text-green-600"}):(0,a.jsx)(ez.Z,{className:"w-5 h-5 text-red-600"})}async function eH(e){return(await d("POST","/api/ai-diagnoses",e)).json()}var eK=s(45077);let eG=r.forwardRef((e,t)=>{let s,r,n,i,c,o=(0,l.c)(11);return o[0]!==e?({className:s,type:n,...r}=e,o[0]=e,o[1]=s,o[2]=r,o[3]=n):(s=o[1],r=o[2],n=o[3]),o[4]!==s?(i=C("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),o[4]=s,o[5]=i):i=o[5],o[6]!==r||o[7]!==t||o[8]!==i||o[9]!==n?(c=(0,a.jsx)("input",{type:n,className:i,ref:t,...r}),o[6]=r,o[7]=t,o[8]=i,o[9]=n,o[10]=c):c=o[10],c});function eJ(){let e,t,s,n,i,c,o,d,m,u=(0,l.c)(27),[x,h]=(0,r.useState)("");u[0]===Symbol.for("react.memo_cache_sentinel")?(e={queryKey:["/api/patients"]},u[0]=e):e=u[0];let{data:p}=(0,ew.a)(e);if(u[1]!==p||u[2]!==x){let e,r,l,d=null==p?void 0:p.filter(e=>`${e.firstName} ${e.lastName}`.toLowerCase().includes(x.toLowerCase())||e.email.toLowerCase().includes(x.toLowerCase())).slice(0,5),m=eY;i="medical-card",u[9]===Symbol.for("react.memo_cache_sentinel")?(c=(0,a.jsx)("h3",{className:"text-lg font-semibold text-professional-dark mb-4",children:"Quick Patient Search"}),u[9]=c):c=u[9],u[10]===Symbol.for("react.memo_cache_sentinel")?(e=e=>h(e.target.value),u[10]=e):e=u[10],u[11]!==x?(r=(0,a.jsx)(eG,{type:"text",placeholder:"Search patients...",value:x,onChange:e,className:"pl-10"}),u[11]=x,u[12]=r):r=u[12],u[13]===Symbol.for("react.memo_cache_sentinel")?(l=(0,a.jsx)(eK.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),u[13]=l):l=u[13],u[14]!==r?(o=(0,a.jsxs)("div",{className:"relative mb-4",children:[r,l]}),u[14]=r,u[15]=o):o=u[15],t="space-y-3";let f=x?"Search Results":"Recent Patients";u[16]!==f?(s=(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:f}),u[16]=f,u[17]=s):s=u[17],n=(null==d?void 0:d.length)===0?(0,a.jsx)("div",{className:"text-center py-4 text-gray-500",children:x?"No patients found":"No patients available"}):null==d?void 0:d.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg cursor-pointer transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:`w-8 h-8 bg-${m(t)}/10 rounded-full flex items-center justify-center`,children:(0,a.jsx)("span",{className:`text-xs font-medium text-${m(t)}`,children:function(e,t){return`${e.charAt(0)}${t.charAt(0)}`.toUpperCase()}(e.firstName,e.lastName)})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-sm font-medium text-professional-dark",children:[e.firstName," ",e.lastName]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["Last visit: ",e.updatedAt?new Date(e.updatedAt).toLocaleDateString():"N/A"]})]})]}),(0,a.jsx)(eo.Z,{className:"h-4 w-4 text-gray-400"})]},e.id)),u[1]=p,u[2]=x,u[3]=t,u[4]=s,u[5]=n,u[6]=i,u[7]=c,u[8]=o}else t=u[3],s=u[4],n=u[5],i=u[6],c=u[7],o=u[8];return u[18]!==t||u[19]!==s||u[20]!==n?(d=(0,a.jsxs)("div",{className:t,children:[s,n]}),u[18]=t,u[19]=s,u[20]=n,u[21]=d):d=u[21],u[22]!==i||u[23]!==c||u[24]!==o||u[25]!==d?(m=(0,a.jsxs)("div",{className:i,children:[c,o,d]}),u[22]=i,u[23]=c,u[24]=o,u[25]=d,u[26]=m):m=u[26],m}function eY(e){let t=["medical-blue","healthcare-green","diagnostic-purple"];return t[e%t.length]}eG.displayName="Input";var eQ=s(70381);let eX=r.forwardRef((e,t)=>{let s,r,n,i,c,o=(0,l.c)(10);return o[0]!==e?({className:s,...r}=e,o[0]=e,o[1]=s,o[2]=r):(s=o[1],r=o[2]),o[3]!==s?(n=C("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),o[3]=s,o[4]=n):n=o[4],o[5]===Symbol.for("react.memo_cache_sentinel")?(i=(0,a.jsx)(eQ.z$,{className:C("flex items-center justify-center text-current"),children:(0,a.jsx)(ed.Z,{className:"h-4 w-4"})}),o[5]=i):i=o[5],o[6]!==r||o[7]!==t||o[8]!==n?(c=(0,a.jsx)(eQ.fC,{ref:t,className:n,...r,children:i}),o[6]=r,o[7]=t,o[8]=n,o[9]=c):c=o[9],c});function e0(){let e,t,s,r,n,i,c,o,d,m=(0,l.c)(22),x=(0,u.NL)();m[0]===Symbol.for("react.memo_cache_sentinel")?(e={queryKey:["/api/tasks",{assignedTo:"Dr. Rodriguez"}]},m[0]=e):e=m[0];let{data:h}=(0,ew.a)(e);m[1]!==x?(t={mutationFn:e2,onSuccess:()=>{x.invalidateQueries({queryKey:["/api/tasks"]})}},m[1]=x,m[2]=t):t=m[2];let p=(0,eE.D)(t);if(m[3]!==h||m[4]!==p){let e,t,l=null==h?void 0:h.filter(e1).slice(0,5);m[9]!==p?(e=(e,t)=>{p.mutate({taskId:e,status:t?"completed":"pending"})},m[9]=p,m[10]=e):e=m[10];let c=e;n="medical-card",m[11]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)("h3",{className:"text-lg font-semibold text-professional-dark",children:"Pending Tasks"}),m[11]=t):t=m[11];let o=(null==l?void 0:l.length)||0;m[12]!==o?(i=(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[t,(0,a.jsx)("span",{className:"bg-alert-orange/10 text-alert-orange text-xs px-2 py-1 rounded-full",children:o})]}),m[12]=o,m[13]=i):i=m[13],s="space-y-3",r=(null==l?void 0:l.length)===0?(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No pending tasks"}):null==l?void 0:l.map(e=>(0,a.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[(0,a.jsx)(eX,{className:"mt-1",checked:"completed"===e.status,onCheckedChange:t=>c(e.id,t)}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-professional-dark",children:e.title}),e.description&&(0,a.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[e.dueDate&&(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["Due: ",(0,eI.WU)(new Date(e.dueDate),"MMM dd, yyyy")]}),(0,a.jsx)("span",{className:`text-xs font-medium ${function(e){switch(e){case"urgent":return"text-alert-orange";case"high":return"text-red-600";case"medium":return"text-yellow-600";case"low":return"text-green-600";default:return"text-gray-600"}}(e.priority)}`,children:e.priority})]})]})]},e.id)),m[3]=h,m[4]=p,m[5]=s,m[6]=r,m[7]=n,m[8]=i}else s=m[5],r=m[6],n=m[7],i=m[8];return m[14]!==s||m[15]!==r?(c=(0,a.jsx)("div",{className:s,children:r}),m[14]=s,m[15]=r,m[16]=c):c=m[16],m[17]===Symbol.for("react.memo_cache_sentinel")?(o=(0,a.jsx)("button",{className:"w-full mt-4 text-center text-medical-blue text-sm font-medium hover:text-blue-700",children:"View All Tasks"}),m[17]=o):o=m[17],m[18]!==n||m[19]!==i||m[20]!==c?(d=(0,a.jsxs)("div",{className:n,children:[i,c,o]}),m[18]=n,m[19]=i,m[20]=c,m[21]=d):d=m[21],d}function e1(e){return"pending"===e.status}async function e2(e){let{taskId:t,status:s}=e;return(await d("PATCH",`/api/tasks/${t}`,{status:s})).json()}eX.displayName=eQ.fC.displayName;var e4=s(22474),e3=s(34465),e5=s(25568);function e6(){let e,t,s,r=(0,l.c)(3);r[0]===Symbol.for("react.memo_cache_sentinel")?(e=[{icon:e4.Z,label:"New Patient",href:"/patients",color:"medical-blue"},{icon:e3.Z,label:"Book Appointment",href:"/appointments",color:"healthcare-green"},{icon:eC.Z,label:"AI Analysis",href:"/ai-diagnosis",color:"diagnostic-purple"},{icon:e5.Z,label:"Generate Invoice",href:"/billing",color:"alert-orange"}],r[0]=e):e=r[0];let n=e;return r[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)("h3",{className:"text-lg font-semibold text-professional-dark mb-4",children:"Quick Actions"}),r[1]=t):t=r[1],r[2]===Symbol.for("react.memo_cache_sentinel")?(s=(0,a.jsxs)("div",{className:"medical-card",children:[t,(0,a.jsx)("div",{className:"grid grid-cols-2 gap-3",children:n.map(e8)})]}),r[2]=s):s=r[2],s}function e8(e,t){return(0,a.jsx)(i.rU,{href:e.href,children:(0,a.jsxs)("button",{className:`flex flex-col items-center justify-center p-4 bg-${e.color}/5 hover:bg-${e.color}/10 rounded-lg transition-colors w-full`,children:[(0,a.jsx)(e.icon,{className:`text-${e.color} text-xl mb-2`}),(0,a.jsx)("span",{className:`text-sm font-medium text-${e.color}`,children:e.label})]})},t)}function e7(){let e,t,s,r,n,i,c,o=(0,l.c)(10);o[0]===Symbol.for("react.memo_cache_sentinel")?(e={queryKey:["/api/dashboard/stats"]},o[0]=e):e=o[0];let{data:d,isLoading:m}=(0,ew.a)(e);return o[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-professional-dark",children:"Dashboard Overview"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Welcome back, Dr. Rodriguez. Here's your clinic overview for today."})]}),o[1]=t):t=o[1],o[2]===Symbol.for("react.memo_cache_sentinel")?(s=(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:[t,(0,a.jsx)("div",{className:"mt-4 sm:mt-0",children:(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:["Today: ",(0,a.jsx)("span",{className:"font-medium",children:new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})})]}),o[2]=s):s=o[2],o[3]!==m||o[4]!==d?(r=(0,a.jsxs)("div",{className:"mb-8",children:[s,(0,a.jsx)(ek,{stats:d,isLoading:m})]}),o[3]=m,o[4]=d,o[5]=r):r=o[5],o[6]===Symbol.for("react.memo_cache_sentinel")?(n=(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[(0,a.jsx)(eT,{}),(0,a.jsx)(eL,{})]}),o[6]=n):n=o[6],o[7]===Symbol.for("react.memo_cache_sentinel")?(i=(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n,(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsx)(eJ,{}),(0,a.jsx)(e0,{}),(0,a.jsx)(e6,{})]})]}),o[7]=i):i=o[7],o[8]!==r?(c=(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r,i]}),o[8]=r,o[9]=c):c=o[9],c}var e9=s(90388);let te=r.forwardRef((e,t)=>{let s,r,n,i,c=(0,l.c)(9);return c[0]!==e?({className:s,...r}=e,c[0]=e,c[1]=s,c[2]=r):(s=c[1],r=c[2]),c[3]!==s?(n=C("rounded-lg border bg-card text-card-foreground shadow-sm",s),c[3]=s,c[4]=n):n=c[4],c[5]!==r||c[6]!==t||c[7]!==n?(i=(0,a.jsx)("div",{ref:t,className:n,...r}),c[5]=r,c[6]=t,c[7]=n,c[8]=i):i=c[8],i});te.displayName="Card";let tt=r.forwardRef((e,t)=>{let s,r,n,i,c=(0,l.c)(9);return c[0]!==e?({className:s,...r}=e,c[0]=e,c[1]=s,c[2]=r):(s=c[1],r=c[2]),c[3]!==s?(n=C("flex flex-col space-y-1.5 p-6",s),c[3]=s,c[4]=n):n=c[4],c[5]!==r||c[6]!==t||c[7]!==n?(i=(0,a.jsx)("div",{ref:t,className:n,...r}),c[5]=r,c[6]=t,c[7]=n,c[8]=i):i=c[8],i});tt.displayName="CardHeader";let ts=r.forwardRef((e,t)=>{let s,r,n,i,c=(0,l.c)(9);return c[0]!==e?({className:s,...r}=e,c[0]=e,c[1]=s,c[2]=r):(s=c[1],r=c[2]),c[3]!==s?(n=C("text-2xl font-semibold leading-none tracking-tight",s),c[3]=s,c[4]=n):n=c[4],c[5]!==r||c[6]!==t||c[7]!==n?(i=(0,a.jsx)("div",{ref:t,className:n,...r}),c[5]=r,c[6]=t,c[7]=n,c[8]=i):i=c[8],i});ts.displayName="CardTitle";let ta=r.forwardRef((e,t)=>{let s,r,n,i,c=(0,l.c)(9);return c[0]!==e?({className:s,...r}=e,c[0]=e,c[1]=s,c[2]=r):(s=c[1],r=c[2]),c[3]!==s?(n=C("text-sm text-muted-foreground",s),c[3]=s,c[4]=n):n=c[4],c[5]!==r||c[6]!==t||c[7]!==n?(i=(0,a.jsx)("div",{ref:t,className:n,...r}),c[5]=r,c[6]=t,c[7]=n,c[8]=i):i=c[8],i});ta.displayName="CardDescription";let tr=r.forwardRef((e,t)=>{let s,r,n,i,c=(0,l.c)(9);return c[0]!==e?({className:s,...r}=e,c[0]=e,c[1]=s,c[2]=r):(s=c[1],r=c[2]),c[3]!==s?(n=C("p-6 pt-0",s),c[3]=s,c[4]=n):n=c[4],c[5]!==r||c[6]!==t||c[7]!==n?(i=(0,a.jsx)("div",{ref:t,className:n,...r}),c[5]=r,c[6]=t,c[7]=n,c[8]=i):i=c[8],i});tr.displayName="CardContent",r.forwardRef((e,t)=>{let s,r,n,i,c=(0,l.c)(9);return c[0]!==e?({className:s,...r}=e,c[0]=e,c[1]=s,c[2]=r):(s=c[1],r=c[2]),c[3]!==s?(n=C("flex items-center p-6 pt-0",s),c[3]=s,c[4]=n):n=c[4],c[5]!==r||c[6]!==t||c[7]!==n?(i=(0,a.jsx)("div",{ref:t,className:n,...r}),c[5]=r,c[6]=t,c[7]=n,c[8]=i):i=c[8],i}).displayName="CardFooter";let tn=(0,b.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function tl(e){let t,s,r,n,i,c=(0,l.c)(10);return c[0]!==e?({className:t,variant:r,...s}=e,c[0]=e,c[1]=t,c[2]=s,c[3]=r):(t=c[1],s=c[2],r=c[3]),c[4]!==t||c[5]!==r?(n=C(tn({variant:r}),t),c[4]=t,c[5]=r,c[6]=n):n=c[6],c[7]!==s||c[8]!==n?(i=(0,a.jsx)("div",{className:n,...s}),c[7]=s,c[8]=n,c[9]=i):i=c[9],i}var ti=s(30273),tc=s(55980),to=s(84319),td=s(79080);let tm=td.fC;td.xz;let tu=td.h_;td.x8;let tx=r.forwardRef((e,t)=>{let s,r,n,i,c=(0,l.c)(9);return c[0]!==e?({className:s,...r}=e,c[0]=e,c[1]=s,c[2]=r):(s=c[1],r=c[2]),c[3]!==s?(n=C("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),c[3]=s,c[4]=n):n=c[4],c[5]!==r||c[6]!==t||c[7]!==n?(i=(0,a.jsx)(td.aV,{ref:t,className:n,...r}),c[5]=r,c[6]=t,c[7]=n,c[8]=i):i=c[8],i});tx.displayName=td.aV.displayName;let th=r.forwardRef((e,t)=>{let s,r,n,i,c,o,d,m=(0,l.c)(13);return m[0]!==e?({className:r,children:s,...n}=e,m[0]=e,m[1]=s,m[2]=r,m[3]=n):(s=m[1],r=m[2],n=m[3]),m[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,a.jsx)(tx,{}),m[4]=i):i=m[4],m[5]!==r?(c=C("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 origin-center data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 sm:rounded-lg",r),m[5]=r,m[6]=c):c=m[6],m[7]===Symbol.for("react.memo_cache_sentinel")?(o=(0,a.jsxs)(td.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(w.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]}),m[7]=o):o=m[7],m[8]!==s||m[9]!==n||m[10]!==t||m[11]!==c?(d=(0,a.jsxs)(tu,{children:[i,(0,a.jsxs)(td.VY,{ref:t,className:c,...n,children:[s,o]})]}),m[8]=s,m[9]=n,m[10]=t,m[11]=c,m[12]=d):d=m[12],d});th.displayName=td.VY.displayName;let tp=e=>{let t,s,r,n,i=(0,l.c)(8);return i[0]!==e?({className:t,...s}=e,i[0]=e,i[1]=t,i[2]=s):(t=i[1],s=i[2]),i[3]!==t?(r=C("flex flex-col space-y-1.5 text-center sm:text-left",t),i[3]=t,i[4]=r):r=i[4],i[5]!==s||i[6]!==r?(n=(0,a.jsx)("div",{className:r,...s}),i[5]=s,i[6]=r,i[7]=n):n=i[7],n};tp.displayName="DialogHeader";let tf=r.forwardRef((e,t)=>{let s,r,n,i,c=(0,l.c)(9);return c[0]!==e?({className:s,...r}=e,c[0]=e,c[1]=s,c[2]=r):(s=c[1],r=c[2]),c[3]!==s?(n=C("text-lg font-semibold leading-none tracking-tight",s),c[3]=s,c[4]=n):n=c[4],c[5]!==r||c[6]!==t||c[7]!==n?(i=(0,a.jsx)(td.Dx,{ref:t,className:n,...r}),c[5]=r,c[6]=t,c[7]=n,c[8]=i):i=c[8],i});tf.displayName=td.Dx.displayName,r.forwardRef((e,t)=>{let s,r,n,i,c=(0,l.c)(9);return c[0]!==e?({className:s,...r}=e,c[0]=e,c[1]=s,c[2]=r):(s=c[1],r=c[2]),c[3]!==s?(n=C("text-sm text-muted-foreground",s),c[3]=s,c[4]=n):n=c[4],c[5]!==r||c[6]!==t||c[7]!==n?(i=(0,a.jsx)(td.dk,{ref:t,className:n,...r}),c[5]=r,c[6]=t,c[7]=n,c[8]=i):i=c[8],i}).displayName=td.dk.displayName;var tj=s(31761),tg=s(33170);let ty=tj.fC;tj.ZA;let tv=tj.B4,tN=r.forwardRef((e,t)=>{let s,r,n,i,c,o,d=(0,l.c)(12);return d[0]!==e?({className:r,children:s,...n}=e,d[0]=e,d[1]=s,d[2]=r,d[3]=n):(s=d[1],r=d[2],n=d[3]),d[4]!==r?(i=C("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),d[4]=r,d[5]=i):i=d[5],d[6]===Symbol.for("react.memo_cache_sentinel")?(c=(0,a.jsx)(tj.JO,{asChild:!0,children:(0,a.jsx)(er.Z,{className:"h-4 w-4 opacity-50"})}),d[6]=c):c=d[6],d[7]!==s||d[8]!==n||d[9]!==t||d[10]!==i?(o=(0,a.jsxs)(tj.xz,{ref:t,className:i,...n,children:[s,c]}),d[7]=s,d[8]=n,d[9]=t,d[10]=i,d[11]=o):o=d[11],o});tN.displayName=tj.xz.displayName;let tb=r.forwardRef((e,t)=>{let s,r,n,i,c,o=(0,l.c)(10);return o[0]!==e?({className:s,...r}=e,o[0]=e,o[1]=s,o[2]=r):(s=o[1],r=o[2]),o[3]!==s?(n=C("flex cursor-default items-center justify-center py-1",s),o[3]=s,o[4]=n):n=o[4],o[5]===Symbol.for("react.memo_cache_sentinel")?(i=(0,a.jsx)(tg.Z,{className:"h-4 w-4"}),o[5]=i):i=o[5],o[6]!==r||o[7]!==t||o[8]!==n?(c=(0,a.jsx)(tj.u_,{ref:t,className:n,...r,children:i}),o[6]=r,o[7]=t,o[8]=n,o[9]=c):c=o[9],c});tb.displayName=tj.u_.displayName;let tw=r.forwardRef((e,t)=>{let s,r,n,i,c,o=(0,l.c)(10);return o[0]!==e?({className:s,...r}=e,o[0]=e,o[1]=s,o[2]=r):(s=o[1],r=o[2]),o[3]!==s?(n=C("flex cursor-default items-center justify-center py-1",s),o[3]=s,o[4]=n):n=o[4],o[5]===Symbol.for("react.memo_cache_sentinel")?(i=(0,a.jsx)(er.Z,{className:"h-4 w-4"}),o[5]=i):i=o[5],o[6]!==r||o[7]!==t||o[8]!==n?(c=(0,a.jsx)(tj.$G,{ref:t,className:n,...r,children:i}),o[6]=r,o[7]=t,o[8]=n,o[9]=c):c=o[9],c});tw.displayName=tj.$G.displayName;let t_=r.forwardRef((e,t)=>{let s,r,n,i,c,o,d,m,u,x,h=(0,l.c)(21);h[0]!==e?({className:r,children:s,position:i,...n}=e,h[0]=e,h[1]=s,h[2]=r,h[3]=n,h[4]=i):(s=h[1],r=h[2],n=h[3],i=h[4]);let p=void 0===i?"popper":i,f="popper"===p&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1";h[5]!==r||h[6]!==f?(c=C("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",f,r),h[5]=r,h[6]=f,h[7]=c):c=h[7],h[8]===Symbol.for("react.memo_cache_sentinel")?(o=(0,a.jsx)(tb,{}),h[8]=o):o=h[8];let j="popper"===p&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]";return h[9]!==j?(d=C("p-1",j),h[9]=j,h[10]=d):d=h[10],h[11]!==s||h[12]!==d?(m=(0,a.jsx)(tj.l_,{className:d,children:s}),h[11]=s,h[12]=d,h[13]=m):m=h[13],h[14]===Symbol.for("react.memo_cache_sentinel")?(u=(0,a.jsx)(tw,{}),h[14]=u):u=h[14],h[15]!==p||h[16]!==n||h[17]!==t||h[18]!==c||h[19]!==m?(x=(0,a.jsx)(tj.h_,{children:(0,a.jsxs)(tj.VY,{ref:t,className:c,position:p,...n,children:[o,m,u]})}),h[15]=p,h[16]=n,h[17]=t,h[18]=c,h[19]=m,h[20]=x):x=h[20],x});t_.displayName=tj.VY.displayName,r.forwardRef((e,t)=>{let s,r,n,i,c=(0,l.c)(9);return c[0]!==e?({className:s,...r}=e,c[0]=e,c[1]=s,c[2]=r):(s=c[1],r=c[2]),c[3]!==s?(n=C("py-1.5 pl-8 pr-2 text-sm font-semibold",s),c[3]=s,c[4]=n):n=c[4],c[5]!==r||c[6]!==t||c[7]!==n?(i=(0,a.jsx)(tj.__,{ref:t,className:n,...r}),c[5]=r,c[6]=t,c[7]=n,c[8]=i):i=c[8],i}).displayName=tj.__.displayName;let tS=r.forwardRef((e,t)=>{let s,r,n,i,c,o,d,m=(0,l.c)(14);return m[0]!==e?({className:r,children:s,...n}=e,m[0]=e,m[1]=s,m[2]=r,m[3]=n):(s=m[1],r=m[2],n=m[3]),m[4]!==r?(i=C("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),m[4]=r,m[5]=i):i=m[5],m[6]===Symbol.for("react.memo_cache_sentinel")?(c=(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(tj.wU,{children:(0,a.jsx)(ed.Z,{className:"h-4 w-4"})})}),m[6]=c):c=m[6],m[7]!==s?(o=(0,a.jsx)(tj.eT,{children:s}),m[7]=s,m[8]=o):o=m[8],m[9]!==n||m[10]!==t||m[11]!==i||m[12]!==o?(d=(0,a.jsxs)(tj.ck,{ref:t,className:i,...n,children:[c,o]}),m[9]=n,m[10]=t,m[11]=i,m[12]=o,m[13]=d):d=m[13],d});tS.displayName=tj.ck.displayName,r.forwardRef((e,t)=>{let s,r,n,i,c=(0,l.c)(9);return c[0]!==e?({className:s,...r}=e,c[0]=e,c[1]=s,c[2]=r):(s=c[1],r=c[2]),c[3]!==s?(n=C("-mx-1 my-1 h-px bg-muted",s),c[3]=s,c[4]=n):n=c[4],c[5]!==r||c[6]!==t||c[7]!==n?(i=(0,a.jsx)(tj.Z0,{ref:t,className:n,...r}),c[5]=r,c[6]=t,c[7]=n,c[8]=i):i=c[8],i}).displayName=tj.Z0.displayName;let tC=r.forwardRef((e,t)=>{let s,r,n,i,c=(0,l.c)(9);return c[0]!==e?({className:s,...r}=e,c[0]=e,c[1]=s,c[2]=r):(s=c[1],r=c[2]),c[3]!==s?(n=C("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),c[3]=s,c[4]=n):n=c[4],c[5]!==r||c[6]!==t||c[7]!==n?(i=(0,a.jsx)("textarea",{className:n,ref:t,...r}),c[5]=r,c[6]=t,c[7]=n,c[8]=i):i=c[8],i});tC.displayName="Textarea";var tP=s(95537),tA=s(4996),tk=s(49597);let tD=(0,b.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),tZ=r.forwardRef((e,t)=>{let s,r,n,i,c=(0,l.c)(9);return c[0]!==e?({className:s,...r}=e,c[0]=e,c[1]=s,c[2]=r):(s=c[1],r=c[2]),c[3]!==s?(n=C(tD(),s),c[3]=s,c[4]=n):n=c[4],c[5]!==r||c[6]!==t||c[7]!==n?(i=(0,a.jsx)(tk.f,{ref:t,className:n,...r}),c[5]=r,c[6]=t,c[7]=n,c[8]=i):i=c[8],i});tZ.displayName=tk.f.displayName;let tI=tP.RV,tT=r.createContext({}),tO=e=>{let t,s,r,n,i=(0,l.c)(9);return i[0]!==e?({...t}=e,i[0]=e,i[1]=t):t=i[1],i[2]!==t.name?(s={name:t.name},i[2]=t.name,i[3]=s):s=i[3],i[4]!==t?(r=(0,a.jsx)(tP.Qr,{...t}),i[4]=t,i[5]=r):r=i[5],i[6]!==s||i[7]!==r?(n=(0,a.jsx)(tT.Provider,{value:s,children:r}),i[6]=s,i[7]=r,i[8]=n):n=i[8],n},tE=()=>{let e,t,s=(0,l.c)(11),a=r.useContext(tT),n=r.useContext(tM),{getFieldState:i,formState:c}=(0,tP.Gc)();s[0]!==a.name||s[1]!==c||s[2]!==i?(e=i(a.name,c),s[0]=a.name,s[1]=c,s[2]=i,s[3]=e):e=s[3];let o=e;if(!a)throw Error("useFormField should be used within <FormField>");let{id:d}=n,m=`${d}-form-item`,u=`${d}-form-item-description`,x=`${d}-form-item-message`;return s[4]!==a.name||s[5]!==o||s[6]!==d||s[7]!==m||s[8]!==u||s[9]!==x?(t={id:d,name:a.name,formItemId:m,formDescriptionId:u,formMessageId:x,...o},s[4]=a.name,s[5]=o,s[6]=d,s[7]=m,s[8]=u,s[9]=x,s[10]=t):t=s[10],t},tM=r.createContext({}),tF=r.forwardRef((e,t)=>{let s,n,i,c,o,d,m=(0,l.c)(14);m[0]!==e?({className:s,...n}=e,m[0]=e,m[1]=s,m[2]=n):(s=m[1],n=m[2]);let u=r.useId();return m[3]!==u?(i={id:u},m[3]=u,m[4]=i):i=m[4],m[5]!==s?(c=C("space-y-2",s),m[5]=s,m[6]=c):c=m[6],m[7]!==n||m[8]!==t||m[9]!==c?(o=(0,a.jsx)("div",{ref:t,className:c,...n}),m[7]=n,m[8]=t,m[9]=c,m[10]=o):o=m[10],m[11]!==i||m[12]!==o?(d=(0,a.jsx)(tM.Provider,{value:i,children:o}),m[11]=i,m[12]=o,m[13]=d):d=m[13],d});tF.displayName="FormItem";let tR=r.forwardRef((e,t)=>{let s,r,n,i,c=(0,l.c)(11);c[0]!==e?({className:s,...r}=e,c[0]=e,c[1]=s,c[2]=r):(s=c[1],r=c[2]);let{error:o,formItemId:d}=tE(),m=o&&"text-destructive";return c[3]!==s||c[4]!==m?(n=C(m,s),c[3]=s,c[4]=m,c[5]=n):n=c[5],c[6]!==d||c[7]!==r||c[8]!==t||c[9]!==n?(i=(0,a.jsx)(tZ,{ref:t,className:n,htmlFor:d,...r}),c[6]=d,c[7]=r,c[8]=t,c[9]=n,c[10]=i):i=c[10],i});tR.displayName="FormLabel";let t$=r.forwardRef((e,t)=>{let s,r,n=(0,l.c)(8);n[0]!==e?({...s}=e,n[0]=e,n[1]=s):s=n[1];let{error:i,formItemId:c,formDescriptionId:o,formMessageId:d}=tE(),m=i?`${o} ${d}`:`${o}`,u=!!i;return n[2]!==c||n[3]!==s||n[4]!==t||n[5]!==m||n[6]!==u?(r=(0,a.jsx)(ej.g7,{ref:t,id:c,"aria-describedby":m,"aria-invalid":u,...s}),n[2]=c,n[3]=s,n[4]=t,n[5]=m,n[6]=u,n[7]=r):r=n[7],r});t$.displayName="FormControl",r.forwardRef((e,t)=>{let s,r,n,i,c=(0,l.c)(10);c[0]!==e?({className:s,...r}=e,c[0]=e,c[1]=s,c[2]=r):(s=c[1],r=c[2]);let{formDescriptionId:o}=tE();return c[3]!==s?(n=C("text-sm text-muted-foreground",s),c[3]=s,c[4]=n):n=c[4],c[5]!==o||c[6]!==r||c[7]!==t||c[8]!==n?(i=(0,a.jsx)("p",{ref:t,id:o,className:n,...r}),c[5]=o,c[6]=r,c[7]=t,c[8]=n,c[9]=i):i=c[9],i}).displayName="FormDescription";let tU=r.forwardRef((e,t)=>{let s,r,n,i,c,o=(0,l.c)(12);o[0]!==e?({className:r,children:s,...n}=e,o[0]=e,o[1]=s,o[2]=r,o[3]=n):(s=o[1],r=o[2],n=o[3]);let{error:d,formMessageId:m}=tE(),u=d?String((null==d?void 0:d.message)??""):s;return u?(o[4]!==r?(i=C("text-sm font-medium text-destructive",r),o[4]=r,o[5]=i):i=o[5],o[6]!==u||o[7]!==m||o[8]!==n||o[9]!==t||o[10]!==i?(c=(0,a.jsx)("p",{ref:t,id:m,className:i,...n,children:u}),o[6]=u,o[7]=m,o[8]=n,o[9]=t,o[10]=i,o[11]=c):c=o[11],c):null});function tz(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{toast:t}=v();return(0,ew.a)({queryKey:["patients",e],queryFn:async()=>{try{let{data:{session:t}}=await z.auth.getSession();if(!t)throw Error("No authenticated session found");let s=new URL("https://sqgtgwrhxoaeaxofyelf.supabase.co/functions/v1/get-patients");e.page&&s.searchParams.set("page",e.page.toString()),e.limit&&s.searchParams.set("limit",e.limit.toString()),e.search&&s.searchParams.set("search",e.search),e.status&&s.searchParams.set("status",e.status);let a=await fetch(s.toString(),{method:"GET",headers:{Authorization:`Bearer ${t.access_token}`,"Content-Type":"application/json"}});if(!a.ok)throw Error(`HTTP error! status: ${a.status}`);let r=await a.json();if(!r.success)throw Error(r.error||"Failed to fetch patients");return r}catch(e){throw console.error("Error fetching patients:",e),t({title:"Error Fetching Patients",description:e.message||"Failed to fetch patients. Please try again.",variant:"destructive"}),e}},staleTime:3e5,refetchOnWindowFocus:!0})}tU.displayName="FormMessage",s(67693);var tL=s(84096);let tV=tL.Ry({id:tL.Z_(),firstName:tL.Z_(),lastName:tL.Z_(),email:tL.Z_().email(),phone:tL.Z_(),dateOfBirth:tL.hT(),gender:tL.Z_(),address:tL.Z_(),insuranceProvider:tL.Z_().optional(),insurancePolicyNumber:tL.Z_().optional(),insuranceGroupNumber:tL.Z_().optional(),emergencyContactName:tL.Z_().optional(),emergencyContactPhone:tL.Z_().optional(),medicalHistory:tL.Z_().optional(),allergies:tL.IX(tL.Z_()).default([]),currentMedications:tL.IX(tL.Z_()).default([]),memberSince:tL.hT(),isActive:tL.O7().default(!0),createdAt:tL.hT(),updatedAt:tL.hT()}),tW=tL.Ry({id:tL.Z_(),patientId:tL.Z_(),doctorName:tL.Z_(),appointmentDate:tL.hT(),appointmentTime:tL.Z_(),procedure:tL.Z_(),status:tL.Km(["scheduled","confirmed","in-progress","completed","cancelled","urgent"]).default("scheduled"),notes:tL.Z_().optional(),createdAt:tL.hT(),updatedAt:tL.hT()}),tB=tL.Ry({id:tL.Z_(),patientId:tL.Z_(),appointmentId:tL.Z_().optional(),procedureName:tL.Z_(),description:tL.Z_().optional(),doctorName:tL.Z_(),performedDate:tL.hT(),duration:tL.Rx().optional(),cost:tL.Rx().optional(),status:tL.Km(["planned","in-progress","completed","cancelled"]).default("planned"),notes:tL.Z_().optional(),createdAt:tL.hT(),updatedAt:tL.hT()}),tq=tL.Ry({id:tL.Z_(),patientId:tL.Z_(),imageUrl:tL.Z_().url(),diagnosis:tL.Z_(),confidence:tL.Rx().min(0).max(100),severity:tL.Km(["normal","mild","moderate","severe"]),recommendations:tL.IX(tL.Z_()).default([]),analyzedBy:tL.Z_().default("AI Model v2.1"),reviewedByDoctor:tL.O7().default(!1),doctorNotes:tL.Z_().optional(),createdAt:tL.hT()}),tH=tL.Ry({id:tL.Z_(),patientId:tL.Z_(),appointmentId:tL.Z_().optional(),procedureId:tL.Z_().optional(),amount:tL.Rx(),paymentMethod:tL.Km(["cash","card","insurance","check"]),paymentStatus:tL.Km(["pending","paid","partial","overdue"]).default("pending"),insuranceClaim:tL.O7().default(!1),insuranceAmount:tL.Rx().optional(),patientAmount:tL.Rx().optional(),paymentDate:tL.hT().optional(),dueDate:tL.hT().optional(),invoiceNumber:tL.Z_().optional(),createdAt:tL.hT(),updatedAt:tL.hT()}),tK=tL.Ry({id:tL.Z_(),title:tL.Z_(),description:tL.Z_().optional(),patientId:tL.Z_().optional(),priority:tL.Km(["low","medium","high","urgent"]).default("medium"),status:tL.Km(["pending","in-progress","completed"]).default("pending"),dueDate:tL.hT().optional(),assignedTo:tL.Z_(),createdAt:tL.hT(),updatedAt:tL.hT()}),tG=tV.omit({id:!0,memberSince:!0,createdAt:!0,updatedAt:!0}).extend({dateOfBirth:tL.Z_().or(tL.hT())});tW.omit({id:!0,createdAt:!0,updatedAt:!0}).extend({appointmentDate:tL.Z_().or(tL.hT())});let tJ=tB.omit({id:!0,createdAt:!0,updatedAt:!0}).extend({performedDate:tL.Z_().or(tL.hT())});tq.omit({id:!0,createdAt:!0}),tH.omit({id:!0,createdAt:!0,updatedAt:!0}).extend({paymentDate:tL.Z_().or(tL.hT()).optional(),dueDate:tL.Z_().or(tL.hT()).optional()}),tK.omit({id:!0,createdAt:!0,updatedAt:!0}).extend({dueDate:tL.Z_().or(tL.hT()).optional()});let tY=e=>{let t={...e};return Object.keys(t).forEach(e=>{(e.includes("Date")||e.includes("At")||"memberSince"===e)&&"string"==typeof t[e]&&(t[e]=new Date(t[e]))}),t};function tQ(e){let t,s,r,n,i,c,o,d,m,x,h,p,f,j,g,y,N,b,w,_,S,C,P,A=(0,l.c)(55),{isOpen:k,onClose:D}=e,Z=function(){let e=(0,u.NL)(),{toast:t}=v();return(0,eE.D)({mutationFn:async e=>{let{data:{session:t}}=await z.auth.getSession();if(!t)throw Error("No authenticated session found");let{data:s,error:a}=await z.functions.invoke("add-patient",{body:e,headers:{Authorization:`Bearer ${t.access_token}`}});if(a)throw a;return s},onSuccess:s=>(e.invalidateQueries({queryKey:["patients"]}),t({title:"Patient Added Successfully",description:"New patient has been registered in the system."}),s),onError:e=>{console.error("Error adding patient:",e),t({title:"Error Adding Patient",description:e.message||"Failed to add new patient. Please try again.",variant:"destructive"})}})}();A[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,tA.F)(tG),A[0]=t):t=A[0],A[1]===Symbol.for("react.memo_cache_sentinel")?(s={resolver:t,defaultValues:{firstName:"",lastName:"",email:"",phone:"",dateOfBirth:new Date,gender:"",address:"",emergencyContactName:void 0,emergencyContactPhone:void 0,insuranceProvider:void 0,medicalHistory:void 0}},A[1]=s):s=A[1];let I=(0,tP.cI)(s);A[2]!==Z||A[3]!==I||A[4]!==D?(r=e=>{let t={...e,emergencyContactName:e.emergencyContactName?e.emergencyContactName:void 0,emergencyContactPhone:e.emergencyContactPhone?e.emergencyContactPhone:void 0,insuranceProvider:e.insuranceProvider?e.insuranceProvider:void 0,medicalHistory:"string"==typeof e.medicalHistory&&e.medicalHistory.trim().length>0?e.medicalHistory:void 0};Z.mutate(t,{onSuccess:()=>{I.reset(),D()}})},A[2]=Z,A[3]=I,A[4]=D,A[5]=r):r=A[5];let T=r;A[6]!==I||A[7]!==D?(n=()=>{I.reset(),D()},A[6]=I,A[7]=D,A[8]=n):n=A[8];let O=n;A[9]!==O?(i=e=>{e||O()},A[9]=O,A[10]=i):i=A[10],A[11]===Symbol.for("react.memo_cache_sentinel")?(c=(0,a.jsx)(tp,{children:(0,a.jsxs)(tf,{className:"flex items-center space-x-2 text-xl font-semibold text-professional-dark",children:[(0,a.jsx)(en.Z,{className:"h-5 w-5 text-medical-blue"}),(0,a.jsx)("span",{children:"Add New Patient"})]})}),A[11]=c):c=A[11],A[12]!==I||A[13]!==T?(o=I.handleSubmit(T),A[12]=I,A[13]=T,A[14]=o):o=A[14],A[15]===Symbol.for("react.memo_cache_sentinel")?(d=(0,a.jsx)(tt,{children:(0,a.jsx)(ts,{className:"text-lg text-medical-blue",children:"Personal Information"})}),A[15]=d):d=A[15],A[16]!==I.control?(m=(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(tO,{control:I.control,name:"firstName",render:t9}),(0,a.jsx)(tO,{control:I.control,name:"lastName",render:t7})]}),A[16]=I.control,A[17]=m):m=A[17],A[18]!==I.control?(x=(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(tO,{control:I.control,name:"email",render:t8}),(0,a.jsx)(tO,{control:I.control,name:"phone",render:t6})]}),A[18]=I.control,A[19]=x):x=A[19],A[20]!==I.control?(h=(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(tO,{control:I.control,name:"dateOfBirth",render:t5}),(0,a.jsx)(tO,{control:I.control,name:"gender",render:t3})]}),p=(0,a.jsx)(tO,{control:I.control,name:"address",render:t4}),A[20]=I.control,A[21]=h,A[22]=p):(h=A[21],p=A[22]),A[23]!==x||A[24]!==h||A[25]!==p||A[26]!==m?(f=(0,a.jsxs)(te,{children:[d,(0,a.jsxs)(tr,{className:"space-y-4",children:[m,x,h,p]})]}),A[23]=x,A[24]=h,A[25]=p,A[26]=m,A[27]=f):f=A[27],A[28]===Symbol.for("react.memo_cache_sentinel")?(j=(0,a.jsx)(tt,{children:(0,a.jsx)(ts,{className:"text-lg text-healthcare-green",children:"Emergency Contact"})}),A[28]=j):j=A[28],A[29]!==I.control?(g=(0,a.jsxs)(te,{children:[j,(0,a.jsx)(tr,{className:"space-y-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(tO,{control:I.control,name:"emergencyContactName",render:t2}),(0,a.jsx)(tO,{control:I.control,name:"emergencyContactPhone",render:t1})]})})]}),A[29]=I.control,A[30]=g):g=A[30],A[31]===Symbol.for("react.memo_cache_sentinel")?(y=(0,a.jsx)(tt,{children:(0,a.jsx)(ts,{className:"text-lg text-diagnostic-purple",children:"Medical Information"})}),A[31]=y):y=A[31],A[32]!==I.control?(N=(0,a.jsxs)(te,{children:[y,(0,a.jsxs)(tr,{className:"space-y-4",children:[(0,a.jsx)(tO,{control:I.control,name:"insuranceProvider",render:t0}),(0,a.jsx)(tO,{control:I.control,name:"medicalHistory",render:tX})]})]}),A[32]=I.control,A[33]=N):N=A[33],A[34]!==O?(b=(0,a.jsx)(ey,{type:"button",variant:"outline",onClick:O,children:"Cancel"}),A[34]=O,A[35]=b):b=A[35];let E=Z.isPending?"Adding Patient...":"Add Patient";return A[36]!==Z.isPending||A[37]!==E?(w=(0,a.jsx)(ey,{type:"submit",className:"medical-button-primary",disabled:Z.isPending,children:E}),A[36]=Z.isPending,A[37]=E,A[38]=w):w=A[38],A[39]!==b||A[40]!==w?(_=(0,a.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[b,w]}),A[39]=b,A[40]=w,A[41]=_):_=A[41],A[42]!==f||A[43]!==g||A[44]!==N||A[45]!==_||A[46]!==o?(S=(0,a.jsxs)("form",{onSubmit:o,className:"space-y-6",children:[f,g,N,_]}),A[42]=f,A[43]=g,A[44]=N,A[45]=_,A[46]=o,A[47]=S):S=A[47],A[48]!==I||A[49]!==S?(C=(0,a.jsxs)(th,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[c,(0,a.jsx)(tI,{...I,children:S})]}),A[48]=I,A[49]=S,A[50]=C):C=A[50],A[51]!==k||A[52]!==C||A[53]!==i?(P=(0,a.jsx)(tm,{open:k,onOpenChange:i,children:C}),A[51]=k,A[52]=C,A[53]=i,A[54]=P):P=A[54],P}function tX(e){let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsx)(tR,{children:"Medical History"}),(0,a.jsx)(t$,{children:(0,a.jsx)(tC,{placeholder:"Previous medical conditions, allergies, medications, surgical history... (one per line)",className:"min-h-[120px]",value:Array.isArray(t.value)?t.value.join("\n"):"string"==typeof t.value?t.value:"",onChange:e=>t.onChange(e.target.value)})}),(0,a.jsx)(tU,{})]})}function t0(e){let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsx)(tR,{children:"Insurance Information"}),(0,a.jsx)(t$,{children:(0,a.jsx)(eG,{placeholder:"Insurance provider and policy details",value:t.value||"",onChange:e=>t.onChange(e.target.value||void 0)})}),(0,a.jsx)(tU,{})]})}function t1(e){let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsx)(tR,{children:"Emergency Contact Phone"}),(0,a.jsx)(t$,{children:(0,a.jsx)(eG,{placeholder:"(555) 987-6543",value:t.value||"",onChange:e=>t.onChange(e.target.value||void 0)})}),(0,a.jsx)(tU,{})]})}function t2(e){let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsx)(tR,{children:"Emergency Contact Name"}),(0,a.jsx)(t$,{children:(0,a.jsx)(eG,{placeholder:"Contact person name",value:t.value||"",onChange:e=>t.onChange(e.target.value||void 0)})}),(0,a.jsx)(tU,{})]})}function t4(e){let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsxs)(tR,{className:"flex items-center space-x-1",children:[(0,a.jsx)(ti.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Address"})]}),(0,a.jsx)(t$,{children:(0,a.jsx)(tC,{placeholder:"Enter full address",className:"min-h-[80px]",...t})}),(0,a.jsx)(tU,{})]})}function t3(e){let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsx)(tR,{children:"Gender *"}),(0,a.jsxs)(ty,{onValueChange:t.onChange,defaultValue:t.value,children:[(0,a.jsx)(t$,{children:(0,a.jsx)(tN,{children:(0,a.jsx)(tv,{placeholder:"Select gender"})})}),(0,a.jsxs)(t_,{children:[(0,a.jsx)(tS,{value:"male",children:"Male"}),(0,a.jsx)(tS,{value:"female",children:"Female"}),(0,a.jsx)(tS,{value:"other",children:"Other"}),(0,a.jsx)(tS,{value:"prefer-not-to-say",children:"Prefer not to say"})]})]}),(0,a.jsx)(tU,{})]})}function t5(e){let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsxs)(tR,{className:"flex items-center space-x-1",children:[(0,a.jsx)(e_.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Date of Birth *"})]}),(0,a.jsx)(t$,{children:(0,a.jsx)(eG,{type:"date",value:t.value instanceof Date?t.value.toISOString().split("T")[0]:t.value,onChange:e=>t.onChange(new Date(e.target.value))})}),(0,a.jsx)(tU,{})]})}function t6(e){let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsxs)(tR,{className:"flex items-center space-x-1",children:[(0,a.jsx)(tc.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Phone Number *"})]}),(0,a.jsx)(t$,{children:(0,a.jsx)(eG,{placeholder:"(555) 123-4567",...t})}),(0,a.jsx)(tU,{})]})}function t8(e){let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsxs)(tR,{className:"flex items-center space-x-1",children:[(0,a.jsx)(to.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Email Address *"})]}),(0,a.jsx)(t$,{children:(0,a.jsx)(eG,{type:"email",placeholder:"patient@example.com",...t})}),(0,a.jsx)(tU,{})]})}function t7(e){let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsx)(tR,{children:"Last Name *"}),(0,a.jsx)(t$,{children:(0,a.jsx)(eG,{placeholder:"Enter last name",...t})}),(0,a.jsx)(tU,{})]})}function t9(e){let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsx)(tR,{children:"First Name *"}),(0,a.jsx)(t$,{children:(0,a.jsx)(eG,{placeholder:"Enter first name",...t})}),(0,a.jsx)(tU,{})]})}var se=s(87197);let st=r.forwardRef((e,t)=>{let s,r,n,i,c,o=(0,l.c)(10);return o[0]!==e?({className:s,...r}=e,o[0]=e,o[1]=s,o[2]=r):(s=o[1],r=o[2]),o[3]!==s?(n=C("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),o[3]=s,o[4]=n):n=o[4],o[5]===Symbol.for("react.memo_cache_sentinel")?(i=(0,a.jsx)(se.bU,{className:C("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")}),o[5]=i):i=o[5],o[6]!==r||o[7]!==t||o[8]!==n?(c=(0,a.jsx)(se.fC,{className:n,...r,ref:t,children:i}),o[6]=r,o[7]=t,o[8]=n,o[9]=c):c=o[9],c});function ss(e){let t,s,r,n,i,c,o,d,m,u,x,h,p,f,j,g,y,v,N,b,w,_,S,C,P,A,k,D,Z,I,T=(0,l.c)(73),{patient:O,editedPatient:E,setEditedPatient:M,getInitials:F,getAge:R,toSafeDate:$}=e,U=E.firstName||"",z=E.lastName||"";T[0]!==F||T[1]!==U||T[2]!==z?(t=F(U,z),T[0]=F,T[1]=U,T[2]=z,T[3]=t):t=T[3],T[4]!==t?(s=(0,a.jsx)("div",{className:"w-16 h-16 bg-medical-blue/10 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-lg font-medium text-medical-blue",children:t})}),T[4]=t,T[5]=s):s=T[5];let L=E.firstName??"";T[6]!==M?(r=e=>M(t=>({...t,firstName:e.target.value})),T[6]=M,T[7]=r):r=T[7],T[8]!==L||T[9]!==r?(n=(0,a.jsx)(eG,{value:L,onChange:r,className:"w-full",placeholder:"First name"}),T[8]=L,T[9]=r,T[10]=n):n=T[10];let V=E.lastName??"";T[11]!==M?(i=e=>M(t=>({...t,lastName:e.target.value})),T[11]=M,T[12]=i):i=T[12],T[13]!==V||T[14]!==i?(c=(0,a.jsx)(eG,{value:V,onChange:i,className:"w-full",placeholder:"Last name"}),T[13]=V,T[14]=i,T[15]=c):c=T[15],T[16]!==c||T[17]!==n?(o=(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n,c]}),T[16]=c,T[17]=n,T[18]=o):o=T[18],T[19]===Symbol.for("react.memo_cache_sentinel")?(d=(0,a.jsx)("div",{className:"w-40 inline-block align-middle mr-3"}),T[19]=d):d=T[19];let W=E.dateOfBirth??O.dateOfBirth;T[20]!==R||T[21]!==W?(m=R(W),T[20]=R,T[21]=W,T[22]=m):m=T[22],T[23]!==m?(u=(0,a.jsxs)("p",{className:"text-gray-600 mt-2",children:[d,m," years old"]}),T[23]=m,T[24]=u):u=T[24],T[25]===Symbol.for("react.memo_cache_sentinel")?(x=(0,a.jsx)(to.Z,{className:"h-4 w-4"}),T[25]=x):x=T[25];let B=E.email??"";T[26]!==M?(h=e=>M(t=>({...t,email:e.target.value})),T[26]=M,T[27]=h):h=T[27],T[28]!==B||T[29]!==h?(p=(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[x,(0,a.jsx)(eG,{value:B,onChange:h,className:"w-56",placeholder:"Email"})]}),T[28]=B,T[29]=h,T[30]=p):p=T[30],T[31]===Symbol.for("react.memo_cache_sentinel")?(f=(0,a.jsx)(tc.Z,{className:"h-4 w-4"}),T[31]=f):f=T[31];let q=E.phone??"";T[32]!==M?(j=e=>M(t=>({...t,phone:e.target.value})),T[32]=M,T[33]=j):j=T[33],T[34]!==q||T[35]!==j?(g=(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[f,(0,a.jsx)(eG,{value:q,onChange:j,className:"w-40",placeholder:"Phone"})]}),T[34]=q,T[35]=j,T[36]=g):g=T[36],T[37]!==p||T[38]!==g?(y=(0,a.jsxs)("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-600",children:[p,g]}),T[37]=p,T[38]=g,T[39]=y):y=T[39],T[40]===Symbol.for("react.memo_cache_sentinel")?(v=(0,a.jsx)(ti.Z,{className:"h-4 w-4"}),T[40]=v):v=T[40];let H=E.address??"";T[41]!==M?(N=e=>M(t=>({...t,address:e.target.value})),T[41]=M,T[42]=N):N=T[42],T[43]!==H||T[44]!==N?(b=(0,a.jsxs)("div",{className:"flex items-center space-x-1 mt-1 text-sm text-gray-600",children:[v,(0,a.jsx)(eG,{value:H,onChange:N,className:"w-full",placeholder:"Address"})]}),T[43]=H,T[44]=N,T[45]=b):b=T[45];let K=E.isActive??O.isActive?"medical-badge-normal":"bg-gray-100 text-gray-800",G=E.isActive??O.isActive?"Active Patient":"Inactive";T[46]!==K||T[47]!==G?(w=(0,a.jsx)(tl,{className:K,children:G}),T[46]=K,T[47]=G,T[48]=w):w=T[48],T[49]===Symbol.for("react.memo_cache_sentinel")?(_=(0,a.jsx)(tZ,{className:"text-xs text-gray-500",children:"Active"}),T[49]=_):_=T[49];let J=!!(E.isActive??O.isActive);T[50]!==M?(S=e=>M(t=>({...t,isActive:!!e})),T[50]=M,T[51]=S):S=T[51],T[52]!==J||T[53]!==S?(C=(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[_,(0,a.jsx)(st,{checked:J,onCheckedChange:S})]}),T[52]=J,T[53]=S,T[54]=C):C=T[54];let Y=E.memberSince??O.memberSince;if(T[55]!==Y||T[56]!==$){let e=$(Y);A=e?e.getFullYear():"N/A",T[55]=Y,T[56]=$,T[57]=A}else A=T[57];return P=A,T[58]!==P?(k=(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:["Member since ",P]}),T[58]=P,T[59]=k):k=T[59],T[60]!==w||T[61]!==C||T[62]!==k?(D=(0,a.jsxs)("div",{className:"flex items-center space-x-4 mt-2",children:[w,C,k]}),T[60]=w,T[61]=C,T[62]=k,T[63]=D):D=T[63],T[64]!==o||T[65]!==u||T[66]!==y||T[67]!==b||T[68]!==D?(Z=(0,a.jsxs)("div",{className:"flex-1",children:[o,u,y,b,D]}),T[64]=o,T[65]=u,T[66]=y,T[67]=b,T[68]=D,T[69]=Z):Z=T[69],T[70]!==s||T[71]!==Z?(I=(0,a.jsx)("div",{className:"md:col-span-2",children:(0,a.jsxs)("div",{className:"flex items-start space-x-4",children:[s,Z]})}),T[70]=s,T[71]=Z,T[72]=I):I=T[72],I}function sa(e){let t,s,r,n,i,c,o,d,m,u,x,h=(0,l.c)(23),{editedPatient:p,setEditedPatient:f}=e;h[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)(tt,{className:"pb-3",children:(0,a.jsx)(ts,{className:"text-base",children:"Insurance Info"})}),h[0]=t):t=h[0],h[1]===Symbol.for("react.memo_cache_sentinel")?(s=(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Provider"}),h[1]=s):s=h[1];let j=p.insuranceProvider??"";h[2]!==f?(r=e=>f(t=>({...t,insuranceProvider:e.target.value})),h[2]=f,h[3]=r):r=h[3],h[4]!==j||h[5]!==r?(n=(0,a.jsxs)("div",{children:[s,(0,a.jsx)(eG,{value:j,onChange:r,className:"w-full p-1 rounded border text-sm",placeholder:"Insurance provider"})]}),h[4]=j,h[5]=r,h[6]=n):n=h[6],h[7]===Symbol.for("react.memo_cache_sentinel")?(i=(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Policy Number"}),h[7]=i):i=h[7];let g=p.insurancePolicyNumber??"";h[8]!==f?(c=e=>f(t=>({...t,insurancePolicyNumber:e.target.value})),h[8]=f,h[9]=c):c=h[9],h[10]!==g||h[11]!==c?(o=(0,a.jsxs)("div",{children:[i,(0,a.jsx)(eG,{value:g,onChange:c,className:"w-full p-1 rounded border text-sm",placeholder:"Policy number"})]}),h[10]=g,h[11]=c,h[12]=o):o=h[12],h[13]===Symbol.for("react.memo_cache_sentinel")?(d=(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Group Number"}),h[13]=d):d=h[13];let y=p.insuranceGroupNumber??"";return h[14]!==f?(m=e=>f(t=>({...t,insuranceGroupNumber:e.target.value})),h[14]=f,h[15]=m):m=h[15],h[16]!==y||h[17]!==m?(u=(0,a.jsxs)("div",{children:[d,(0,a.jsx)(eG,{value:y,onChange:m,className:"w-full p-1 rounded border text-sm",placeholder:"Group number"})]}),h[16]=y,h[17]=m,h[18]=u):u=h[18],h[19]!==u||h[20]!==n||h[21]!==o?(x=(0,a.jsx)("div",{children:(0,a.jsxs)(te,{children:[t,(0,a.jsxs)(tr,{className:"space-y-2",children:[n,o,u]})]})}),h[19]=u,h[20]=n,h[21]=o,h[22]=x):x=h[22],x}st.displayName=se.fC.displayName;var sr=s(9705);let sn=sr.fC,sl=r.forwardRef((e,t)=>{let s,r,n,i,c=(0,l.c)(9);return c[0]!==e?({className:s,...r}=e,c[0]=e,c[1]=s,c[2]=r):(s=c[1],r=c[2]),c[3]!==s?(n=C("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),c[3]=s,c[4]=n):n=c[4],c[5]!==r||c[6]!==t||c[7]!==n?(i=(0,a.jsx)(sr.aV,{ref:t,className:n,...r}),c[5]=r,c[6]=t,c[7]=n,c[8]=i):i=c[8],i});sl.displayName=sr.aV.displayName;let si=r.forwardRef((e,t)=>{let s,r,n,i,c=(0,l.c)(9);return c[0]!==e?({className:s,...r}=e,c[0]=e,c[1]=s,c[2]=r):(s=c[1],r=c[2]),c[3]!==s?(n=C("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),c[3]=s,c[4]=n):n=c[4],c[5]!==r||c[6]!==t||c[7]!==n?(i=(0,a.jsx)(sr.xz,{ref:t,className:n,...r}),c[5]=r,c[6]=t,c[7]=n,c[8]=i):i=c[8],i});si.displayName=sr.xz.displayName;let sc=r.forwardRef((e,t)=>{let s,r,n,i,c=(0,l.c)(9);return c[0]!==e?({className:s,...r}=e,c[0]=e,c[1]=s,c[2]=r):(s=c[1],r=c[2]),c[3]!==s?(n=C("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),c[3]=s,c[4]=n):n=c[4],c[5]!==r||c[6]!==t||c[7]!==n?(i=(0,a.jsx)(sr.VY,{ref:t,className:n,...r}),c[5]=r,c[6]=t,c[7]=n,c[8]=i):i=c[8],i});sc.displayName=sr.VY.displayName;var so=s(68643);function sd(e){let t,s,r,n,i,c,o,d,m,u,x,h,p=(0,l.c)(29),{activeTab:f,setActiveTab:j,appointments:g,procedures:y,payments:v,getStatusColor:N,toSafeDate:b}=e;return p[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsxs)(sl,{className:"grid w-full grid-cols-4",children:[(0,a.jsx)(si,{value:"medical-history",children:"Medical History"}),(0,a.jsx)(si,{value:"appointments",children:"Appointments"}),(0,a.jsx)(si,{value:"procedures",children:"Procedures"}),(0,a.jsx)(si,{value:"billing",children:"Billing"})]}),p[0]=t):t=p[0],p[1]===Symbol.for("react.memo_cache_sentinel")?(s=(0,a.jsx)(sc,{value:"medical-history",className:"mt-6",children:(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Use the parent to render medical history card"})}),p[1]=s):s=p[1],p[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,a.jsx)(tt,{children:(0,a.jsx)(ts,{className:"text-base",children:"Appointment History"})}),p[2]=r):r=p[2],p[3]!==g||p[4]!==N||p[5]!==b?(n=g&&g.length>0?g.map(e=>(0,a.jsx)("div",{className:"p-4 bg-gray-50 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-professional-dark",children:e.procedure}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Dr. ",e.doctorName]}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:(()=>{let t=b(e.appointmentDate);return`${t?(0,eI.WU)(t,"MMM dd, yyyy"):"Unknown date"}${e.appointmentTime?` at ${e.appointmentTime}`:""}`})()}),e.notes&&(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:e.notes})]}),(0,a.jsx)(tl,{className:N(e.status),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]})},e.id)):(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,a.jsx)(e_.Z,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,a.jsx)("p",{children:"No appointments recorded"})]}),p[3]=g,p[4]=N,p[5]=b,p[6]=n):n=p[6],p[7]!==n?(i=(0,a.jsx)(sc,{value:"appointments",className:"mt-6",children:(0,a.jsxs)(te,{children:[r,(0,a.jsx)(tr,{children:(0,a.jsx)("div",{className:"space-y-3",children:n})})]})}),p[7]=n,p[8]=i):i=p[8],p[9]===Symbol.for("react.memo_cache_sentinel")?(c=(0,a.jsx)(tt,{children:(0,a.jsx)(ts,{className:"text-base",children:"Procedure History"})}),p[9]=c):c=p[9],p[10]!==N||p[11]!==y||p[12]!==b?(o=y&&y.length>0?y.map(e=>(0,a.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("h4",{className:"font-medium text-professional-dark",children:e.procedureName}),(0,a.jsx)(tl,{className:N(e.status),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Dr. ",e.doctorName]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[(()=>{let t=b(e.performedDate);return t?(0,eI.WU)(t,"MMM dd, yyyy"):"Unknown date"})(),e.duration&&` \u{2022} ${e.duration} minutes`,e.cost&&` \u{2022} $${e.cost}`]}),e.description&&(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:e.description}),e.notes&&(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Notes: ",e.notes]})]},e.id)):(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,a.jsx)(so.Z,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,a.jsx)("p",{children:"No procedures recorded"})]}),p[10]=N,p[11]=y,p[12]=b,p[13]=o):o=p[13],p[14]!==o?(d=(0,a.jsx)(sc,{value:"procedures",className:"mt-6",children:(0,a.jsxs)(te,{children:[c,(0,a.jsx)(tr,{children:(0,a.jsx)("div",{className:"space-y-3",children:o})})]})}),p[14]=o,p[15]=d):d=p[15],p[16]===Symbol.for("react.memo_cache_sentinel")?(m=(0,a.jsx)(tt,{children:(0,a.jsx)(ts,{className:"text-base",children:"Billing History"})}),p[16]=m):m=p[16],p[17]!==N||p[18]!==v||p[19]!==b?(u=v&&v.length>0?v.map(e=>(0,a.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"font-medium text-professional-dark",children:["Invoice: ",e.invoiceNumber||"N/A"]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Amount: $",Number(e.amount).toFixed(2)]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Method: ",e.paymentMethod,e.paymentDate&&(()=>{let t=b(e.paymentDate);return t?` \u{2022} Paid: ${(0,eI.WU)(t,"MMM dd, yyyy")}`:""})(),e.dueDate&&(()=>{let t=b(e.dueDate);return t?` \u{2022} Due: ${(0,eI.WU)(t,"MMM dd, yyyy")}`:""})()]})]}),(0,a.jsx)(tl,{className:N(e.paymentStatus),children:e.paymentStatus.charAt(0).toUpperCase()+e.paymentStatus.slice(1)})]}),e.insuranceClaim&&(0,a.jsxs)("div",{className:"mt-2 pt-2 border-t border-gray-200 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Insurance Amount:"}),(0,a.jsxs)("span",{children:["$",e.insuranceAmount||"0.00"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Patient Amount:"}),(0,a.jsxs)("span",{children:["$",e.patientAmount||"0.00"]})]})]})]},e.id)):(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,a.jsx)(eP.Z,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,a.jsx)("p",{children:"No billing records found"})]}),p[17]=N,p[18]=v,p[19]=b,p[20]=u):u=p[20],p[21]!==u?(x=(0,a.jsx)(sc,{value:"billing",className:"mt-6",children:(0,a.jsxs)(te,{children:[m,(0,a.jsx)(tr,{children:(0,a.jsx)("div",{className:"space-y-3",children:u})})]})}),p[21]=u,p[22]=x):x=p[22],p[23]!==f||p[24]!==j||p[25]!==x||p[26]!==i||p[27]!==d?(h=(0,a.jsxs)(sn,{value:f,onValueChange:j,children:[t,s,i,d,x]}),p[23]=f,p[24]=j,p[25]=x,p[26]=i,p[27]=d,p[28]=h):h=p[28],h}function sm(e){let t,s,r,n,i,c,o,d=(0,l.c)(15),{patient:m,editedPatient:u,setEditedPatient:x}=e;if(!(m.emergencyContactName||m.emergencyContactPhone))return null;d[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)(tt,{children:(0,a.jsx)(ts,{className:"text-base",children:"Emergency Contact"})}),d[0]=t):t=d[0],d[1]===Symbol.for("react.memo_cache_sentinel")?(s=(0,a.jsx)(en.Z,{className:"h-5 w-5 text-gray-400"}),d[1]=s):s=d[1];let h=u.emergencyContactName??"";d[2]!==x?(r=e=>x(t=>({...t,emergencyContactName:e.target.value})),d[2]=x,d[3]=r):r=d[3],d[4]!==h||d[5]!==r?(n=(0,a.jsx)(eG,{value:h,onChange:r,className:"w-full p-1 rounded border text-sm mb-1",placeholder:"Contact name"}),d[4]=h,d[5]=r,d[6]=n):n=d[6];let p=u.emergencyContactPhone??"";return d[7]!==x?(i=e=>x(t=>({...t,emergencyContactPhone:e.target.value})),d[7]=x,d[8]=i):i=d[8],d[9]!==p||d[10]!==i?(c=(0,a.jsx)(eG,{value:p,onChange:i,className:"w-full p-1 rounded border text-sm",placeholder:"Contact phone"}),d[9]=p,d[10]=i,d[11]=c):c=d[11],d[12]!==n||d[13]!==c?(o=(0,a.jsxs)(te,{children:[t,(0,a.jsx)(tr,{children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[s,(0,a.jsxs)("div",{className:"w-full",children:[n,c]})]})})]}),d[12]=n,d[13]=c,d[14]=o):o=d[14],o}function su(e){let t,s,n,i,c,o,d,m,x,h,p,f,j,g,y,N,b,_,S,C,P,A,k,D,Z,I,T,O,E,M,F,R,$,U,L,V,W,B,q,H,K,G,J,Y,Q,X,ee,et,es=(0,l.c)(109),{patient:ea,isOpen:er,onClose:en}=e,[el,ei]=(0,r.useState)("medical-history"),ec=null==ea?void 0:ea.id;es[0]!==ec?(t=["/api/appointments",{patientId:ec}],es[0]=ec,es[1]=t):t=es[1];let eo=!!(null==ea?void 0:ea.id);es[2]!==t||es[3]!==eo?(s={queryKey:t,enabled:eo},es[2]=t,es[3]=eo,es[4]=s):s=es[4];let{data:ed}=(0,ew.a)(s),em=null==ea?void 0:ea.id;es[5]!==em?(n=["/api/procedures",{patientId:em}],es[5]=em,es[6]=n):n=es[6];let eu=!!(null==ea?void 0:ea.id);es[7]!==n||es[8]!==eu?(i={queryKey:n,enabled:eu},es[7]=n,es[8]=eu,es[9]=i):i=es[9];let{data:ex}=(0,ew.a)(i),eh=null==ea?void 0:ea.id;es[10]!==eh?(c=["/api/payments",{patientId:eh}],es[10]=eh,es[11]=c):c=es[11];let ep=!!(null==ea?void 0:ea.id);es[12]!==c||es[13]!==ep?(o={queryKey:c,enabled:ep},es[12]=c,es[13]=ep,es[14]=o):o=es[14];let{data:ef}=(0,ew.a)(o),ej=function(){let e=(0,u.NL)(),{toast:t}=v();return(0,eE.D)({mutationFn:async e=>{let{data:{session:t}}=await z.auth.getSession();if(!t)throw Error("No authenticated session found");let s={...e};!s.id||"patientId"in s||(s.patientId=s.id,delete s.id);let a=await fetch("https://sqgtgwrhxoaeaxofyelf.supabase.co/functions/v1/update-patient",{method:"PATCH",headers:{Authorization:`Bearer ${t.access_token}`,"Content-Type":"application/json"},body:JSON.stringify(s)});if(!a.ok){let e=await a.text(),t={};try{t=JSON.parse(e)}catch{t={message:e}}throw Error((null==t?void 0:t.error)||(null==t?void 0:t.message)||`HTTP error ${a.status}`)}let r=await a.json();if(!r.success)throw Error(r.error||"Failed to update patient");return r},onSuccess:s=>{var a;return e.invalidateQueries({queryKey:["patients"]}),(null==s||null==(a=s.patient)?void 0:a.id)&&e.invalidateQueries({queryKey:["patients",{id:s.patient.id}]}),t({title:"Patient Updated",description:(null==s?void 0:s.message)||"Patient information has been updated."}),s},onError:e=>{console.error("Error updating patient:",e),t({title:"Error Updating Patient",description:(null==e?void 0:e.message)||"Failed to update patient. Please try again.",variant:"destructive"})}})}(),{data:eg}=function(e){let{toast:t}=v();return(0,ew.a)({queryKey:["patientById",e],queryFn:async()=>{try{if(!e)throw Error("Patient ID is required");let{data:{session:t}}=await z.auth.getSession();if(!t)throw Error("No authenticated session found");let s=new URL("https://sqgtgwrhxoaeaxofyelf.supabase.co/functions/v1/get-patient-by-id");s.searchParams.set("id",e);let a=await fetch(s.toString(),{method:"GET",headers:{Authorization:`Bearer ${t.access_token}`,"Content-Type":"application/json"}});if(!a.ok){let e=await a.text(),t={};try{t=JSON.parse(e)}catch{t={message:e}}throw Error((null==t?void 0:t.error)||(null==t?void 0:t.message)||`HTTP error ${a.status}`)}let r=await a.json();if(!r.success)throw Error(r.error||"Failed to fetch patient");return r}catch(e){throw console.error("Error fetching patient by ID (queryFn):",e),t({title:"Error Fetching Patient",description:(null==e?void 0:e.message)||"Failed to fetch patient. Please try again.",variant:"destructive"}),e}},enabled:!!e,staleTime:3e5,refetchOnWindowFocus:!0})}(null==ea?void 0:ea.id);es[15]!==ea?(d=()=>({...ea}),es[15]=ea,es[16]=d):d=es[16];let[ev,eN]=(0,r.useState)(d);if(es[17]!==ea?(m=()=>{eN({...ea})},x=[ea],es[17]=ea,es[18]=m,es[19]=x):(m=es[18],x=es[19]),(0,r.useEffect)(m,x),es[20]!==er||es[21]!==eg?(h=()=>{if(!(null==eg?void 0:eg.patient)||!er)return;let e=eg.patient,t=(e.name||"").trim().split(/\s+/),s=t.shift()||"",a=t.join(" ")||"",r=e.emergencyContact||e.emergency_contact||{};eN(t=>({...t,firstName:s,lastName:a,dateOfBirth:e.dateOfBirth??e.dateOfBirth??t.dateOfBirth,email:e.email??t.email,phone:e.phone??t.phone,address:e.address??t.address,insuranceProvider:e.insurance??t.insuranceProvider??"",insurancePolicyNumber:t.insurancePolicyNumber??"",insuranceGroupNumber:t.insuranceGroupNumber??"",medicalHistory:e.medicalHistory??t.medicalHistory,currentMedications:e.currentMedications??t.currentMedications??[],allergies:e.allergies??t.allergies??[],emergencyContactName:(null==r?void 0:r.name)||(null==r?void 0:r.fullName)||(null==r?void 0:r.contactName)||t.emergencyContactName||"",emergencyContactPhone:(null==r?void 0:r.phone)||(null==r?void 0:r.contactPhone)||t.emergencyContactPhone||"",isActive:"boolean"==typeof e.isActive?e.isActive:"Active"===e.status||t.isActive,memberSince:e.memberSince??t.memberSince}))},p=[eg,er],es[20]=er,es[21]=eg,es[22]=h,es[23]=p):(h=es[22],p=es[23]),(0,r.useEffect)(h,p),!ea)return null;let eb=sf;es[24]===Symbol.for("react.memo_cache_sentinel")?(f=e=>{let t=eb(e);if(!t)return"N/A";let s=new Date,a=s.getFullYear()-t.getFullYear(),r=s.getMonth()-t.getMonth();return(r<0||0===r&&s.getDate()<t.getDate())&&a--,a},es[24]=f):f=es[24];let e_=f;es[25]===Symbol.for("react.memo_cache_sentinel")?(j=e=>{var t;return e?{firstName:e.firstName||"",lastName:e.lastName||"",gender:e.gender||"",dateOfBirth:(null==(t=eb(e.dateOfBirth))?void 0:t.toISOString())||"",email:e.email||"",phone:e.phone||"",address:e.address||"",insuranceProvider:e.insuranceProvider||"",insurancePolicyNumber:e.insurancePolicyNumber||"",insuranceGroupNumber:e.insuranceGroupNumber||"",medicalHistory:e.medicalHistory||"",currentMedications:Array.isArray(e.currentMedications)?e.currentMedications:e.currentMedications?[e.currentMedications]:[],allergies:Array.isArray(e.allergies)?e.allergies:e.allergies?[e.allergies]:[],emergencyContactName:e.emergencyContactName||"",emergencyContactPhone:e.emergencyContactPhone||"",isActive:!!e.isActive}:null},es[25]=j):j=es[25];let eS=j,eC=JSON.stringify(eS(ea))!==JSON.stringify(eS(ev));es[26]===Symbol.for("react.memo_cache_sentinel")?(g=(0,a.jsx)("span",{children:"Patient Record"}),es[26]=g):g=es[26],es[27]===Symbol.for("react.memo_cache_sentinel")?(y=(0,a.jsx)(w.Z,{className:"h-4 w-4"}),es[27]=y):y=es[27],es[28]!==en?(N=(0,a.jsx)(tp,{children:(0,a.jsxs)(tf,{className:"flex items-center justify-between",children:[g,(0,a.jsx)(ey,{variant:"ghost",size:"sm",onClick:en,children:y})]})}),es[28]=en,es[29]=N):N=es[29],es[30]!==ev||es[31]!==ea?(b=(0,a.jsx)(ss,{patient:ea,editedPatient:ev,setEditedPatient:eN,getInitials:sp,getAge:e_,toSafeDate:eb}),es[30]=ev,es[31]=ea,es[32]=b):b=es[32],es[33]!==ev?(_=(0,a.jsx)("div",{children:(0,a.jsx)(sa,{editedPatient:ev,setEditedPatient:eN})}),es[33]=ev,es[34]=_):_=es[34],es[35]!==b||es[36]!==_?(S=(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[b,_]}),es[35]=b,es[36]=_,es[37]=S):S=es[37],es[38]===Symbol.for("react.memo_cache_sentinel")?(C=(0,a.jsx)(tt,{children:(0,a.jsx)(ts,{className:"text-base",children:"Medical Conditions"})}),es[38]=C):C=es[38];let eP=ev.medicalHistory??"";es[39]===Symbol.for("react.memo_cache_sentinel")?(P=e=>eN(t=>({...t,medicalHistory:e.target.value})),es[39]=P):P=es[39],es[40]!==eP?(A=(0,a.jsxs)(te,{children:[C,(0,a.jsx)(tr,{children:(0,a.jsx)("div",{className:"space-y-3",children:(0,a.jsx)(tC,{value:eP,onChange:P,className:"min-h-[120px] text-sm",placeholder:"Medical history"})})})]}),es[40]=eP,es[41]=A):A=es[41],es[42]===Symbol.for("react.memo_cache_sentinel")?(k=(0,a.jsx)(tt,{children:(0,a.jsx)(ts,{className:"text-base",children:"Current Medications"})}),es[42]=k):k=es[42],es[43]!==ev.currentMedications?(D=ev.currentMedications&&Array.isArray(ev.currentMedications)?ev.currentMedications.join("\n"):"string"==typeof ev.currentMedications?ev.currentMedications:"",es[43]=ev.currentMedications,es[44]=D):D=es[44],es[45]===Symbol.for("react.memo_cache_sentinel")?(Z=e=>eN(t=>({...t,currentMedications:e.target.value.split("\n").filter(Boolean)})),es[45]=Z):Z=es[45],es[46]!==D?(I=(0,a.jsx)("div",{className:"space-y-2",children:(0,a.jsx)(tC,{value:D,onChange:Z,className:"min-h-[80px] text-sm",placeholder:"One medication per line"})}),es[46]=D,es[47]=I):I=es[47],es[48]===Symbol.for("react.memo_cache_sentinel")?(T=(0,a.jsx)("h4",{className:"font-medium text-professional-dark mb-2",children:"Allergies"}),es[48]=T):T=es[48],es[49]!==ev.allergies?(O=ev.allergies&&ev.allergies.length>0?ev.allergies.map(sx):(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"No known allergies"}),es[49]=ev.allergies,es[50]=O):O=es[50],es[51]!==ev.allergies?(E=ev.allergies&&Array.isArray(ev.allergies)?ev.allergies.join("\n"):"",es[51]=ev.allergies,es[52]=E):E=es[52],es[53]===Symbol.for("react.memo_cache_sentinel")?(M=e=>eN(t=>({...t,allergies:e.target.value.split("\n").filter(Boolean)})),es[53]=M):M=es[53],es[54]!==E?(F=(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)(tC,{value:E,onChange:M,className:"min-h-[60px] text-sm",placeholder:"One allergy per line"})}),es[54]=E,es[55]=F):F=es[55],es[56]!==O||es[57]!==F?(R=(0,a.jsxs)("div",{className:"mt-6",children:[T,(0,a.jsxs)("div",{className:"space-y-2",children:[O,F]})]}),es[56]=O,es[57]=F,es[58]=R):R=es[58],es[59]!==I||es[60]!==R?($=(0,a.jsxs)(te,{children:[k,(0,a.jsxs)(tr,{children:[I,R]})]}),es[59]=I,es[60]=R,es[61]=$):$=es[61],es[62]!==A||es[63]!==$?(U=(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[A,$]}),es[62]=A,es[63]=$,es[64]=U):U=es[64],es[65]!==el||es[66]!==ed||es[67]!==ef||es[68]!==ex?(L=(0,a.jsx)(sd,{activeTab:el,setActiveTab:ei,appointments:ed,procedures:ex,payments:ef,getStatusColor:sh,toSafeDate:eb}),es[65]=el,es[66]=ed,es[67]=ef,es[68]=ex,es[69]=L):L=es[69],es[70]!==ev||es[71]!==ea?(V=(0,a.jsx)(sm,{patient:ea,editedPatient:ev,setEditedPatient:eN}),es[70]=ev,es[71]=ea,es[72]=V):V=es[72],es[73]!==S||es[74]!==U||es[75]!==L||es[76]!==V?(W=(0,a.jsxs)("div",{className:"space-y-6",children:[S,U,L,V]}),es[73]=S,es[74]=U,es[75]=L,es[76]=V,es[77]=W):W=es[77],es[78]===Symbol.for("react.memo_cache_sentinel")?(B=(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Date of birth"}),es[78]=B):B=es[78],es[79]!==ev.dateOfBirth||es[80]!==ea.dateOfBirth?(q=eb(ev.dateOfBirth??ea.dateOfBirth)?(0,eI.WU)(eb(ev.dateOfBirth??ea.dateOfBirth),"yyyy-MM-dd"):"",es[79]=ev.dateOfBirth,es[80]=ea.dateOfBirth,es[81]=q):q=es[81],es[82]===Symbol.for("react.memo_cache_sentinel")?(H=e=>eN(t=>({...t,dateOfBirth:e.target.value})),es[82]=H):H=es[82],es[83]!==q?(K=(0,a.jsxs)("div",{className:"flex-1",children:[B,(0,a.jsx)(eG,{type:"date",value:q,onChange:H,className:"p-1"})]}),es[83]=q,es[84]=K):K=es[84],es[85]!==en?(G=(0,a.jsx)(ey,{variant:"outline",onClick:en,children:"Close"}),es[85]=en,es[86]=G):G=es[86],es[87]!==ev||es[88]!==ea||es[89]!==ej?(J=()=>{let e={id:ea.id},t=eS(ea),s=eS(ev);Object.keys(s).forEach(a=>{if(s[a]!==t[a])if("currentMedications"===a||"allergies"===a)e[a]=ev[a];else if("dateOfBirth"===a){let t=ev.dateOfBirth??ea.dateOfBirth;t?"string"==typeof t?e[a]=t:e[a]=new Date(t).toISOString().split("T")[0]:e[a]=null}else e[a]=ev[a]}),ej.mutate(e)},es[87]=ev,es[88]=ea,es[89]=ej,es[90]=J):J=es[90];let eA=!eC||"pending"===ej.status,ek="pending"===ej.status?"Saving...":"Save Changes";return es[91]!==J||es[92]!==eA||es[93]!==ek?(Y=(0,a.jsx)(ey,{className:"medical-button-primary",onClick:J,disabled:eA,children:ek}),es[91]=J,es[92]=eA,es[93]=ek,es[94]=Y):Y=es[94],es[95]!==G||es[96]!==Y?(Q=(0,a.jsxs)("div",{className:"flex justify-end space-x-3",children:[G,Y]}),es[95]=G,es[96]=Y,es[97]=Q):Q=es[97],es[98]!==K||es[99]!==Q?(X=(0,a.jsxs)("div",{className:"flex flex-col md:flex-row justify-end space-y-3 md:space-y-0 md:space-x-3 pt-6 border-t",children:[K,Q]}),es[98]=K,es[99]=Q,es[100]=X):X=es[100],es[101]!==N||es[102]!==W||es[103]!==X?(ee=(0,a.jsxs)(th,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[N,W,X]}),es[101]=N,es[102]=W,es[103]=X,es[104]=ee):ee=es[104],es[105]!==er||es[106]!==en||es[107]!==ee?(et=(0,a.jsx)(tm,{open:er,onOpenChange:en,children:ee}),es[105]=er,es[106]=en,es[107]=ee,es[108]=et):et=es[108],et}function sx(e,t){return(0,a.jsx)(tl,{variant:"outline",className:"mr-2",children:e},t)}function sh(e){switch(e){case"confirmed":case"completed":case"paid":return"medical-badge-normal";case"in-progress":case"pending":return"medical-badge-mild";case"urgent":case"overdue":return"medical-badge-urgent";default:return"bg-gray-100 text-gray-800"}}function sp(e,t){return`${e.charAt(0)}${t.charAt(0)}`.toUpperCase()}function sf(e){if(!e)return null;let t=e instanceof Date?e:new Date(e);return isNaN(t.getTime())?null:t}function sj(){var e,t,s,n,i,c,o,d;let m,u,x,h,p,f,j,g,y,v,N,b,w,_,S,C,P,A,k,D,Z,I,T,O,E,M=(0,l.c)(55),[F,R]=(0,r.useState)(""),[$,U]=(0,r.useState)(!1),[z,L]=(0,r.useState)(null),[V,W]=(0,r.useState)(!1),[B,H]=(0,r.useState)(1),[K,G]=(0,r.useState)("all"),[J,Y]=(0,r.useState)("");M[0]!==F?(m=()=>{let e=setTimeout(()=>{Y(F),H(1)},500);return()=>clearTimeout(e)},u=[F],M[0]=F,M[1]=m,M[2]=u):(m=M[1],u=M[2]),(0,r.useEffect)(m,u),M[3]!==B||M[4]!==J||M[5]!==K?(x={page:B,limit:12,search:J,status:K},M[3]=B,M[4]=J,M[5]=K,M[6]=x):x=M[6];let{data:Q,isLoading:X}=tz(x);M[7]!==(null==Q||null==(e=Q.data)?void 0:e.patients)?(h=(null==Q||null==(s=Q.data)?void 0:s.patients)||[],M[7]=null==Q||null==(n=Q.data)?void 0:n.patients,M[8]=h):h=M[8];let ee=h,et=null==Q||null==(t=Q.data)?void 0:t.pagination,{data:es}=(c=(null==z?void 0:z.id)||"",o="patients",d={id:c},(0,ew.a)({queryKey:["supabase",o,"*",d],queryFn:()=>q(o,"*",d),select:e=>e.data,staleTime:3e5}));e:{let e;if(!z){p=null;break e}if(!es){p=z;break e}if(Array.isArray(es)&&es.length>0&&(null==(i=es[0])?void 0:i.id)){let e;M[9]!==es[0]?(e=tY(es[0]),M[9]=es[0],M[10]=e):e=M[10],p=e;break e}if(es&&"object"==typeof es&&es.id){let e;M[11]!==es?(e=tY(es),M[11]=es,M[12]=e):e=M[12],p=e;break e}M[13]!==z?(e=tY(z),M[13]=z,M[14]=e):e=M[14],p=e}let ea=p;M[15]===Symbol.for("react.memo_cache_sentinel")?(f=e=>{G(e),H(1)},M[15]=f):f=M[15];let er=f;if(X){let e;return M[16]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsx)("div",{className:"text-center",children:"Loading patients..."})}),M[16]=e):e=M[16],e}M[17]===Symbol.for("react.memo_cache_sentinel")?(j=(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold text-professional-dark",children:"Patient Management"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage patient records and medical history"})]}),M[17]=j):j=M[17],M[18]===Symbol.for("react.memo_cache_sentinel")?(g=(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8",children:[j,(0,a.jsxs)(ey,{className:"mt-4 sm:mt-0 medical-button-primary",onClick:()=>U(!0),children:[(0,a.jsx)(e9.Z,{className:"h-4 w-4 mr-2"}),"Add New Patient"]})]}),M[18]=g):g=M[18],M[19]===Symbol.for("react.memo_cache_sentinel")?(y=(0,a.jsx)(eK.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),M[19]=y):y=M[19],M[20]===Symbol.for("react.memo_cache_sentinel")?(v=e=>R(e.target.value),M[20]=v):v=M[20],M[21]!==F?(N=(0,a.jsxs)("div",{className:"relative flex-1",children:[y,(0,a.jsx)(eG,{placeholder:"Search patients by name or email...",value:F,onChange:v,className:"pl-10"})]}),M[21]=F,M[22]=N):N=M[22];let en="all"===K?"default":"outline";M[23]===Symbol.for("react.memo_cache_sentinel")?(b=()=>er("all"),M[23]=b):b=M[23],M[24]!==en?(w=(0,a.jsx)(ey,{variant:en,onClick:b,children:"All"}),M[24]=en,M[25]=w):w=M[25];let el="active"===K?"default":"outline";M[26]===Symbol.for("react.memo_cache_sentinel")?(_=()=>er("active"),M[26]=_):_=M[26],M[27]!==el?(S=(0,a.jsx)(ey,{variant:el,onClick:_,children:"Active"}),M[27]=el,M[28]=S):S=M[28];let ei="inactive"===K?"default":"outline";return M[29]===Symbol.for("react.memo_cache_sentinel")?(C=()=>er("inactive"),M[29]=C):C=M[29],M[30]!==ei?(P=(0,a.jsx)(ey,{variant:ei,onClick:C,children:"Inactive"}),M[30]=ei,M[31]=P):P=M[31],M[32]!==w||M[33]!==S||M[34]!==P?(A=(0,a.jsxs)("div",{className:"flex gap-2",children:[w,S,P]}),M[32]=w,M[33]=S,M[34]=P,M[35]=A):A=M[35],M[36]!==N||M[37]!==A?(k=(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[N,A]}),M[36]=N,M[37]=A,M[38]=k):k=M[38],M[39]!==J||M[40]!==et||M[41]!==ee?(D=(null==ee?void 0:ee.length)===0?(0,a.jsx)(te,{children:(0,a.jsx)(tr,{className:"text-center py-8",children:(0,a.jsx)("p",{className:"text-gray-500",children:J?"No patients found matching your search.":"No patients registered yet."})})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:null==ee?void 0:ee.map(e=>(0,a.jsxs)(te,{className:"hover:shadow-md transition-shadow cursor-pointer",onClick:()=>{L({id:e.id,firstName:e.name.split(" ")[0]||"",lastName:e.name.split(" ").slice(1).join(" ")||"",email:e.email||"",phone:e.phone||"",dateOfBirth:new Date,gender:e.gender||"Unknown",address:e.address||"",insuranceProvider:e.insurance||void 0,insurancePolicyNumber:void 0,insuranceGroupNumber:void 0,emergencyContactName:void 0,emergencyContactPhone:void 0,medicalHistory:void 0,allergies:[],currentMedications:[],memberSince:new Date(e.memberSince||new Date().toISOString()),isActive:e.isActive,createdAt:new Date,updatedAt:new Date}),W(!0)},children:[(0,a.jsx)(tt,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-medical-blue/10 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-sm font-medium text-medical-blue",children:e.initials})}),(0,a.jsxs)("div",{children:[(0,a.jsx)(ts,{className:"text-lg",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.email})]})]}),(0,a.jsx)(tl,{variant:e.isActive?"default":"secondary",children:e.status})]})}),(0,a.jsx)(tr,{children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Age:"}),(0,a.jsx)("span",{children:e.age||"N/A"})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Phone:"}),(0,a.jsx)("span",{children:e.phone})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Insurance:"}),(0,a.jsx)("span",{children:e.insurance||"N/A"})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Member since:"}),(0,a.jsx)("span",{children:e.memberSince||"N/A"})]})]})})]},e.id))}),et&&et.totalPages>1&&(0,a.jsxs)("div",{className:"flex justify-center items-center gap-4 mt-8",children:[(0,a.jsx)(ey,{variant:"outline",onClick:()=>H(sy),disabled:!et.hasPrevPage,children:"Previous"}),(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:["Page ",et.currentPage," of ",et.totalPages," (",et.totalCount," total)"]}),(0,a.jsx)(ey,{variant:"outline",onClick:()=>H(sg),disabled:!et.hasNextPage,children:"Next"})]})]}),M[39]=J,M[40]=et,M[41]=ee,M[42]=D):D=M[42],M[43]===Symbol.for("react.memo_cache_sentinel")?(Z=()=>U(!1),M[43]=Z):Z=M[43],M[44]!==$?(I=(0,a.jsx)(tQ,{isOpen:$,onClose:Z}),M[44]=$,M[45]=I):I=M[45],M[46]===Symbol.for("react.memo_cache_sentinel")?(T=()=>{W(!1),L(null)},M[46]=T):T=M[46],M[47]!==V||M[48]!==ea?(O=(0,a.jsx)(su,{patient:ea,isOpen:V,onClose:T}),M[47]=V,M[48]=ea,M[49]=O):O=M[49],M[50]!==k||M[51]!==D||M[52]!==I||M[53]!==O?(E=(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[g,k,D,I,O]}),M[50]=k,M[51]=D,M[52]=I,M[53]=O,M[54]=E):E=M[54],E}function sg(e){return e+1}function sy(e){return Math.max(1,e-1)}var sv=s(92627),sN=s(8495),sb=s(84154),sw=s(66005),s_=s(74021),sS=s(79831),sC=s(76575),sP=s(82898),sA=s(83528),sk=s(82535),sD=s(13181),sZ=s(62725),sI=s(71794),sT=s(91382),sO=s(83137),sE=s(49311),sM=s(35719),sF=s(86048),sR=s(80112);function s$(e){var t,s;let{children:n,content:l,trigger:i="hover",placement:c="top",offset:o=8,className:d=""}=e,[m,u]=(0,r.useState)(!1),x=(0,r.useRef)(null),{refs:h,floatingStyles:p,context:f}=(0,sM.YF)({open:m,onOpenChange:u,placement:c,middleware:[(0,sF.cv)(o),(0,sF.RR)({fallbackAxisSideDirection:"start"}),(0,sF.uY)({padding:5}),(0,sF.x7)({element:x})],whileElementsMounted:sR.Me}),j=(0,sM.XI)(f,{enabled:"hover"===i,delay:{open:200,close:100}}),g=(0,sM.eS)(f,{enabled:"click"===i}),y=(0,sM.KK)(f),v=(0,sM.bQ)(f),N=(0,sM.qs)(f,{role:"tooltip"}),{getReferenceProps:b,getFloatingProps:w}=(0,sM.NI)([j,g,y,v,N]);return(0,a.jsxs)(a.Fragment,{children:[(0,r.cloneElement)(n,{ref:h.setReference,...b()}),m&&(0,a.jsx)(sM.ll,{children:(0,a.jsxs)("div",{ref:h.setFloating,style:p,...w(),className:"z-50",children:[(0,a.jsx)(te,{className:`p-4 shadow-lg border max-w-sm ${d}`,children:l}),(0,a.jsx)("div",{ref:x,className:"absolute w-2 h-2 bg-white border rotate-45",style:{left:null==(t=f.middlewareData.arrow)?void 0:t.x,top:null==(s=f.middlewareData.arrow)?void 0:s.y}})]})})]})}s(64520);let sU={"en-US":sI._},sz=(0,sb.lD)({format:eI.WU,parse:sw.Qc,startOfWeek:s_.z,getDay:sS.w,locales:sU});function sL(e){let t,s,n,i,c,o,d,m,u,x,h,p,f,j,g,y,v,N=(0,l.c)(37),{appointments:b,onEditAppointment:w,onDeleteAppointment:_,onSelectSlot:S}=e,[C,P]=(0,r.useState)(sb.kO.MONTH);N[0]===Symbol.for("react.memo_cache_sentinel")?(t=new Date,N[0]=t):t=N[0];let[A,k]=(0,r.useState)(t),D=sq;e:{let e;if(!b){let e;N[1]===Symbol.for("react.memo_cache_sentinel")?(e=[],N[1]=e):e=N[1],s=e;break e}if(N[2]!==b){let t;N[4]===Symbol.for("react.memo_cache_sentinel")?(t=e=>{let t=new Date(e.appointmentDate),[s,a]=e.appointmentTime.split(":").map(Number);t.setHours(s,a,0,0);let r=new Date(t);return e.duration?r.setMinutes(r.getMinutes()+e.duration):r.setHours(r.getHours()+1),{id:e.id,title:`${D(e)} - ${e.procedure}`,start:t,end:r,resource:e}},N[4]=t):t=N[4],e=b.map(t),N[2]=b,N[3]=e}else e=N[3];s=e}let Z=s;N[5]!==_||N[6]!==w?(n=e=>{let{appointment:t}=e;return(0,a.jsxs)("div",{className:"space-y-3 min-w-[280px]",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h4",{className:"font-semibold text-medical-blue",children:t.procedure}),(0,a.jsx)(tl,{className:function(e){switch(e){case"confirmed":return"bg-green-100 text-green-800 border-green-200";case"scheduled":return"bg-blue-100 text-blue-800 border-blue-200";case"in-progress":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"completed":default:return"bg-gray-100 text-gray-800 border-gray-200";case"cancelled":return"bg-red-100 text-red-800 border-red-200";case"urgent":return"bg-orange-100 text-orange-800 border-orange-200"}}(t.status),children:t.status})]}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(en.Z,{className:"h-4 w-4 text-gray-500"}),(0,a.jsx)("span",{children:t.patientName})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(e_.Z,{className:"h-4 w-4 text-gray-500"}),(0,a.jsx)("span",{children:(0,eI.WU)(new Date(t.appointmentDate),"MMM dd, yyyy")})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(e$.Z,{className:"h-4 w-4 text-gray-500"}),(0,a.jsx)("span",{children:t.appointmentTime})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(en.Z,{className:"h-4 w-4 text-gray-500"}),(0,a.jsxs)("span",{children:["Dr. ",t.doctorName]})]}),t.notes&&(0,a.jsxs)("div",{className:"mt-2 p-2 bg-gray-50 rounded text-xs",children:[(0,a.jsx)("strong",{children:"Notes:"})," ",t.notes]})]}),(0,a.jsxs)("div",{className:"flex space-x-2 pt-2 border-t",children:[(0,a.jsxs)(ey,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>null==w?void 0:w(t),children:[(0,a.jsx)(sT.Z,{className:"h-3 w-3 mr-1"}),"Edit"]}),(0,a.jsxs)(ey,{size:"sm",variant:"destructive",className:"flex-1",onClick:()=>null==_?void 0:_(t.id),children:[(0,a.jsx)(sO.Z,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]})},N[5]=_,N[6]=w,N[7]=n):n=N[7];let I=n;N[8]!==I?(i=e=>{let{event:t}=e;return(0,a.jsx)(s$,{content:(0,a.jsx)(I,{appointment:t.resource}),trigger:"hover",placement:"top",className:"bg-white shadow-xl border-0",children:(0,a.jsxs)("div",{className:"h-full w-full cursor-pointer",children:[(0,a.jsx)("div",{className:"text-xs font-medium truncate",children:D(t.resource)}),(0,a.jsx)("div",{className:"text-xs opacity-90 truncate",children:t.resource.procedure})]})})},N[8]=I,N[9]=i):i=N[9];let T=i;N[10]===Symbol.for("react.memo_cache_sentinel")?(c=e=>{k(e)},N[10]=c):c=N[10];let O=c;N[11]===Symbol.for("react.memo_cache_sentinel")?(o=e=>{P(e)},N[11]=o):o=N[11];let E=o;N[12]!==A||N[13]!==C?(d=e=>{switch(C){case sb.kO.MONTH:return"next"===e?(0,sC.z)(A,1):(0,sP.W)(A,1);case sb.kO.WEEK:return"next"===e?(0,sA.j)(A,1):(0,sk.t)(A,1);case sb.kO.DAY:return"next"===e?(0,sD.E)(A,1):(0,sZ.k)(A,1);default:return"next"===e?(0,sC.z)(A,1):(0,sP.W)(A,1)}},N[12]=A,N[13]=C,N[14]=d):d=N[14];let M=d;N[15]!==A||N[16]!==C||N[17]!==M?(m=()=>(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4 p-4 bg-white rounded-lg border",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(ey,{variant:"outline",size:"sm",onClick:()=>O(M("prev")),children:(0,a.jsx)(sE.Z,{className:"h-4 w-4"})}),(0,a.jsx)(ey,{variant:"outline",size:"sm",onClick:()=>O(new Date),children:"Today"}),(0,a.jsx)(ey,{variant:"outline",size:"sm",onClick:()=>O(M("next")),children:(0,a.jsx)(eo.Z,{className:"h-4 w-4"})}),(0,a.jsx)("span",{className:"font-semibold text-lg text-professional-dark ml-4",children:(0,eI.WU)(A,C===sb.kO.MONTH?"MMMM yyyy":C===sb.kO.WEEK?"MMM dd, yyyy":"MMMM dd, yyyy")})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(ey,{variant:C===sb.kO.MONTH?"default":"outline",size:"sm",onClick:()=>E(sb.kO.MONTH),className:C===sb.kO.MONTH?"medical-button-primary":"",children:"Month"}),(0,a.jsx)(ey,{variant:C===sb.kO.WEEK?"default":"outline",size:"sm",onClick:()=>E(sb.kO.WEEK),className:C===sb.kO.WEEK?"medical-button-primary":"",children:"Week"}),(0,a.jsx)(ey,{variant:C===sb.kO.DAY?"default":"outline",size:"sm",onClick:()=>E(sb.kO.DAY),className:C===sb.kO.DAY?"medical-button-primary":"",children:"Day"})]})]}),N[15]=A,N[16]=C,N[17]=M,N[18]=m):m=N[18];let F=m;return N[19]===Symbol.for("react.memo_cache_sentinel")?(u=(0,a.jsx)(tt,{className:"pb-2",children:(0,a.jsx)(ts,{className:"text-xl text-professional-dark",children:"Appointment Calendar"})}),N[19]=u):u=N[19],N[20]!==F?(x=F(),N[20]=F,N[21]=x):x=N[21],N[22]===Symbol.for("react.memo_cache_sentinel")?(h={height:"600px",padding:"0 1rem 1rem"},N[22]=h):h=N[22],N[23]!==T?(p={event:T,toolbar:sW},N[23]=T,N[24]=p):p=N[24],N[25]===Symbol.for("react.memo_cache_sentinel")?(f=new Date(2024,0,1,8,0,0),j=new Date(2024,0,1,18,0,0),g={timeGutterFormat:"h:mm a",eventTimeRangeFormat:sV},N[25]=f,N[26]=j,N[27]=g):(f=N[25],j=N[26],g=N[27]),N[28]!==A||N[29]!==C||N[30]!==Z||N[31]!==S||N[32]!==p?(y=(0,a.jsx)("div",{className:"calendar-container",style:h,children:(0,a.jsx)(sb.f,{localizer:sz,events:Z,startAccessor:"start",endAccessor:"end",view:C,onView:E,date:A,onNavigate:O,eventPropGetter:sB,components:p,onSelectSlot:S,selectable:!0,popup:!0,showMultiDayTimes:!0,step:30,timeslots:2,min:f,max:j,formats:g})}),N[28]=A,N[29]=C,N[30]=Z,N[31]=S,N[32]=p,N[33]=y):y=N[33],N[34]!==x||N[35]!==y?(v=(0,a.jsxs)(te,{className:"h-full",children:[u,(0,a.jsxs)(tr,{className:"p-0",children:[x,y]})]}),N[34]=x,N[35]=y,N[36]=v):v=N[36],v}function sV(e){let{start:t,end:s}=e;return`${(0,eI.WU)(t,"h:mm a")} - ${(0,eI.WU)(s,"h:mm a")}`}function sW(){return null}function sB(e){let t=e.resource.status,s="#3174ad",a="#265a87";switch(t){case"confirmed":s="#22c55e",a="#16a34a";break;case"scheduled":s="#3b82f6",a="#2563eb";break;case"in-progress":s="#f59e0b",a="#d97706";break;case"completed":s="#6b7280",a="#4b5563";break;case"cancelled":s="#ef4444",a="#dc2626";break;case"urgent":s="#f97316",a="#ea580c"}return{style:{backgroundColor:s,borderColor:a,border:`1px solid ${a}`,borderRadius:"4px",color:"white",fontSize:"12px",padding:"2px 4px"}}}function sq(e){return e.patientName||"Unknown Patient"}function sH(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{toast:t}=v();return(0,ew.a)({queryKey:["doctors",e],queryFn:async()=>{try{let{data:{session:t}}=await z.auth.getSession();if(!t)throw Error("No authenticated session found");let s=new URL("https://sqgtgwrhxoaeaxofyelf.supabase.co/functions/v1/get-doctors-by-clinic-id");e.includeInactive&&s.searchParams.set("include_inactive","true"),e.specialization&&s.searchParams.set("specialization",e.specialization);let a=await fetch(s.toString(),{method:"GET",headers:{Authorization:`Bearer ${t.access_token}`,"Content-Type":"application/json"}});if(!a.ok){let e=await a.text(),t={};try{t=JSON.parse(e)}catch{t={message:e}}throw Error((null==t?void 0:t.error)||(null==t?void 0:t.message)||`HTTP error ${a.status}`)}let r=await a.json();if(!r.success)throw Error(r.error||"Failed to fetch doctors");return r}catch(e){throw console.error("Error fetching doctors:",e),t({title:"Error Fetching Doctors",description:(null==e?void 0:e.message)||"Failed to fetch doctors. Please try again.",variant:"destructive"}),e}},staleTime:3e5,refetchOnWindowFocus:!0})}function sK(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{toast:t}=v();return(0,ew.a)({queryKey:["procedures",e],queryFn:async()=>{try{let{data:{session:t}}=await z.auth.getSession();if(!t)throw Error("No authenticated session found");let s=new URL("https://sqgtgwrhxoaeaxofyelf.supabase.co/functions/v1/get-procedures");e.page&&s.searchParams.set("page",e.page.toString()),e.limit&&s.searchParams.set("limit",e.limit.toString()),e.search&&s.searchParams.set("search",e.search),e.status&&s.searchParams.set("status",e.status),e.doctorName&&s.searchParams.set("doctor_name",e.doctorName),e.procedureName&&s.searchParams.set("procedure_name",e.procedureName),e.dateFrom&&s.searchParams.set("date_from",e.dateFrom),e.dateTo&&s.searchParams.set("date_to",e.dateTo),e.minCost&&s.searchParams.set("min_cost",e.minCost),e.maxCost&&s.searchParams.set("max_cost",e.maxCost),void 0!==e.includeStandalone&&s.searchParams.set("include_standalone",String(e.includeStandalone)),void 0!==e.linkedOnly&&s.searchParams.set("linked_only",String(e.linkedOnly));let a=await fetch(s.toString(),{method:"GET",headers:{Authorization:`Bearer ${t.access_token}`,"Content-Type":"application/json"}});if(!a.ok){let e=await a.text(),t={};try{t=JSON.parse(e)}catch{t={message:e}}throw Error((null==t?void 0:t.error)||(null==t?void 0:t.message)||`HTTP error ${a.status}`)}let r=await a.json();if(!r.success)throw Error(r.error||"Failed to fetch procedures");return r}catch(e){throw console.error("Error fetching procedures:",e),t({title:"Error Fetching Procedures",description:(null==e?void 0:e.message)||"Failed to fetch procedures. Please try again.",variant:"destructive"}),e}},staleTime:3e5,refetchOnWindowFocus:!0})}function sG(e){var t,s,n;let i,c,o,m,x,h,p,f,j,g,y,N,b,w,_,S,C,P,A,k,D,Z,I,T,O,E,M,F,R,$,U,z,L,V,W,B,q=(0,l.c)(92),{appointment:H,patients:K,isOpen:G,onClose:J}=e,{toast:Y}=v(),Q=(0,u.NL)();q[0]===Symbol.for("react.memo_cache_sentinel")?(i={defaultValues:{patientId:"",doctorId:"",appointmentDate:new Date,appointmentTime:"",procedure:"",status:"scheduled",notes:""}},q[0]=i):i=q[0];let X=(0,tP.cI)(i);q[1]!==K?(c=Array.isArray(K)?K:(null==K||null==(t=K.data)?void 0:t.patients)??(null==K?void 0:K.patients)??[],q[1]=K,q[2]=c):c=q[2];let ee=c;q[3]!==ee?(o=ee.map(s5),q[3]=ee,q[4]=o):o=q[4];let et=o,{data:es}=sH();q[5]!==es?(m=(null==es||null==(s=es.data)?void 0:s.doctors)??[],q[5]=es,q[6]=m):m=q[6];let ea=m;q[7]!==ea?(x=ea.map(s3),q[7]=ea,q[8]=x):x=q[8];let er=x;q[9]===Symbol.for("react.memo_cache_sentinel")?(h={page:1,limit:200},q[9]=h):h=q[9];let{data:el}=sK(h);q[10]!==el?(p=(null==el||null==(n=el.data)?void 0:n.procedures)??[],q[10]=el,q[11]=p):p=q[11];let ei=p;q[12]!==ei?(f=ei.map(s4),q[12]=ei,q[13]=f):f=q[13];let ec=f;q[14]!==H||q[15]!==X||q[16]!==er||q[17]!==ec?(j=()=>{if(H){var e,t,s,a,r,n,l,i;let c=H.patientId||(null==(e=H.patient)?void 0:e.id)||(null==(t=H.patient)?void 0:t.patientId)||(null==(s=H.patient)?void 0:s.userId)||"",o=H.doctorId||(null==(a=H.doctor)?void 0:a.id)||(null==(r=H.doctor)?void 0:r.userId)||(null==(n=H.doctor)?void 0:n.doctorId)||"";if(!o){let e=H.doctorName||(null==(l=H.doctor)?void 0:l.displayName)||(null==(i=H.doctor)?void 0:i.name)||"",t=er.find(t=>t.label===e||t.id===String(e));o=t?t.id:""}let d=H.procedure||"";if(!d&&Array.isArray(H.procedures)&&H.procedures.length>0){let e=H.procedures[0];d=(null==e?void 0:e.procedureName)||(null==e?void 0:e.procedure_name)||(null==e?void 0:e.id)||""}let m="";if(d){let e=ec.find(e=>e.id===String(d)||e.name===d);m=e?e.id:String(d)}let u=H.appointmentDate?new Date(H.appointmentDate):new Date,x=H.appointmentTime||"",h=H.status||"scheduled",p=H.notes||"";X.reset({patientId:c,doctorId:o,appointmentDate:u,appointmentTime:x,procedure:m,status:h,notes:p})}},g=[H,X,er,ec],q[14]=H,q[15]=X,q[16]=er,q[17]=ec,q[18]=j,q[19]=g):(j=q[18],g=q[19]),(0,r.useEffect)(j,g),q[20]!==(null==H?void 0:H.id)?(y=async e=>(await d("PATCH",`/api/appointments/${null==H?void 0:H.id}`,e)).json(),q[20]=null==H?void 0:H.id,q[21]=y):y=q[21],q[22]!==J||q[23]!==Q||q[24]!==Y?(N=()=>{Q.invalidateQueries({queryKey:["/api/appointments"]}),Y({title:"Appointment Updated",description:"The appointment has been updated successfully."}),J()},q[22]=J,q[23]=Q,q[24]=Y,q[25]=N):N=q[25],q[26]!==Y?(b=()=>{Y({title:"Update Failed",description:"Failed to update the appointment. Please try again.",variant:"destructive"})},q[26]=Y,q[27]=b):b=q[27],q[28]!==y||q[29]!==N||q[30]!==b?(w={mutationFn:y,onSuccess:N,onError:b},q[28]=y,q[29]=N,q[30]=b,q[31]=w):w=q[31];let eo=(0,eE.D)(w);q[32]!==ec||q[33]!==eo?(_=e=>{var t;let s=e.appointmentDate instanceof Date?e.appointmentDate.toISOString():String(e.appointmentDate),a=(null==(t=ec.find(t=>t.id===e.procedure))?void 0:t.name)??e.procedure,r={patient:{id:e.patientId},doctor:{id:e.doctorId},appointmentDate:s,appointmentTime:e.appointmentTime,duration:30,appointmentType:"consultation",reason:null,notes:e.notes||null,status:e.status,procedures:[{id:e.procedure,procedureName:a,performedDate:s,status:"planned"}]};eo.mutate(r)},q[32]=ec,q[33]=eo,q[34]=_):_=q[34];let ed=_;q[35]!==X||q[36]!==J?(S=()=>{X.reset(),J()},q[35]=X,q[36]=J,q[37]=S):S=q[37];let em=S;if(!H)return null;q[38]===Symbol.for("react.memo_cache_sentinel")?(C=(0,a.jsx)(tp,{children:(0,a.jsxs)(tf,{className:"flex items-center space-x-2 text-xl font-semibold text-professional-dark",children:[(0,a.jsx)(so.Z,{className:"h-5 w-5 text-medical-blue"}),(0,a.jsx)("span",{children:"Edit Appointment"})]})}),q[38]=C):C=q[38],q[39]!==X||q[40]!==ed?(P=X.handleSubmit(ed),q[39]=X,q[40]=ed,q[41]=P):P=q[41],q[42]===Symbol.for("react.memo_cache_sentinel")?(A=(0,a.jsx)(tt,{children:(0,a.jsx)(ts,{className:"text-lg text-medical-blue",children:"Appointment Details"})}),q[42]=A):A=q[42],q[43]!==et?(k=e=>{let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsxs)(tR,{className:"flex items-center space-x-1",children:[(0,a.jsx)(en.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Patient *"})]}),(0,a.jsxs)(ty,{value:t.value,onValueChange:t.onChange,children:[(0,a.jsx)(t$,{children:(0,a.jsx)(tN,{children:(0,a.jsx)(tv,{placeholder:"Select patient"})})}),(0,a.jsx)(t_,{children:et.map(s2)})]}),(0,a.jsx)(tU,{})]})},q[43]=et,q[44]=k):k=q[44],q[45]!==X.control||q[46]!==k?(D=(0,a.jsx)(tO,{control:X.control,name:"patientId",render:k}),q[45]=X.control,q[46]=k,q[47]=D):D=q[47],q[48]!==X.control?(Z=(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(tO,{control:X.control,name:"appointmentDate",render:s1}),(0,a.jsx)(tO,{control:X.control,name:"appointmentTime",render:s0})]}),q[48]=X.control,q[49]=Z):Z=q[49],q[50]!==er?(I=e=>{let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsx)(tR,{children:"Doctor *"}),(0,a.jsxs)(ty,{value:t.value,onValueChange:t.onChange,children:[(0,a.jsx)(t$,{children:(0,a.jsx)(tN,{children:(0,a.jsx)(tv,{placeholder:"Select doctor"})})}),(0,a.jsx)(t_,{children:0===er.length?(0,a.jsx)(tS,{value:"",children:"No doctors available"}):er.map(sX)})]}),(0,a.jsx)(tU,{})]})},q[50]=er,q[51]=I):I=q[51],q[52]!==X.control||q[53]!==I?(T=(0,a.jsx)(tO,{control:X.control,name:"doctorId",render:I}),q[52]=X.control,q[53]=I,q[54]=T):T=q[54],q[55]!==X.control?(O=(0,a.jsx)(tO,{control:X.control,name:"status",render:sQ}),q[55]=X.control,q[56]=O):O=q[56],q[57]!==T||q[58]!==O?(E=(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[T,O]}),q[57]=T,q[58]=O,q[59]=E):E=q[59],q[60]!==ec?(M=e=>{let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsx)(tR,{children:"Procedure *"}),(0,a.jsxs)(ty,{value:t.value,onValueChange:t.onChange,children:[(0,a.jsx)(t$,{children:(0,a.jsx)(tN,{children:(0,a.jsx)(tv,{placeholder:"Select procedure"})})}),(0,a.jsx)(t_,{children:0===ec.length?(0,a.jsx)(tS,{value:"",children:"No procedures available"}):ec.map(sY)})]}),(0,a.jsx)(tU,{})]})},q[60]=ec,q[61]=M):M=q[61],q[62]!==X.control||q[63]!==M?(F=(0,a.jsx)(tO,{control:X.control,name:"procedure",render:M}),q[62]=X.control,q[63]=M,q[64]=F):F=q[64],q[65]!==X.control?(R=(0,a.jsx)(tO,{control:X.control,name:"notes",render:sJ}),q[65]=X.control,q[66]=R):R=q[66],q[67]!==D||q[68]!==Z||q[69]!==E||q[70]!==F||q[71]!==R?($=(0,a.jsxs)(te,{children:[A,(0,a.jsxs)(tr,{className:"space-y-4",children:[D,Z,E,F,R]})]}),q[67]=D,q[68]=Z,q[69]=E,q[70]=F,q[71]=R,q[72]=$):$=q[72],q[73]!==em?(U=(0,a.jsx)(ey,{type:"button",variant:"outline",onClick:em,children:"Cancel"}),q[73]=em,q[74]=U):U=q[74];let eu=eo.isPending?"Updating...":"Update Appointment";return q[75]!==eu||q[76]!==eo.isPending?(z=(0,a.jsx)(ey,{type:"submit",className:"medical-button-primary",disabled:eo.isPending,children:eu}),q[75]=eu,q[76]=eo.isPending,q[77]=z):z=q[77],q[78]!==U||q[79]!==z?(L=(0,a.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[U,z]}),q[78]=U,q[79]=z,q[80]=L):L=q[80],q[81]!==P||q[82]!==$||q[83]!==L?(V=(0,a.jsxs)("form",{onSubmit:P,className:"space-y-6",children:[$,L]}),q[81]=P,q[82]=$,q[83]=L,q[84]=V):V=q[84],q[85]!==X||q[86]!==V?(W=(0,a.jsxs)(th,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[C,(0,a.jsx)(tI,{...X,children:V})]}),q[85]=X,q[86]=V,q[87]=W):W=q[87],q[88]!==em||q[89]!==G||q[90]!==W?(B=(0,a.jsx)(tm,{open:G,onOpenChange:em,children:W}),q[88]=em,q[89]=G,q[90]=W,q[91]=B):B=q[91],B}function sJ(e){let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsx)(tR,{children:"Notes"}),(0,a.jsx)(t$,{children:(0,a.jsx)(tC,{placeholder:"Additional notes or special instructions...",className:"min-h-[80px]",value:t.value||"",onChange:e=>t.onChange(e.target.value||null)})}),(0,a.jsx)(tU,{})]})}function sY(e){return(0,a.jsx)(tS,{value:e.id,children:e.name},e.id)}function sQ(e){let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsx)(tR,{children:"Status *"}),(0,a.jsxs)(ty,{value:t.value,onValueChange:t.onChange,children:[(0,a.jsx)(t$,{children:(0,a.jsx)(tN,{children:(0,a.jsx)(tv,{placeholder:"Select status"})})}),(0,a.jsxs)(t_,{children:[(0,a.jsx)(tS,{value:"scheduled",children:"Scheduled"}),(0,a.jsx)(tS,{value:"confirmed",children:"Confirmed"}),(0,a.jsx)(tS,{value:"in-progress",children:"In Progress"}),(0,a.jsx)(tS,{value:"completed",children:"Completed"}),(0,a.jsx)(tS,{value:"cancelled",children:"Cancelled"}),(0,a.jsx)(tS,{value:"urgent",children:"Urgent"})]})]}),(0,a.jsx)(tU,{})]})}function sX(e){return(0,a.jsx)(tS,{value:e.id,children:e.label},e.id)}function s0(e){let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsxs)(tR,{className:"flex items-center space-x-1",children:[(0,a.jsx)(e$.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Time *"})]}),(0,a.jsx)(t$,{children:(0,a.jsx)(eG,{type:"time",...t})}),(0,a.jsx)(tU,{})]})}function s1(e){let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsxs)(tR,{className:"flex items-center space-x-1",children:[(0,a.jsx)(e_.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Date *"})]}),(0,a.jsx)(t$,{children:(0,a.jsx)(eG,{type:"date",value:t.value instanceof Date?t.value.toISOString().split("T")[0]:t.value,onChange:e=>t.onChange(new Date(e.target.value))})}),(0,a.jsx)(tU,{})]})}function s2(e){return(0,a.jsx)(tS,{value:e.id,children:`${e.firstName}${e.lastName?` ${e.lastName}`:""}${e.email?` - ${e.email}`:""}`},e.id)}function s4(e){return{id:String(e.id??e.procedureId??e._id??""),name:e.procedureName??e.procedure_name??String(e.id??e.procedureId??"")}}function s3(e){return{id:String(e.id??e.doctorId??e.userId??""),label:e.displayName??e.name??e.fullName??e.id??""}}function s5(e){return{id:String(e.id??e.patient_id??e.patientId??""),firstName:e.firstName??e.first_name??e.name??"",lastName:e.lastName??e.last_name??"",email:e.email??""}}function s6(e){var t,s,r,n,i,c,o,d,m;let x,h,p,f,j,g,y,N,b,w,_,S,C,P,A,k,D,Z,I,T,O,E,M,F,R,$,U,L,V,W,B,q,H,K,G,J,Y=(0,l.c)(88),{patients:Q,isOpen:X,onClose:ee,selectedDate:et}=e;Y[0]!==et?(x=et||new Date,Y[0]=et,Y[1]=x):x=Y[1],Y[2]!==x?(h={defaultValues:{patientId:"",doctorId:"",appointmentDate:x,appointmentTime:"",procedure:"",status:"scheduled",notes:""}},Y[2]=x,Y[3]=h):h=Y[3];let es=(0,tP.cI)(h),{data:ea,isLoading:er}=sH();Y[4]!==(null==ea||null==(t=ea.data)?void 0:t.doctors)?(p=(null==ea||null==(n=ea.data)?void 0:n.doctors)??[],Y[4]=null==ea||null==(i=ea.data)?void 0:i.doctors,Y[5]=p):p=Y[5];let el=p;Y[6]===Symbol.for("react.memo_cache_sentinel")?(f={page:1,limit:100,status:"all"},Y[6]=f):f=Y[6];let{data:ei,isLoading:ec}=tz(f);Y[7]!==(null==ei||null==(s=ei.data)?void 0:s.patients)?(j=(null==ei||null==(c=ei.data)?void 0:c.patients)??[],Y[7]=null==ei||null==(o=ei.data)?void 0:o.patients,Y[8]=j):j=Y[8];let eo=j,ed=eo.length>0?eo:Q;Y[9]===Symbol.for("react.memo_cache_sentinel")?(g={page:1,limit:100},Y[9]=g):g=Y[9];let{data:em,isLoading:eu}=sK(g);Y[10]!==(null==em||null==(r=em.data)?void 0:r.procedures)?(y=(null==em||null==(d=em.data)?void 0:d.procedures)??[],Y[10]=null==em||null==(m=em.data)?void 0:m.procedures,Y[11]=y):y=Y[11];let ex=y,eh=function(){let e=(0,u.NL)(),{toast:t}=v();return(0,eE.D)({mutationFn:async e=>{let{data:{session:t}}=await z.auth.getSession();if(!t)throw Error("No authenticated session found");let{data:s,error:a}=await z.functions.invoke("create-appointment",{body:e,headers:{Authorization:`Bearer ${t.access_token}`}});if(a)throw a;return s},onSuccess:s=>(e.invalidateQueries({queryKey:["appointments"]}),t({title:"Appointment Created",description:(null==s?void 0:s.message)||"New appointment has been scheduled."}),s),onError:e=>{console.error("Error adding appointment:",e),t({title:"Error Creating Appointment",description:(null==e?void 0:e.message)||"Failed to create appointment. Please try again.",variant:"destructive"})}})}();Y[12]!==eh||Y[13]!==ex||Y[14]!==es||Y[15]!==X||Y[16]!==ee?(_=()=>{es.reset(),ee()},w=tm,P=X,A=_,b=th,S="max-w-2xl max-h-[90vh] overflow-y-auto",Y[27]===Symbol.for("react.memo_cache_sentinel")?(C=(0,a.jsx)(tp,{children:(0,a.jsxs)(tf,{className:"flex items-center space-x-2 text-xl font-semibold text-professional-dark",children:[(0,a.jsx)(so.Z,{className:"h-5 w-5 text-medical-blue"}),(0,a.jsx)("span",{children:"Schedule New Appointment"})]})}),Y[27]=C):C=Y[27],N=tI,D=es,k=es.handleSubmit(e=>{let t=e.doctorId,s=e.procedure,a=ex.find(e=>e.id===s||e.procedureName===s||e.procedure_name===s),r=(null==a?void 0:a.procedureName)??(null==a?void 0:a.procedure_name)??String(s),n=e.appointmentDate instanceof Date?e.appointmentDate.toISOString():String(e.appointmentDate),l={patient:{id:e.patientId},doctor:{id:t},appointmentDate:n,appointmentTime:e.appointmentTime,duration:30,appointmentType:"consultation",reason:null,notes:e.notes||null,status:e.status,procedures:[{id:s,procedureName:r,performedDate:n,status:"planned"}]};eh.mutate(l,{onSuccess:()=>{_()}})}),Y[12]=eh,Y[13]=ex,Y[14]=es,Y[15]=X,Y[16]=ee,Y[17]=N,Y[18]=b,Y[19]=w,Y[20]=_,Y[21]=S,Y[22]=C,Y[23]=P,Y[24]=A,Y[25]=k,Y[26]=D):(N=Y[17],b=Y[18],w=Y[19],_=Y[20],S=Y[21],C=Y[22],P=Y[23],A=Y[24],k=Y[25],D=Y[26]),Y[28]===Symbol.for("react.memo_cache_sentinel")?(Z=(0,a.jsx)(tt,{children:(0,a.jsx)(ts,{className:"text-lg text-medical-blue",children:"Appointment Details"})}),Y[28]=Z):Z=Y[28],Y[29]!==ed||Y[30]!==ec?(I=e=>{let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsxs)(tR,{className:"flex items-center space-x-1",children:[(0,a.jsx)(en.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Patient *"})]}),(0,a.jsxs)(ty,{onValueChange:t.onChange,defaultValue:t.value,children:[(0,a.jsx)(t$,{children:(0,a.jsx)(tN,{children:(0,a.jsx)(tv,{placeholder:"Select patient"})})}),(0,a.jsx)(t_,{children:ec?(0,a.jsx)(tS,{value:"__loading-patients",disabled:!0,children:"Loading patients..."}):((null==ed?void 0:ed.length)??0)===0?(0,a.jsx)(tS,{value:"__no-patients",disabled:!0,children:"No patients available"}):ed.map(aa)})]}),(0,a.jsx)(tU,{})]})},Y[29]=ed,Y[30]=ec,Y[31]=I):I=Y[31],Y[32]!==es.control||Y[33]!==I?(T=(0,a.jsx)(tO,{control:es.control,name:"patientId",render:I}),Y[32]=es.control,Y[33]=I,Y[34]=T):T=Y[34],Y[35]!==es.control?(O=(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(tO,{control:es.control,name:"appointmentDate",render:as}),(0,a.jsx)(tO,{control:es.control,name:"appointmentTime",render:at})]}),Y[35]=es.control,Y[36]=O):O=Y[36],Y[37]!==el||Y[38]!==er?(E=e=>{let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsx)(tR,{children:"Doctor *"}),(0,a.jsxs)(ty,{onValueChange:t.onChange,defaultValue:t.value,children:[(0,a.jsx)(t$,{children:(0,a.jsx)(tN,{children:(0,a.jsx)(tv,{placeholder:"Select doctor"})})}),(0,a.jsx)(t_,{children:er?(0,a.jsx)(tS,{value:"",disabled:!0,children:"Loading doctors..."}):0===el.length?(0,a.jsx)(tS,{value:"",disabled:!0,children:"No doctors available"}):el.map(ae)})]}),(0,a.jsx)(tU,{})]})},Y[37]=el,Y[38]=er,Y[39]=E):E=Y[39],Y[40]!==es.control||Y[41]!==E?(M=(0,a.jsx)(tO,{control:es.control,name:"doctorId",render:E}),Y[40]=es.control,Y[41]=E,Y[42]=M):M=Y[42],Y[43]!==es.control?(F=(0,a.jsx)(tO,{control:es.control,name:"status",render:s9}),Y[43]=es.control,Y[44]=F):F=Y[44],Y[45]!==M||Y[46]!==F?(R=(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[M,F]}),Y[45]=M,Y[46]=F,Y[47]=R):R=Y[47],Y[48]!==ex||Y[49]!==eu?($=e=>{let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsx)(tR,{children:"Procedure *"}),(0,a.jsxs)(ty,{onValueChange:t.onChange,defaultValue:t.value,children:[(0,a.jsx)(t$,{children:(0,a.jsx)(tN,{children:(0,a.jsx)(tv,{placeholder:"Select procedure"})})}),(0,a.jsx)(t_,{children:eu?(0,a.jsx)(tS,{value:"__loading-procedures",disabled:!0,children:"Loading procedures..."}):0===ex.length?(0,a.jsx)(tS,{value:"__no-procedures",disabled:!0,children:"No procedures available"}):ex.map(s7)})]}),(0,a.jsx)(tU,{})]})},Y[48]=ex,Y[49]=eu,Y[50]=$):$=Y[50],Y[51]!==es.control||Y[52]!==$?(U=(0,a.jsx)(tO,{control:es.control,name:"procedure",render:$}),Y[51]=es.control,Y[52]=$,Y[53]=U):U=Y[53],Y[54]!==es.control?(L=(0,a.jsx)(tO,{control:es.control,name:"notes",render:s8}),Y[54]=es.control,Y[55]=L):L=Y[55],Y[56]!==T||Y[57]!==O||Y[58]!==R||Y[59]!==U||Y[60]!==L?(V=(0,a.jsxs)(te,{children:[Z,(0,a.jsxs)(tr,{className:"space-y-4",children:[T,O,R,U,L]})]}),Y[56]=T,Y[57]=O,Y[58]=R,Y[59]=U,Y[60]=L,Y[61]=V):V=Y[61],Y[62]!==_?(W=(0,a.jsx)(ey,{type:"button",variant:"outline",onClick:_,children:"Cancel"}),Y[62]=_,Y[63]=W):W=Y[63];let ep=eh.isPending?"Scheduling...":"Schedule Appointment";return Y[64]!==eh.isPending||Y[65]!==ep?(B=(0,a.jsx)(ey,{type:"submit",className:"medical-button-primary",disabled:eh.isPending,children:ep}),Y[64]=eh.isPending,Y[65]=ep,Y[66]=B):B=Y[66],Y[67]!==W||Y[68]!==B?(q=(0,a.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[W,B]}),Y[67]=W,Y[68]=B,Y[69]=q):q=Y[69],Y[70]!==V||Y[71]!==q||Y[72]!==k?(H=(0,a.jsxs)("form",{onSubmit:k,className:"space-y-6",children:[V,q]}),Y[70]=V,Y[71]=q,Y[72]=k,Y[73]=H):H=Y[73],Y[74]!==N||Y[75]!==H||Y[76]!==D?(K=(0,a.jsx)(N,{...D,children:H}),Y[74]=N,Y[75]=H,Y[76]=D,Y[77]=K):K=Y[77],Y[78]!==b||Y[79]!==S||Y[80]!==C||Y[81]!==K?(G=(0,a.jsxs)(b,{className:S,children:[C,K]}),Y[78]=b,Y[79]=S,Y[80]=C,Y[81]=K,Y[82]=G):G=Y[82],Y[83]!==w||Y[84]!==P||Y[85]!==A||Y[86]!==G?(J=(0,a.jsx)(w,{open:P,onOpenChange:A,children:G}),Y[83]=w,Y[84]=P,Y[85]=A,Y[86]=G,Y[87]=J):J=Y[87],J}function s8(e){let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsx)(tR,{children:"Notes"}),(0,a.jsx)(t$,{children:(0,a.jsx)(tC,{placeholder:"Additional notes or special instructions...",className:"min-h-[80px]",value:t.value||"",onChange:e=>t.onChange(e.target.value||null)})}),(0,a.jsx)(tU,{})]})}function s7(e){return(0,a.jsx)(tS,{value:e.id,children:e.procedureName??e.procedure_name??`Procedure ${e.id}`},e.id)}function s9(e){let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsx)(tR,{children:"Status *"}),(0,a.jsxs)(ty,{onValueChange:t.onChange,defaultValue:t.value,children:[(0,a.jsx)(t$,{children:(0,a.jsx)(tN,{children:(0,a.jsx)(tv,{placeholder:"Select status"})})}),(0,a.jsxs)(t_,{children:[(0,a.jsx)(tS,{value:"scheduled",children:"Scheduled"}),(0,a.jsx)(tS,{value:"confirmed",children:"Confirmed"}),(0,a.jsx)(tS,{value:"in-progress",children:"In Progress"}),(0,a.jsx)(tS,{value:"completed",children:"Completed"}),(0,a.jsx)(tS,{value:"cancelled",children:"Cancelled"}),(0,a.jsx)(tS,{value:"urgent",children:"Urgent"})]})]}),(0,a.jsx)(tU,{})]})}function ae(e){return(0,a.jsx)(tS,{value:e.id,children:e.displayName??e.name},e.id)}function at(e){let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsxs)(tR,{className:"flex items-center space-x-1",children:[(0,a.jsx)(e$.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Time *"})]}),(0,a.jsx)(t$,{children:(0,a.jsx)(eG,{type:"time",...t})}),(0,a.jsx)(tU,{})]})}function as(e){let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsxs)(tR,{className:"flex items-center space-x-1",children:[(0,a.jsx)(e_.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Date *"})]}),(0,a.jsx)(t$,{children:(0,a.jsx)(eG,{type:"date",value:t.value instanceof Date?t.value.toISOString().split("T")[0]:t.value,onChange:e=>t.onChange(new Date(e.target.value))})}),(0,a.jsx)(tU,{})]})}function aa(e){return(0,a.jsx)(tS,{value:e.id,children:e.firstName&&e.lastName?`${e.firstName} ${e.lastName} - ${e.email??""}`:`${e.name??`${e.email??"Unknown"}`} ${e.email?`- ${e.email}`:""}`},e.id)}function ar(){var e,t;let s,n,i,c,o,d,m,x,h,p,f,j,g,y,N,b,w,_,S,C,P,A,k,D=(0,l.c)(48);D[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,eI.WU)(new Date,"yyyy-MM-dd"),D[0]=s):s=D[0],(0,r.useState)(s);let[Z,I]=(0,r.useState)(null),[T,O]=(0,r.useState)(!1),[E,M]=(0,r.useState)(!1),{toast:F}=v(),R=(0,u.NL)();if(D[1]===Symbol.for("react.memo_cache_sentinel")){let e=new Date;n=(0,sv.N)(e).toISOString(),i=(0,sN.V)(e).toISOString(),D[1]=n,D[2]=i}else n=D[1],i=D[2];let U=i;D[3]===Symbol.for("react.memo_cache_sentinel")?(c={start:n,end:U},D[3]=c):c=D[3];let{data:L,isLoading:V,error:W}=(e=c,(0,ew.a)({queryKey:["appointments",e],queryFn:async()=>{let{data:{session:t}}=await z.auth.getSession();if(!t)throw Error("No authenticated session found");let s=new URLSearchParams({start:e.start,end:e.end,...e.view&&{view:e.view},...e.limit&&{limit:e.limit.toString()},...e.status&&e.status.length>0&&{status:e.status.join(",")}}),a=await fetch(`${$}/functions/v1/get-appointments?${s.toString()}`,{method:"GET",headers:{Authorization:`Bearer ${t.access_token}`,"Content-Type":"application/json"}});if(!a.ok)throw Error(`HTTP error! status: ${a.status}`);let r=await a.json();if(!r.success)throw Error(r.error||"Failed to fetch appointments");return r.data},enabled:!!e.start&&!!e.end,staleTime:3e5}));D[4]!==L?(o=void 0===L?[]:L,D[4]=L,D[5]=o):o=D[5];let B=o;D[6]===Symbol.for("react.memo_cache_sentinel")?(d={page:1,limit:200},D[6]=d):d=D[6];let{data:q}=tz(d);D[7]!==q?(m=(null==q||null==(t=q.data)?void 0:t.patients)??(null==q?void 0:q.patients)??[],D[7]=q,D[8]=m):m=D[8];let H=m;D[9]!==R||D[10]!==F?(x=()=>{R.invalidateQueries({queryKey:["/api/appointments"]}),F({title:"Appointment Deleted",description:"The appointment has been deleted successfully."})},D[9]=R,D[10]=F,D[11]=x):x=D[11],D[12]!==F?(h=()=>{F({title:"Delete Failed",description:"Failed to delete the appointment. Please try again.",variant:"destructive"})},D[12]=F,D[13]=h):h=D[13],D[14]!==x||D[15]!==h?(p={mutationFn:an,onSuccess:x,onError:h},D[14]=x,D[15]=h,D[16]=p):p=D[16];let K=(0,eE.D)(p);D[17]===Symbol.for("react.memo_cache_sentinel")?(f=e=>{I(e),O(!0)},D[17]=f):f=D[17];let G=f;D[18]!==K?(j=e=>{confirm("Are you sure you want to delete this appointment?")&&K.mutate(e)},D[18]=K,D[19]=j):j=D[19];let J=j;D[20]!==F?(g=e=>{F({title:"Create New Appointment",description:`Selected time slot: ${(0,eI.WU)(e.start,"MMM dd, yyyy 'at' h:mm a")}`})},D[20]=F,D[21]=g):g=D[21];let Y=g;if(V){let e;return D[22]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsx)("div",{className:"text-center",children:"Loading appointments..."})}),D[22]=e):e=D[22],e}if(W){let e;return D[23]!==W.message?(e=(0,a.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsxs)("div",{className:"text-center text-red-500",children:["Error loading appointments: ",W.message]})}),D[23]=W.message,D[24]=e):e=D[24],e}return D[25]===Symbol.for("react.memo_cache_sentinel")?(y=(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold text-professional-dark",children:"Appointment Management"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Schedule and manage patient appointments with calendar view"})]}),D[25]=y):y=D[25],D[26]===Symbol.for("react.memo_cache_sentinel")?(N=(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8",children:[y,(0,a.jsxs)(ey,{className:"mt-4 sm:mt-0 medical-button-primary",onClick:()=>M(!0),children:[(0,a.jsx)(e9.Z,{className:"h-4 w-4 mr-2"}),"New Appointment"]})]}),D[26]=N):N=D[26],D[27]!==B||D[28]!==J||D[29]!==Y?(b=(0,a.jsx)(sL,{appointments:B,onEditAppointment:G,onDeleteAppointment:J,onSelectSlot:Y}),D[27]=B,D[28]=J,D[29]=Y,D[30]=b):b=D[30],D[31]!==H?(w=H||[],D[31]=H,D[32]=w):w=D[32],D[33]===Symbol.for("react.memo_cache_sentinel")?(_=()=>M(!1),D[33]=_):_=D[33],D[34]!==E||D[35]!==w?(S=(0,a.jsx)(s6,{patients:w,isOpen:E,onClose:_}),D[34]=E,D[35]=w,D[36]=S):S=D[36],D[37]!==H?(C=H||[],D[37]=H,D[38]=C):C=D[38],D[39]===Symbol.for("react.memo_cache_sentinel")?(P=()=>{O(!1),I(null)},D[39]=P):P=D[39],D[40]!==T||D[41]!==Z||D[42]!==C?(A=(0,a.jsx)(sG,{appointment:Z,patients:C,isOpen:T,onClose:P}),D[40]=T,D[41]=Z,D[42]=C,D[43]=A):A=D[43],D[44]!==b||D[45]!==S||D[46]!==A?(k=(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[N,b,S,A]}),D[44]=b,D[45]=S,D[46]=A,D[47]=k):k=D[47],k}async function an(e){return(await d("DELETE",`/api/appointments/${e}`)).json()}var al=s(8415),ai=s(47453);function ac(e){var t,s,r,n,i,c,o,d,m;let x,h,p,f,j,g,y,N,b,w,_,S,C,P,A,k,D,Z,I,T,O,E,M,F,R,$,U,z,L=(0,l.c)(70),{isOpen:V,onClose:W}=e,{toast:B}=v(),q=(0,u.NL)(),{data:H,isLoading:K}=tz(),{data:G,isLoading:J}=sK(),{data:Y,isLoading:Q}=sH();L[0]!==(null==H||null==(t=H.data)?void 0:t.patients)?(x=(null==H||null==(n=H.data)?void 0:n.patients)||[],L[0]=null==H||null==(i=H.data)?void 0:i.patients,L[1]=x):x=L[1];let X=x;L[2]!==(null==G||null==(s=G.data)?void 0:s.procedures)?(h=(null==G||null==(c=G.data)?void 0:c.procedures)||[],L[2]=null==G||null==(o=G.data)?void 0:o.procedures,L[3]=h):h=L[3];let ee=h;L[4]!==(null==Y||null==(r=Y.data)?void 0:r.doctors)?(p=(null==Y||null==(d=Y.data)?void 0:d.doctors)||[],L[4]=null==Y||null==(m=Y.data)?void 0:m.doctors,L[5]=p):p=L[5];let et=p;L[6]===Symbol.for("react.memo_cache_sentinel")?(f=(0,tA.F)(tJ),L[6]=f):f=L[6],L[7]===Symbol.for("react.memo_cache_sentinel")?(j={resolver:f,defaultValues:{patientId:"",procedureName:"",doctorName:"",performedDate:new Date,duration:0,status:"scheduled",description:"",notes:""}},L[7]=j):j=L[7];let es=(0,tP.cI)(j);L[8]!==B?(g=()=>{B({title:"Creation Failed",description:"Failed to create the procedure. Please try again.",variant:"destructive"})},L[8]=B,L[9]=g):g=L[9];let ea=(0,eE.D)({mutationFn:aj,onSuccess:()=>{q.invalidateQueries({queryKey:["/api/procedures"]}),B({title:"Procedure Created",description:"The procedure has been scheduled successfully."}),el()},onError:g});L[10]!==ea?(y=e=>{ea.mutate(e)},L[10]=ea,L[11]=y):y=L[11];let er=y,el=()=>{es.reset(),W()};L[12]===Symbol.for("react.memo_cache_sentinel")?(N=(0,a.jsx)(tp,{children:(0,a.jsxs)(tf,{className:"flex items-center space-x-2 text-xl font-semibold text-professional-dark",children:[(0,a.jsx)(ai.Z,{className:"h-5 w-5 text-medical-blue"}),(0,a.jsx)("span",{children:"Add New Procedure"})]})}),L[12]=N):N=L[12],L[13]!==es||L[14]!==er?(b=es.handleSubmit(er),L[13]=es,L[14]=er,L[15]=b):b=L[15],L[16]===Symbol.for("react.memo_cache_sentinel")?(w=(0,a.jsx)(tt,{children:(0,a.jsx)(ts,{className:"text-lg text-medical-blue",children:"Procedure Information"})}),L[16]=w):w=L[16],L[17]!==K||L[18]!==X?(_=e=>{let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsxs)(tR,{className:"flex items-center space-x-1",children:[(0,a.jsx)(en.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Patient *"})]}),(0,a.jsxs)(ty,{onValueChange:t.onChange,defaultValue:t.value,disabled:K,children:[(0,a.jsx)(t$,{children:(0,a.jsx)(tN,{children:(0,a.jsx)(tv,{placeholder:K?"Loading patients...":"Select patient"})})}),(0,a.jsx)(t_,{children:null==X?void 0:X.map(af)})]}),(0,a.jsx)(tU,{})]})},L[17]=K,L[18]=X,L[19]=_):_=L[19],L[20]!==es.control||L[21]!==_?(S=(0,a.jsx)(tO,{control:es.control,name:"patientId",render:_}),L[20]=es.control,L[21]=_,L[22]=S):S=L[22],L[23]!==J||L[24]!==ee?(C=e=>{let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsx)(tR,{children:"Procedure Type *"}),(0,a.jsxs)(ty,{onValueChange:t.onChange,defaultValue:t.value,disabled:J,children:[(0,a.jsx)(t$,{children:(0,a.jsx)(tN,{children:(0,a.jsx)(tv,{placeholder:J?"Loading procedures...":"Select procedure type"})})}),(0,a.jsx)(t_,{children:null==ee?void 0:ee.map(ap)})]}),(0,a.jsx)(tU,{})]})},L[23]=J,L[24]=ee,L[25]=C):C=L[25],L[26]!==es.control||L[27]!==C?(P=(0,a.jsx)(tO,{control:es.control,name:"procedureName",render:C}),L[26]=es.control,L[27]=C,L[28]=P):P=L[28],L[29]!==et||L[30]!==Q?(A=e=>{let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsx)(tR,{children:"Doctor *"}),(0,a.jsxs)(ty,{onValueChange:t.onChange,defaultValue:t.value,disabled:Q,children:[(0,a.jsx)(t$,{children:(0,a.jsx)(tN,{children:(0,a.jsx)(tv,{placeholder:Q?"Loading doctors...":"Select doctor"})})}),(0,a.jsx)(t_,{children:null==et?void 0:et.map(ah)})]}),(0,a.jsx)(tU,{})]})},L[29]=et,L[30]=Q,L[31]=A):A=L[31],L[32]!==es.control||L[33]!==A?(k=(0,a.jsx)(tO,{control:es.control,name:"doctorName",render:A}),L[32]=es.control,L[33]=A,L[34]=k):k=L[34],L[35]!==es.control?(D=(0,a.jsx)(tO,{control:es.control,name:"status",render:ax}),L[35]=es.control,L[36]=D):D=L[36],L[37]!==k||L[38]!==D?(Z=(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[k,D]}),L[37]=k,L[38]=D,L[39]=Z):Z=L[39],L[40]!==es.control?(I=(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(tO,{control:es.control,name:"performedDate",render:au}),(0,a.jsx)(tO,{control:es.control,name:"duration",render:am})]}),T=(0,a.jsx)(tO,{control:es.control,name:"description",render:ad}),O=(0,a.jsx)(tO,{control:es.control,name:"notes",render:ao}),L[40]=es.control,L[41]=I,L[42]=T,L[43]=O):(I=L[41],T=L[42],O=L[43]),L[44]!==S||L[45]!==P||L[46]!==Z||L[47]!==I||L[48]!==T||L[49]!==O?(E=(0,a.jsxs)(te,{children:[w,(0,a.jsxs)(tr,{className:"space-y-4",children:[S,P,Z,I,T,O]})]}),L[44]=S,L[45]=P,L[46]=Z,L[47]=I,L[48]=T,L[49]=O,L[50]=E):E=L[50],L[51]!==el?(M=(0,a.jsx)(ey,{type:"button",variant:"outline",onClick:el,children:"Cancel"}),L[51]=el,L[52]=M):M=L[52];let ei=ea.isPending?"Adding...":"Add Procedure";return L[53]!==ea.isPending||L[54]!==ei?(F=(0,a.jsx)(ey,{type:"submit",className:"medical-button-primary",disabled:ea.isPending,children:ei}),L[53]=ea.isPending,L[54]=ei,L[55]=F):F=L[55],L[56]!==M||L[57]!==F?(R=(0,a.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[M,F]}),L[56]=M,L[57]=F,L[58]=R):R=L[58],L[59]!==E||L[60]!==R||L[61]!==b?($=(0,a.jsxs)("form",{onSubmit:b,className:"space-y-6",children:[E,R]}),L[59]=E,L[60]=R,L[61]=b,L[62]=$):$=L[62],L[63]!==es||L[64]!==$?(U=(0,a.jsxs)(th,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[N,(0,a.jsx)(tI,{...es,children:$})]}),L[63]=es,L[64]=$,L[65]=U):U=L[65],L[66]!==el||L[67]!==V||L[68]!==U?(z=(0,a.jsx)(tm,{open:V,onOpenChange:el,children:U}),L[66]=el,L[67]=V,L[68]=U,L[69]=z):z=L[69],z}function ao(e){let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsx)(tR,{children:"Additional Notes"}),(0,a.jsx)(t$,{children:(0,a.jsx)(tC,{placeholder:"Any additional notes about the procedure...",className:"min-h-[80px]",value:t.value||"",onChange:e=>t.onChange(e.target.value||null)})}),(0,a.jsx)(tU,{})]})}function ad(e){let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsx)(tR,{children:"Description"}),(0,a.jsx)(t$,{children:(0,a.jsx)(tC,{placeholder:"Description of the procedure...",className:"min-h-[80px]",value:t.value||"",onChange:e=>t.onChange(e.target.value||null)})}),(0,a.jsx)(tU,{})]})}function am(e){let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsxs)(tR,{className:"flex items-center space-x-1",children:[(0,a.jsx)(e$.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Duration (minutes)"})]}),(0,a.jsx)(t$,{children:(0,a.jsx)(eG,{type:"number",placeholder:"60",...t,onChange:e=>t.onChange(parseInt(e.target.value)||0)})}),(0,a.jsx)(tU,{})]})}function au(e){let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsxs)(tR,{className:"flex items-center space-x-1",children:[(0,a.jsx)(e_.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Procedure Date *"})]}),(0,a.jsx)(t$,{children:(0,a.jsx)(eG,{type:"date",value:t.value instanceof Date?t.value.toISOString().split("T")[0]:t.value,onChange:e=>t.onChange(new Date(e.target.value))})}),(0,a.jsx)(tU,{})]})}function ax(e){let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsx)(tR,{children:"Status *"}),(0,a.jsxs)(ty,{onValueChange:t.onChange,defaultValue:t.value,children:[(0,a.jsx)(t$,{children:(0,a.jsx)(tN,{children:(0,a.jsx)(tv,{placeholder:"Select status"})})}),(0,a.jsxs)(t_,{children:[(0,a.jsx)(tS,{value:"scheduled",children:"Scheduled"}),(0,a.jsx)(tS,{value:"in-progress",children:"In Progress"}),(0,a.jsx)(tS,{value:"completed",children:"Completed"}),(0,a.jsx)(tS,{value:"cancelled",children:"Cancelled"})]})]}),(0,a.jsx)(tU,{})]})}function ah(e){return(0,a.jsx)(tS,{value:e.name,children:e.displayName??e.name},e.id)}function ap(e){return(0,a.jsx)(tS,{value:e.procedureName,children:e.procedureName},e.id)}function af(e){return(0,a.jsxs)(tS,{value:e.id,children:[e.name," - ",e.email]},e.id)}async function aj(e){return(await d("POST","/api/procedures",e)).json()}function ag(e){let t,s,r,n,i,c,o,m,x,h,p,f,j,g,y,N,b,w,_,S,C,P,A,k,D,Z,I=(0,l.c)(73),{procedure:T,patients:O,isOpen:E,onClose:M}=e,{toast:F}=v(),R=(0,u.NL)();I[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,tA.F)(tJ),I[0]=t):t=I[0];let $=(null==T?void 0:T.patientId)||"",U=(null==T?void 0:T.procedureName)||"",z=(null==T?void 0:T.doctorName)||"";I[1]!==T?(s=T?new Date(T.performedDate):new Date,I[1]=T,I[2]=s):s=I[2];let L=(null==T?void 0:T.duration)||0,V=(null==T?void 0:T.status)||"scheduled",W=(null==T?void 0:T.description)||"",B=(null==T?void 0:T.notes)||"";I[3]!==$||I[4]!==U||I[5]!==z||I[6]!==s||I[7]!==L||I[8]!==V||I[9]!==W||I[10]!==B?(r={resolver:t,defaultValues:{patientId:$,procedureName:U,doctorName:z,performedDate:s,duration:L,status:V,description:W,notes:B}},I[3]=$,I[4]=U,I[5]=z,I[6]=s,I[7]=L,I[8]=V,I[9]=W,I[10]=B,I[11]=r):r=I[11];let q=(0,tP.cI)(r);I[12]!==(null==T?void 0:T.id)?(n=async e=>(await d("PATCH",`/api/procedures/${null==T?void 0:T.id}`,e)).json(),I[12]=null==T?void 0:T.id,I[13]=n):n=I[13],I[14]!==M||I[15]!==R||I[16]!==F?(i=()=>{R.invalidateQueries({queryKey:["/api/procedures"]}),F({title:"Procedure Updated",description:"The procedure has been updated successfully."}),M()},I[14]=M,I[15]=R,I[16]=F,I[17]=i):i=I[17],I[18]!==F?(c=()=>{F({title:"Update Failed",description:"Failed to update the procedure. Please try again.",variant:"destructive"})},I[18]=F,I[19]=c):c=I[19],I[20]!==n||I[21]!==i||I[22]!==c?(o={mutationFn:n,onSuccess:i,onError:c},I[20]=n,I[21]=i,I[22]=c,I[23]=o):o=I[23];let H=(0,eE.D)(o);I[24]!==H?(m=e=>{H.mutate(e)},I[24]=H,I[25]=m):m=I[25];let K=m;I[26]!==q||I[27]!==M?(x=()=>{q.reset(),M()},I[26]=q,I[27]=M,I[28]=x):x=I[28];let G=x;if(!T)return null;I[29]===Symbol.for("react.memo_cache_sentinel")?(h=(0,a.jsx)(tp,{children:(0,a.jsxs)(tf,{className:"flex items-center space-x-2 text-xl font-semibold text-professional-dark",children:[(0,a.jsx)(ai.Z,{className:"h-5 w-5 text-medical-blue"}),(0,a.jsx)("span",{children:"Edit Procedure"})]})}),I[29]=h):h=I[29],I[30]!==q||I[31]!==K?(p=q.handleSubmit(K),I[30]=q,I[31]=K,I[32]=p):p=I[32],I[33]===Symbol.for("react.memo_cache_sentinel")?(f=(0,a.jsx)(tt,{children:(0,a.jsx)(ts,{className:"text-lg text-medical-blue",children:"Procedure Information"})}),I[33]=f):f=I[33],I[34]!==O?(j=e=>{let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsxs)(tR,{className:"flex items-center space-x-1",children:[(0,a.jsx)(en.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Patient *"})]}),(0,a.jsxs)(ty,{onValueChange:t.onChange,defaultValue:t.value,children:[(0,a.jsx)(t$,{children:(0,a.jsx)(tN,{children:(0,a.jsx)(tv,{placeholder:"Select patient"})})}),(0,a.jsx)(t_,{children:null==O?void 0:O.map(aC)})]}),(0,a.jsx)(tU,{})]})},I[34]=O,I[35]=j):j=I[35],I[36]!==q.control||I[37]!==j?(g=(0,a.jsx)(tO,{control:q.control,name:"patientId",render:j}),I[36]=q.control,I[37]=j,I[38]=g):g=I[38],I[39]!==q.control?(y=(0,a.jsx)(tO,{control:q.control,name:"procedureName",render:aS}),I[39]=q.control,I[40]=y):y=I[40],I[41]!==q.control?(N=(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(tO,{control:q.control,name:"doctorName",render:a_}),(0,a.jsx)(tO,{control:q.control,name:"status",render:aw})]}),I[41]=q.control,I[42]=N):N=I[42],I[43]!==q.control?(b=(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(tO,{control:q.control,name:"performedDate",render:ab}),(0,a.jsx)(tO,{control:q.control,name:"duration",render:aN})]}),w=(0,a.jsx)(tO,{control:q.control,name:"description",render:av}),_=(0,a.jsx)(tO,{control:q.control,name:"notes",render:ay}),I[43]=q.control,I[44]=b,I[45]=w,I[46]=_):(b=I[44],w=I[45],_=I[46]),I[47]!==g||I[48]!==y||I[49]!==N||I[50]!==b||I[51]!==w||I[52]!==_?(S=(0,a.jsxs)(te,{children:[f,(0,a.jsxs)(tr,{className:"space-y-4",children:[g,y,N,b,w,_]})]}),I[47]=g,I[48]=y,I[49]=N,I[50]=b,I[51]=w,I[52]=_,I[53]=S):S=I[53],I[54]!==G?(C=(0,a.jsx)(ey,{type:"button",variant:"outline",onClick:G,children:"Cancel"}),I[54]=G,I[55]=C):C=I[55];let J=H.isPending?"Updating...":"Update Procedure";return I[56]!==J||I[57]!==H.isPending?(P=(0,a.jsx)(ey,{type:"submit",className:"medical-button-primary",disabled:H.isPending,children:J}),I[56]=J,I[57]=H.isPending,I[58]=P):P=I[58],I[59]!==C||I[60]!==P?(A=(0,a.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[C,P]}),I[59]=C,I[60]=P,I[61]=A):A=I[61],I[62]!==p||I[63]!==S||I[64]!==A?(k=(0,a.jsxs)("form",{onSubmit:p,className:"space-y-6",children:[S,A]}),I[62]=p,I[63]=S,I[64]=A,I[65]=k):k=I[65],I[66]!==q||I[67]!==k?(D=(0,a.jsxs)(th,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[h,(0,a.jsx)(tI,{...q,children:k})]}),I[66]=q,I[67]=k,I[68]=D):D=I[68],I[69]!==G||I[70]!==E||I[71]!==D?(Z=(0,a.jsx)(tm,{open:E,onOpenChange:G,children:D}),I[69]=G,I[70]=E,I[71]=D,I[72]=Z):Z=I[72],Z}function ay(e){let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsx)(tR,{children:"Additional Notes"}),(0,a.jsx)(t$,{children:(0,a.jsx)(tC,{placeholder:"Any additional notes about the procedure...",className:"min-h-[80px]",value:t.value||"",onChange:e=>t.onChange(e.target.value||null)})}),(0,a.jsx)(tU,{})]})}function av(e){let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsx)(tR,{children:"Description"}),(0,a.jsx)(t$,{children:(0,a.jsx)(tC,{placeholder:"Description of the procedure...",className:"min-h-[80px]",value:t.value||"",onChange:e=>t.onChange(e.target.value||null)})}),(0,a.jsx)(tU,{})]})}function aN(e){let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsxs)(tR,{className:"flex items-center space-x-1",children:[(0,a.jsx)(e$.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Duration (minutes)"})]}),(0,a.jsx)(t$,{children:(0,a.jsx)(eG,{type:"number",placeholder:"60",...t,onChange:e=>t.onChange(parseInt(e.target.value)||0)})}),(0,a.jsx)(tU,{})]})}function ab(e){let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsxs)(tR,{className:"flex items-center space-x-1",children:[(0,a.jsx)(e_.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Procedure Date *"})]}),(0,a.jsx)(t$,{children:(0,a.jsx)(eG,{type:"date",value:t.value instanceof Date?t.value.toISOString().split("T")[0]:t.value,onChange:e=>t.onChange(new Date(e.target.value))})}),(0,a.jsx)(tU,{})]})}function aw(e){let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsx)(tR,{children:"Status *"}),(0,a.jsxs)(ty,{onValueChange:t.onChange,defaultValue:t.value,children:[(0,a.jsx)(t$,{children:(0,a.jsx)(tN,{children:(0,a.jsx)(tv,{placeholder:"Select status"})})}),(0,a.jsxs)(t_,{children:[(0,a.jsx)(tS,{value:"scheduled",children:"Scheduled"}),(0,a.jsx)(tS,{value:"in-progress",children:"In Progress"}),(0,a.jsx)(tS,{value:"completed",children:"Completed"}),(0,a.jsx)(tS,{value:"cancelled",children:"Cancelled"})]})]}),(0,a.jsx)(tU,{})]})}function a_(e){let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsx)(tR,{children:"Doctor *"}),(0,a.jsxs)(ty,{onValueChange:t.onChange,defaultValue:t.value,children:[(0,a.jsx)(t$,{children:(0,a.jsx)(tN,{children:(0,a.jsx)(tv,{placeholder:"Select doctor"})})}),(0,a.jsxs)(t_,{children:[(0,a.jsx)(tS,{value:"Dr. Sarah Chen",children:"Dr. Sarah Chen"}),(0,a.jsx)(tS,{value:"Dr. Michael Rodriguez",children:"Dr. Michael Rodriguez"}),(0,a.jsx)(tS,{value:"Dr. Emily Johnson",children:"Dr. Emily Johnson"}),(0,a.jsx)(tS,{value:"Dr. David Kim",children:"Dr. David Kim"}),(0,a.jsx)(tS,{value:"Dr. Lisa Wang",children:"Dr. Lisa Wang"})]})]}),(0,a.jsx)(tU,{})]})}function aS(e){let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsx)(tR,{children:"Procedure Type *"}),(0,a.jsxs)(ty,{onValueChange:t.onChange,defaultValue:t.value,children:[(0,a.jsx)(t$,{children:(0,a.jsx)(tN,{children:(0,a.jsx)(tv,{placeholder:"Select procedure type"})})}),(0,a.jsxs)(t_,{children:[(0,a.jsx)(tS,{value:"Cataract Surgery",children:"Cataract Surgery"}),(0,a.jsx)(tS,{value:"LASIK Surgery",children:"LASIK Surgery"}),(0,a.jsx)(tS,{value:"Retinal Detachment Repair",children:"Retinal Detachment Repair"}),(0,a.jsx)(tS,{value:"Glaucoma Surgery",children:"Glaucoma Surgery"}),(0,a.jsx)(tS,{value:"Corneal Transplant",children:"Corneal Transplant"}),(0,a.jsx)(tS,{value:"Vitrectomy",children:"Vitrectomy"}),(0,a.jsx)(tS,{value:"Macular Degeneration Treatment",children:"Macular Degeneration Treatment"}),(0,a.jsx)(tS,{value:"Diabetic Retinopathy Treatment",children:"Diabetic Retinopathy Treatment"}),(0,a.jsx)(tS,{value:"Ptosis Repair",children:"Ptosis Repair"}),(0,a.jsx)(tS,{value:"Chalazion Removal",children:"Chalazion Removal"})]})]}),(0,a.jsx)(tU,{})]})}function aC(e){return(0,a.jsxs)(tS,{value:e.id,children:[e.firstName," ",e.lastName," - ",e.email]},e.id)}function aP(){let e,t,s,n,i,c,o,d,m,x,h,p,f,j,g,y,N,b,w,_=(0,l.c)(40),[S,C]=(0,r.useState)(null),[P,A]=(0,r.useState)(!1),[k,D]=(0,r.useState)(!1),{toast:Z}=v(),I=(0,u.NL)();_[0]===Symbol.for("react.memo_cache_sentinel")?(e={queryKey:["/api/procedures"]},_[0]=e):e=_[0];let{data:T,isLoading:O}=(0,ew.a)(e);_[1]===Symbol.for("react.memo_cache_sentinel")?(t={queryKey:["/api/patients"]},_[1]=t):t=_[1];let{data:E}=(0,ew.a)(t);_[2]!==E?(s=e=>{let t=null==E?void 0:E.find(t=>t.id===e);return t?`${t.firstName} ${t.lastName}`:"Unknown Patient"},_[2]=E,_[3]=s):s=_[3];let M=s;_[4]!==I||_[5]!==Z?(n=()=>{I.invalidateQueries({queryKey:["/api/procedures"]}),Z({title:"Procedure Deleted",description:"The procedure has been deleted successfully."})},_[4]=I,_[5]=Z,_[6]=n):n=_[6],_[7]!==Z?(i=()=>{Z({title:"Delete Failed",description:"Failed to delete the procedure. Please try again.",variant:"destructive"})},_[7]=Z,_[8]=i):i=_[8],_[9]!==n||_[10]!==i?(c={mutationFn:aA,onSuccess:n,onError:i},_[9]=n,_[10]=i,_[11]=c):c=_[11];let F=(0,eE.D)(c);_[12]===Symbol.for("react.memo_cache_sentinel")?(o=e=>{C(e),D(!0)},_[12]=o):o=_[12];let R=o;_[13]!==F?(d=e=>{confirm("Are you sure you want to delete this procedure?")&&F.mutate(e)},_[13]=F,_[14]=d):d=_[14];let $=d;if(O){let e;return _[15]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsx)("div",{className:"text-center",children:"Loading procedures..."})}),_[15]=e):e=_[15],e}return _[16]===Symbol.for("react.memo_cache_sentinel")?(m=(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold text-professional-dark",children:"Procedure Management"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Track and manage medical procedures"})]}),_[16]=m):m=_[16],_[17]===Symbol.for("react.memo_cache_sentinel")?(x=(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8",children:[m,(0,a.jsxs)(ey,{className:"mt-4 sm:mt-0 medical-button-primary",onClick:()=>A(!0),children:[(0,a.jsx)(e9.Z,{className:"h-4 w-4 mr-2"}),"New Procedure"]})]}),_[17]=x):x=_[17],_[18]===Symbol.for("react.memo_cache_sentinel")?(h=(0,a.jsx)("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:(0,a.jsxs)(ey,{variant:"outline",children:[(0,a.jsx)(al.Z,{className:"h-4 w-4 mr-2"}),"Filter by Status"]})}),_[18]=h):h=_[18],_[19]!==M||_[20]!==$||_[21]!==T?(p=(null==T?void 0:T.length)===0?(0,a.jsx)(te,{children:(0,a.jsxs)(tr,{className:"text-center py-8",children:[(0,a.jsx)(so.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-500",children:"No procedures recorded yet."})]})}):(0,a.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:null==T?void 0:T.map(e=>(0,a.jsxs)(te,{className:"hover:shadow-md transition-shadow",children:[(0,a.jsx)(tt,{children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(ts,{className:"text-lg",children:e.procedureName}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Patient: ",M(e.patientId)]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(tl,{className:function(e){switch(e){case"completed":return"bg-green-100 text-green-800";case"in-progress":return"bg-blue-100 text-blue-800";case"scheduled":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}(e.status),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),(0,a.jsx)(ey,{variant:"outline",size:"sm",onClick:()=>R(e),children:(0,a.jsx)(sT.Z,{className:"h-3 w-3"})}),(0,a.jsx)(ey,{variant:"outline",size:"sm",onClick:()=>$(e.id),children:(0,a.jsx)(sO.Z,{className:"h-3 w-3"})})]})]})}),(0,a.jsx)(tr,{children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Doctor:"}),(0,a.jsx)("span",{children:e.doctorName})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Date:"}),(0,a.jsx)("span",{children:(0,eI.WU)(new Date(e.performedDate),"MMM dd, yyyy")})]}),e.duration&&(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Duration:"}),(0,a.jsxs)("span",{children:[e.duration," minutes"]})]}),e.description&&(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 font-medium",children:"Description:"}),(0,a.jsx)("p",{className:"text-sm text-gray-700 mt-1",children:e.description})]}),e.notes&&(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 font-medium",children:"Notes:"}),(0,a.jsx)("p",{className:"text-sm text-gray-700 mt-1",children:e.notes})]})]})})]},e.id))}),_[19]=M,_[20]=$,_[21]=T,_[22]=p):p=_[22],_[23]!==E?(f=E||[],_[23]=E,_[24]=f):f=_[24],_[25]===Symbol.for("react.memo_cache_sentinel")?(j=()=>A(!1),_[25]=j):j=_[25],_[26]!==P||_[27]!==f?(g=(0,a.jsx)(ac,{patients:f,isOpen:P,onClose:j}),_[26]=P,_[27]=f,_[28]=g):g=_[28],_[29]!==E?(y=E||[],_[29]=E,_[30]=y):y=_[30],_[31]===Symbol.for("react.memo_cache_sentinel")?(N=()=>{D(!1),C(null)},_[31]=N):N=_[31],_[32]!==k||_[33]!==S||_[34]!==y?(b=(0,a.jsx)(ag,{procedure:S,patients:y,isOpen:k,onClose:N}),_[32]=k,_[33]=S,_[34]=y,_[35]=b):b=_[35],_[36]!==p||_[37]!==g||_[38]!==b?(w=(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[x,h,p,g,b]}),_[36]=p,_[37]=g,_[38]=b,_[39]=w):w=_[39],w}async function aA(e){return(await d("DELETE",`/api/procedures/${e}`)).json()}function ak(){var e,t;let s,n,i,c,o,d,m,x,h,p,f,j,g,y,N,b,w,_,S,C,P,A,k,D,Z,I=(0,l.c)(49),[,T]=(0,r.useState)(null),[O,E]=(0,r.useState)(!1),{toast:M}=v(),F=(0,u.NL)();I[0]===Symbol.for("react.memo_cache_sentinel")?(s={queryKey:["/api/ai-diagnoses"]},I[0]=s):s=I[0];let{data:R,isLoading:$}=(0,ew.a)(s);I[1]===Symbol.for("react.memo_cache_sentinel")?(n={queryKey:["/api/patients"]},I[1]=n):n=I[1];let{data:U}=(0,ew.a)(n);I[2]!==F||I[3]!==M?(i=()=>{F.invalidateQueries({queryKey:["/api/ai-diagnoses"]}),T(null),M({title:"Analysis Complete",description:"AI diagnosis has been generated successfully."})},I[2]=F,I[3]=M,I[4]=i):i=I[4],I[5]!==M?(c=()=>{M({title:"Analysis Failed",description:"Failed to analyze the image. Please try again.",variant:"destructive"})},I[5]=M,I[6]=c):c=I[6],I[7]!==i||I[8]!==c?(o={mutationFn:aZ,onSuccess:i,onError:c},I[7]=i,I[8]=c,I[9]=o):o=I[9];let z=(0,eE.D)(o);I[10]===Symbol.for("react.memo_cache_sentinel")?(d=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?E(!0):"dragleave"===e.type&&E(!1)},I[10]=d):d=I[10];let L=d;I[11]!==z||I[12]!==(null==U||null==(e=U[0])?void 0:e.id)||I[13]!==M?(m=e=>{e.preventDefault(),e.stopPropagation(),E(!1);let t=e.dataTransfer.files;t&&t[0]&&x(t[0])},x=e=>{var t;if(!e.type.startsWith("image/"))return void M({title:"Invalid File Type",description:"Please upload an image file (PNG, JPG, JPEG).",variant:"destructive"});T(e);let s=(null==U||null==(t=U[0])?void 0:t.id)||"mock-patient-id",a=URL.createObjectURL(e);z.mutate({patientId:s,imageUrl:a})},I[11]=z,I[12]=null==U||null==(t=U[0])?void 0:t.id,I[13]=M,I[14]=m,I[15]=x):(m=I[14],x=I[15]),I[16]!==x?(h=e=>{var t;let s=null==(t=e.target.files)?void 0:t[0];s&&x(s)},I[16]=x,I[17]=h):h=I[17];let V=h;I[18]!==U?(p=e=>{let t=null==U?void 0:U.find(t=>t.id===e);return t?`${t.firstName} ${t.lastName}`:"Unknown Patient"},I[18]=U,I[19]=p):p=I[19];let W=p;if($){let e;return I[20]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsx)("div",{className:"text-center",children:"Loading AI diagnoses..."})}),I[20]=e):e=I[20],e}I[21]===Symbol.for("react.memo_cache_sentinel")?(f=(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-diagnostic-purple/10 rounded-lg flex items-center justify-center",children:(0,a.jsx)(eC.Z,{className:"text-diagnostic-purple"})}),(0,a.jsx)("h1",{className:"text-2xl font-semibold text-professional-dark",children:"AI Fundus Analysis"}),(0,a.jsx)(tl,{variant:"secondary",className:"bg-diagnostic-purple/10 text-diagnostic-purple",children:"BETA"})]}),(0,a.jsx)("p",{className:"text-gray-600",children:"Advanced AI-powered analysis for early detection of diabetic retinopathy, glaucoma, and macular degeneration"})]}),I[21]=f):f=I[21],I[22]===Symbol.for("react.memo_cache_sentinel")?(j=(0,a.jsx)(tt,{children:(0,a.jsxs)(ts,{className:"flex items-center space-x-2",children:[(0,a.jsx)(eM.Z,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Upload Fundus Image"})]})}),I[22]=j):j=I[22];let B=`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${O?"border-diagnostic-purple bg-diagnostic-purple/5":"border-gray-300 hover:border-diagnostic-purple"}`;I[23]!==z.isPending||I[24]!==V?(g=(0,a.jsx)("input",{type:"file",id:"fundus-upload",className:"hidden",accept:"image/*",onChange:V,disabled:z.isPending}),I[23]=z.isPending,I[24]=V,I[25]=g):g=I[25],I[26]===Symbol.for("react.memo_cache_sentinel")?(y=(0,a.jsx)("div",{className:"w-16 h-16 bg-diagnostic-purple/10 rounded-full flex items-center justify-center mx-auto",children:(0,a.jsx)(eM.Z,{className:"h-8 w-8 text-diagnostic-purple"})}),I[26]=y):y=I[26];let q=z.isPending?"Analyzing image...":"Click to upload or drag and drop";return I[27]!==q?(N=(0,a.jsx)("p",{className:"text-gray-600 font-medium",children:q}),I[27]=q,I[28]=N):N=I[28],I[29]===Symbol.for("react.memo_cache_sentinel")?(b=(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"PNG, JPG, JPEG up to 10MB"}),I[29]=b):b=I[29],I[30]!==N?(w=(0,a.jsx)("label",{htmlFor:"fundus-upload",className:"cursor-pointer",children:(0,a.jsxs)("div",{className:"space-y-4",children:[y,(0,a.jsxs)("div",{children:[N,b]})]})}),I[30]=N,I[31]=w):w=I[31],I[32]!==m||I[33]!==B||I[34]!==g||I[35]!==w?(_=(0,a.jsxs)("div",{className:B,onDragEnter:L,onDragLeave:L,onDragOver:L,onDrop:m,children:[g,w]}),I[32]=m,I[33]=B,I[34]=g,I[35]=w,I[36]=_):_=I[36],I[37]===Symbol.for("react.memo_cache_sentinel")?(S=(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,a.jsx)(eF.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"94% accuracy rate"})]}),I[37]=S):S=I[37],I[38]===Symbol.for("react.memo_cache_sentinel")?(C=(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,a.jsx)(eC.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"AI Model v2.1"})]}),I[38]=C):C=I[38],I[39]===Symbol.for("react.memo_cache_sentinel")?(P=(0,a.jsxs)("div",{className:"mt-6 space-y-3",children:[S,C,(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,a.jsx)(e5.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Instant results"})]})]}),I[39]=P):P=I[39],I[40]!==_?(A=(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsxs)(te,{className:"h-fit",children:[j,(0,a.jsxs)(tr,{children:[_,P]})]})}),I[40]=_,I[41]=A):A=I[41],I[42]===Symbol.for("react.memo_cache_sentinel")?(k=(0,a.jsx)(tt,{children:(0,a.jsx)(ts,{children:"Analysis Results"})}),I[42]=k):k=I[42],I[43]!==R||I[44]!==W?(D=(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsxs)(te,{children:[k,(0,a.jsx)(tr,{children:(null==R?void 0:R.length)===0?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(eC.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-500",children:"No AI diagnoses available yet."}),(0,a.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Upload a fundus image to get started."})]}):(0,a.jsx)("div",{className:"space-y-4",children:null==R?void 0:R.map(e=>(0,a.jsxs)("div",{className:"border rounded-lg p-4 hover:shadow-sm transition-shadow",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-professional-dark",children:W(e.patientId)}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:e.diagnosis})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)(tl,{className:function(e){switch(e){case"normal":return"bg-green-100 text-green-800";case"mild":return"bg-yellow-100 text-yellow-800";case"moderate":return"bg-orange-100 text-orange-800";case"severe":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}(e.severity),children:e.severity.charAt(0).toUpperCase()+e.severity.slice(1)}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[e.confidence,"% confidence"]})]})]}),e.recommendations&&e.recommendations.length>0&&(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Recommendations:"}),(0,a.jsx)("ul",{className:"list-disc list-inside space-y-1",children:e.recommendations.map(aD)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[(0,a.jsxs)("span",{children:["Analyzed by ",e.analyzedBy]}),(0,a.jsx)("span",{children:(0,eI.WU)(new Date(e.createdAt),"MMM dd, yyyy HH:mm")})]}),!e.reviewedByDoctor&&(0,a.jsx)("div",{className:"mt-3 pt-3 border-t",children:(0,a.jsx)(ey,{size:"sm",variant:"outline",children:"Review & Approve"})})]},e.id))})})]})}),I[43]=R,I[44]=W,I[45]=D):D=I[45],I[46]!==A||I[47]!==D?(Z=(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[f,(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[A,D]})]}),I[46]=A,I[47]=D,I[48]=Z):Z=I[48],Z}function aD(e,t){return(0,a.jsx)("li",{className:"text-sm text-gray-600",children:e},t)}async function aZ(e){return(await d("POST","/api/ai-diagnoses/analyze",e)).json()}function aI(){let e,t,s,r,n,i,c,o,d,m,u,x,h,p,f,j,g,y,v,N,b,w,_,S,C,P,A,k=(0,l.c)(73);k[0]===Symbol.for("react.memo_cache_sentinel")?(e={queryKey:["/api/payments"]},k[0]=e):e=k[0];let{data:D,isLoading:Z}=(0,ew.a)(e);k[1]===Symbol.for("react.memo_cache_sentinel")?(t={queryKey:["/api/patients"]},k[1]=t):t=k[1];let{data:I}=(0,ew.a)(t);k[2]!==I?(s=e=>{let t=null==I?void 0:I.find(t=>t.id===e);return t?`${t.firstName} ${t.lastName}`:"Unknown Patient"},k[2]=I,k[3]=s):s=k[3];let T=s;if(k[4]!==Z||k[5]!==D){d=Symbol.for("react.early_return_sentinel");e:{let e,t,s,l,g,y,v,N,b,w,_,S,C=(null==D?void 0:D.filter(aR).reduce(aF,0))||0,P=(null==D?void 0:D.filter(aM).reduce(aE,0))||0,A=(null==D?void 0:D.filter(aO).reduce(aT,0))||0;if(Z){let e;k[19]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsx)("div",{className:"text-center",children:"Loading billing information..."})}),k[19]=e):e=k[19],d=e;break e}c="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",k[20]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold text-professional-dark",children:"Billing & Payments"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage invoices, payments, and financial records"})]}),k[20]=e):e=k[20],k[21]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsxs)(ey,{variant:"outline",children:[(0,a.jsx)(e5.Z,{className:"h-4 w-4 mr-2"}),"Generate Invoice"]}),k[21]=t):t=k[21],k[22]===Symbol.for("react.memo_cache_sentinel")?(o=(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8",children:[e,(0,a.jsxs)("div",{className:"flex space-x-3 mt-4 sm:mt-0",children:[t,(0,a.jsxs)(ey,{className:"medical-button-primary",children:[(0,a.jsx)(e9.Z,{className:"h-4 w-4 mr-2"}),"New Payment"]})]})]}),k[22]=o):o=k[22],f="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",k[23]===Symbol.for("react.memo_cache_sentinel")?(s=(0,a.jsx)(tt,{className:"pb-3",children:(0,a.jsx)(ts,{className:"text-sm font-medium text-gray-600",children:"Total Revenue"})}),k[23]=s):s=k[23];let I=C.toLocaleString();k[24]!==I?(l=(0,a.jsxs)("span",{className:"text-2xl font-semibold text-professional-dark",children:["$",I]}),k[24]=I,k[25]=l):l=k[25],k[26]===Symbol.for("react.memo_cache_sentinel")?(g=(0,a.jsx)("div",{className:"w-8 h-8 bg-healthcare-green/10 rounded-lg flex items-center justify-center",children:(0,a.jsx)(eP.Z,{className:"h-4 w-4 text-healthcare-green"})}),k[26]=g):g=k[26],k[27]!==l?(y=(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[l,g]}),k[27]=l,k[28]=y):y=k[28],k[29]===Symbol.for("react.memo_cache_sentinel")?(v=(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"This month"}),k[29]=v):v=k[29],k[30]!==y?(j=(0,a.jsxs)(te,{children:[s,(0,a.jsxs)(tr,{children:[y,v]})]}),k[30]=y,k[31]=j):j=k[31],k[32]===Symbol.for("react.memo_cache_sentinel")?(N=(0,a.jsx)(tt,{className:"pb-3",children:(0,a.jsx)(ts,{className:"text-sm font-medium text-gray-600",children:"Pending Payments"})}),k[32]=N):N=k[32];let T=P.toLocaleString();k[33]!==T?(b=(0,a.jsxs)("span",{className:"text-2xl font-semibold text-professional-dark",children:["$",T]}),k[33]=T,k[34]=b):b=k[34],k[35]===Symbol.for("react.memo_cache_sentinel")?(w=(0,a.jsx)("div",{className:"w-8 h-8 bg-yellow-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(eP.Z,{className:"h-4 w-4 text-yellow-600"})}),k[35]=w):w=k[35],k[36]!==b?(_=(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[b,w]}),k[36]=b,k[37]=_):_=k[37],k[38]===Symbol.for("react.memo_cache_sentinel")?(S=(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Awaiting payment"}),k[38]=S):S=k[38],k[39]!==_?(i=(0,a.jsxs)(te,{children:[N,(0,a.jsxs)(tr,{children:[_,S]})]}),k[39]=_,k[40]=i):i=k[40],n=te,k[41]===Symbol.for("react.memo_cache_sentinel")?(p=(0,a.jsx)(tt,{className:"pb-3",children:(0,a.jsx)(ts,{className:"text-sm font-medium text-gray-600",children:"Overdue Payments"})}),k[41]=p):p=k[41],r=tr,h="flex items-center justify-between",m="text-2xl font-semibold text-professional-dark",u="$",x=A.toLocaleString()}k[4]=Z,k[5]=D,k[6]=r,k[7]=n,k[8]=i,k[9]=c,k[10]=o,k[11]=d,k[12]=m,k[13]=u,k[14]=x,k[15]=h,k[16]=p,k[17]=f,k[18]=j}else r=k[6],n=k[7],i=k[8],c=k[9],o=k[10],d=k[11],m=k[12],u=k[13],x=k[14],h=k[15],p=k[16],f=k[17],j=k[18];return d!==Symbol.for("react.early_return_sentinel")?d:(k[42]!==m||k[43]!==u||k[44]!==x?(g=(0,a.jsxs)("span",{className:m,children:[u,x]}),k[42]=m,k[43]=u,k[44]=x,k[45]=g):g=k[45],k[46]===Symbol.for("react.memo_cache_sentinel")?(y=(0,a.jsx)("div",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(eP.Z,{className:"h-4 w-4 text-red-600"})}),k[46]=y):y=k[46],k[47]!==g||k[48]!==h?(v=(0,a.jsxs)("div",{className:h,children:[g,y]}),k[47]=g,k[48]=h,k[49]=v):v=k[49],k[50]===Symbol.for("react.memo_cache_sentinel")?(N=(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Requires follow-up"}),k[50]=N):N=k[50],k[51]!==r||k[52]!==v?(b=(0,a.jsxs)(r,{children:[v,N]}),k[51]=r,k[52]=v,k[53]=b):b=k[53],k[54]!==n||k[55]!==b||k[56]!==p?(w=(0,a.jsxs)(n,{children:[p,b]}),k[54]=n,k[55]=b,k[56]=p,k[57]=w):w=k[57],k[58]!==i||k[59]!==w||k[60]!==f||k[61]!==j?(_=(0,a.jsxs)("div",{className:f,children:[j,i,w]}),k[58]=i,k[59]=w,k[60]=f,k[61]=j,k[62]=_):_=k[62],k[63]===Symbol.for("react.memo_cache_sentinel")?(S=(0,a.jsx)("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:(0,a.jsxs)(ey,{variant:"outline",children:[(0,a.jsx)(al.Z,{className:"h-4 w-4 mr-2"}),"Filter by Status"]})}),k[63]=S):S=k[63],k[64]===Symbol.for("react.memo_cache_sentinel")?(C=(0,a.jsx)(tt,{children:(0,a.jsx)(ts,{children:"Recent Payments"})}),k[64]=C):C=k[64],k[65]!==T||k[66]!==D?(P=(0,a.jsxs)(te,{children:[C,(0,a.jsx)(tr,{children:(null==D?void 0:D.length)===0?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(eP.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-500",children:"No payment records found."})]}):(0,a.jsx)("div",{className:"space-y-4",children:null==D?void 0:D.map(e=>(0,a.jsxs)("div",{className:"border rounded-lg p-4 hover:shadow-sm transition-shadow",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-professional-dark",children:T(e.patientId)}),(0,a.jsxs)("p",{className:"text-gray-600 text-sm mt-1",children:["Invoice: ",e.invoiceNumber||"N/A"]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-500",children:[(0,a.jsxs)("span",{children:["Method: ",e.paymentMethod]}),e.dueDate&&(0,a.jsxs)("span",{children:["Due: ",(0,eI.WU)(new Date(e.dueDate),"MMM dd, yyyy")]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-lg font-semibold text-professional-dark",children:["$",parseFloat(e.amount).toLocaleString()]}),(0,a.jsx)(tl,{className:function(e){switch(e){case"paid":return"bg-green-100 text-green-800";case"partial":return"bg-yellow-100 text-yellow-800";case"pending":return"bg-blue-100 text-blue-800";case"overdue":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}(e.paymentStatus),children:e.paymentStatus.charAt(0).toUpperCase()+e.paymentStatus.slice(1)}),e.paymentDate&&(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Paid: ",(0,eI.WU)(new Date(e.paymentDate),"MMM dd, yyyy")]})]})]}),e.insuranceClaim&&(0,a.jsxs)("div",{className:"mt-3 pt-3 border-t",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Insurance Amount:"}),(0,a.jsxs)("span",{children:["$",e.insuranceAmount||"0"]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Patient Amount:"}),(0,a.jsxs)("span",{children:["$",e.patientAmount||"0"]})]})]})]},e.id))})})]}),k[65]=T,k[66]=D,k[67]=P):P=k[67],k[68]!==c||k[69]!==o||k[70]!==_||k[71]!==P?(A=(0,a.jsxs)("main",{className:c,children:[o,_,S,P]}),k[68]=c,k[69]=o,k[70]=_,k[71]=P,k[72]=A):A=k[72],A)}function aT(e,t){return e+parseFloat(t.amount)}function aO(e){return"overdue"===e.paymentStatus}function aE(e,t){return e+parseFloat(t.amount)}function aM(e){return"pending"===e.paymentStatus}function aF(e,t){return e+parseFloat(t.amount)}function aR(e){return"paid"===e.paymentStatus}s(88860),s(67177);var a$=s(46042),aU=s(91996);let az=tL.Ry({email:tL.Z_().email("Please enter a valid email address"),password:tL.Z_().min(6,"Password must be at least 6 characters")});function aL(){let[e,t]=(0,r.useState)(!1),[s,n]=(0,r.useState)(!1),{toast:l}=v(),{loginAndRedirect:c}=ev(),o=(0,tP.cI)({resolver:(0,tA.F)(az),defaultValues:{email:"",password:""}}),d=async e=>{n(!0);try{let{error:t}=await c(e.email,e.password,"/dashboard");t?l({title:"Login Failed",description:t.message,variant:"destructive"}):l({title:"Login Successful",description:"Welcome back to EyeCare Pro!"})}catch(e){l({title:"Login Failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{n(!1)}};return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-medical-blue/10 to-medical-blue/5 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"w-full max-w-md space-y-8",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"mx-auto h-12 w-12 bg-medical-blue rounded-full flex items-center justify-center mb-4",children:(0,a.jsx)(so.Z,{className:"h-6 w-6 text-white"})}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-professional-dark",children:"EyeCare Pro"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:"Sign in to your medical practice account"})]}),(0,a.jsxs)(te,{className:"shadow-lg border-0",children:[(0,a.jsxs)(tt,{className:"space-y-1 pb-6",children:[(0,a.jsx)(ts,{className:"text-2xl text-center text-professional-dark",children:"Welcome Back"}),(0,a.jsx)(ta,{className:"text-center text-gray-600",children:"Enter your credentials to access your dashboard"})]}),(0,a.jsxs)(tr,{children:[(0,a.jsx)(tI,{...o,children:(0,a.jsxs)("form",{onSubmit:o.handleSubmit(d),className:"space-y-4",children:[(0,a.jsx)(tO,{control:o.control,name:"email",render:e=>{let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsxs)(tR,{className:"flex items-center space-x-1",children:[(0,a.jsx)(to.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Email Address"})]}),(0,a.jsx)(t$,{children:(0,a.jsx)(eG,{type:"email",placeholder:"doctor@eyecare.com",className:"h-11",...t})}),(0,a.jsx)(tU,{})]})}}),(0,a.jsx)(tO,{control:o.control,name:"password",render:s=>{let{field:r}=s;return(0,a.jsxs)(tF,{children:[(0,a.jsxs)(tR,{className:"flex items-center space-x-1",children:[(0,a.jsx)(a$.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Password"})]}),(0,a.jsx)(t$,{children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(eG,{type:e?"text":"password",placeholder:"Enter your password",className:"h-11 pr-10",...r}),(0,a.jsx)(ey,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>t(!e),children:e?(0,a.jsx)(aU.Z,{className:"h-4 w-4 text-gray-400"}):(0,a.jsx)(eF.Z,{className:"h-4 w-4 text-gray-400"})})]})}),(0,a.jsx)(tU,{})]})}}),(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsx)(i.rU,{href:"/forgot-password",className:"text-sm text-medical-blue hover:underline",children:"Forgot password?"})}),(0,a.jsx)(ey,{type:"submit",className:"w-full h-11 medical-button-primary",disabled:s||o.formState.isSubmitting,children:s||o.formState.isSubmitting?"Signing in...":"Sign In"})]})}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",(0,a.jsx)(i.rU,{href:"/signup",className:"text-medical-blue hover:underline font-medium",children:"Sign up here"})]})})]})]}),(0,a.jsx)(te,{className:"bg-gray-50 border-gray-200",children:(0,a.jsxs)(tr,{className:"pt-4",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 text-center mb-2",children:"Demo Credentials (for testing):"}),(0,a.jsxs)("div",{className:"text-xs text-gray-600 space-y-1",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Email:"})," demo@eyecare.com"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Password:"})," demo123"]})]})]})})]})})}var aV=s(44576);let aW=tL.Ry({firstName:tL.Z_().min(2,"First name must be at least 2 characters"),lastName:tL.Z_().min(2,"Last name must be at least 2 characters"),email:tL.Z_().email("Please enter a valid email address"),phone:tL.Z_().min(10,"Please enter a valid phone number"),specialty:tL.Z_().min(1,"Please select your specialty"),licenseNumber:tL.Z_().min(5,"Please enter your medical license number"),clinicName:tL.Z_().min(2,"Clinic name must be at least 2 characters"),clinicAddress:tL.Z_().min(10,"Please enter a complete clinic address"),clinicPhone:tL.Z_().min(10,"Please enter a valid clinic phone number"),clinicEmail:tL.Z_().email("Please enter a valid clinic email address"),clinicLicenseNumber:tL.Z_().min(5,"Please enter your clinic license number"),password:tL.Z_().min(8,"Password must be at least 8 characters"),confirmPassword:tL.Z_()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function aB(){let e,t,s,n,c,o,d,m,u,x,h,p,f,j,g,y,N,b,w,_,S,C,P,A,k,D,Z,I=(0,l.c)(62),[T,O]=(0,r.useState)(!1),[E,M]=(0,r.useState)(!1),[,F]=(0,i.TH)(),{toast:R}=v(),{signUp:$}=function(){let[e,t]=(0,r.useState)(null),[s,a]=(0,r.useState)(null),[n,l]=(0,r.useState)(!0),{toast:i}=v();return(0,r.useEffect)(()=>{let e;B().then(e=>{let{session:s}=e;a(s),t((null==s?void 0:s.user)??null),l(!1)});let{data:{subscription:s}}=(e=(e,s)=>{a(s),t((null==s?void 0:s.user)??null),l(!1),"SIGNED_IN"===e?i({title:"Signed In",description:"Welcome back!"}):"SIGNED_OUT"===e&&i({title:"Signed Out",description:"You have been signed out."})},z.auth.onAuthStateChange(e));return()=>s.unsubscribe()},[i]),{user:e,session:s,loading:n,signUp:async(e,t,s)=>{l(!0);let{data:a,error:r}=await L(e,t,s);return l(!1),r?i({title:"Sign Up Error",description:r.message,variant:"destructive"}):i({title:"Check your email",description:"We sent you a confirmation link."}),{data:a,error:r}},signIn:async(e,t)=>{l(!0);let{data:s,error:a}=await V(e,t);return l(!1),a&&i({title:"Sign In Error",description:a.message,variant:"destructive"}),{data:s,error:a}},signOut:async()=>{l(!0);let{error:e}=await W();return l(!1),e&&i({title:"Sign Out Error",description:e.message,variant:"destructive"}),{error:e}}}}();I[0]===Symbol.for("react.memo_cache_sentinel")?(e={resolver:(0,tA.F)(aW),defaultValues:{firstName:"",lastName:"",email:"",phone:"",specialty:"",licenseNumber:"",clinicName:"",clinicAddress:"",clinicPhone:"",clinicEmail:"",clinicLicenseNumber:"",password:"",confirmPassword:""}},I[0]=e):e=I[0];let U=(0,tP.cI)(e);I[1]!==F||I[2]!==$||I[3]!==R?(t=async e=>{try{let t={firstName:e.firstName,lastName:e.lastName,phone:e.phone,specialty:e.specialty,licenseNumber:e.licenseNumber,clinicName:e.clinicName,clinicAddress:e.clinicAddress,clinicPhone:e.clinicPhone,clinicEmail:e.clinicEmail,clinicLicenseNumber:e.clinicLicenseNumber},s=await $(e.email,e.password,t);if(console.log("result",s),s.error)R({title:"Signup Failed",description:s.error.message,variant:"destructive"});else{R({title:"Account Created Successfully",description:"Check your email for a confirmation link."});let t=encodeURIComponent(e.email);F(`/registration-success?email=${t}`)}}catch(e){console.error(e),R({title:"Signup Failed",description:"Something went wrong. Please try again.",variant:"destructive"})}},I[1]=F,I[2]=$,I[3]=R,I[4]=t):t=I[4];let q=t;I[5]===Symbol.for("react.memo_cache_sentinel")?(s=(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"mx-auto h-12 w-12 bg-medical-blue rounded-full flex items-center justify-center mb-4",children:(0,a.jsx)(so.Z,{className:"h-6 w-6 text-white"})}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-professional-dark",children:"EyeCare Pro"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:"Create your medical practice account"})]}),I[5]=s):s=I[5],I[6]===Symbol.for("react.memo_cache_sentinel")?(n=(0,a.jsxs)(tt,{className:"space-y-1 pb-6",children:[(0,a.jsx)(ts,{className:"text-2xl text-center text-professional-dark",children:"Create Account"}),(0,a.jsx)(ta,{className:"text-center text-gray-600",children:"Join thousands of medical professionals using EyeCare Pro"})]}),I[6]=n):n=I[6],I[7]!==U||I[8]!==q?(c=U.handleSubmit(q),I[7]=U,I[8]=q,I[9]=c):c=I[9],I[10]!==U.control?(o=(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(tO,{control:U.control,name:"firstName",render:a2}),(0,a.jsx)(tO,{control:U.control,name:"lastName",render:a1})]}),I[10]=U.control,I[11]=o):o=I[11],I[12]!==U.control?(d=(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(tO,{control:U.control,name:"email",render:a0}),(0,a.jsx)(tO,{control:U.control,name:"phone",render:aX})]}),I[12]=U.control,I[13]=d):d=I[13],I[14]!==U.control?(m=(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(tO,{control:U.control,name:"specialty",render:aQ}),(0,a.jsx)(tO,{control:U.control,name:"licenseNumber",render:aY})]}),I[14]=U.control,I[15]=m):m=I[15],I[16]===Symbol.for("react.memo_cache_sentinel")?(u=(0,a.jsxs)("h3",{className:"text-lg font-semibold text-professional-dark flex items-center space-x-2",children:[(0,a.jsx)(aV.Z,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Clinic Information"})]}),I[16]=u):u=I[16],I[17]!==U.control?(h=(0,a.jsx)(tO,{control:U.control,name:"clinicName",render:aJ}),x=(0,a.jsx)(tO,{control:U.control,name:"clinicAddress",render:aG}),I[17]=U.control,I[18]=x,I[19]=h):(x=I[18],h=I[19]),I[20]!==U.control?(p=(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(tO,{control:U.control,name:"clinicPhone",render:aK}),(0,a.jsx)(tO,{control:U.control,name:"clinicEmail",render:aH})]}),f=(0,a.jsx)(tO,{control:U.control,name:"clinicLicenseNumber",render:aq}),I[20]=U.control,I[21]=p,I[22]=f):(p=I[21],f=I[22]),I[23]!==x||I[24]!==p||I[25]!==f||I[26]!==h?(j=(0,a.jsxs)("div",{className:"space-y-4 pt-4 border-t border-gray-200",children:[u,h,x,p,f]}),I[23]=x,I[24]=p,I[25]=f,I[26]=h,I[27]=j):j=I[27],I[28]!==T?(g=e=>{let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsxs)(tR,{className:"flex items-center space-x-1",children:[(0,a.jsx)(a$.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Password"})]}),(0,a.jsx)(t$,{children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(eG,{type:T?"text":"password",placeholder:"Create a strong password",className:"h-11 pr-10",...t}),(0,a.jsx)(ey,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>O(!T),children:T?(0,a.jsx)(aU.Z,{className:"h-4 w-4 text-gray-400"}):(0,a.jsx)(eF.Z,{className:"h-4 w-4 text-gray-400"})})]})}),(0,a.jsx)(tU,{})]})},I[28]=T,I[29]=g):g=I[29],I[30]!==U.control||I[31]!==g?(y=(0,a.jsx)(tO,{control:U.control,name:"password",render:g}),I[30]=U.control,I[31]=g,I[32]=y):y=I[32],I[33]!==E?(N=e=>{let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsx)(tR,{children:"Confirm Password"}),(0,a.jsx)(t$,{children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(eG,{type:E?"text":"password",placeholder:"Confirm your password",className:"h-11 pr-10",...t}),(0,a.jsx)(ey,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>M(!E),children:E?(0,a.jsx)(aU.Z,{className:"h-4 w-4 text-gray-400"}):(0,a.jsx)(eF.Z,{className:"h-4 w-4 text-gray-400"})})]})}),(0,a.jsx)(tU,{})]})},I[33]=E,I[34]=N):N=I[34],I[35]!==U.control||I[36]!==N?(b=(0,a.jsx)(tO,{control:U.control,name:"confirmPassword",render:N}),I[35]=U.control,I[36]=N,I[37]=b):b=I[37],I[38]!==y||I[39]!==b?(w=(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y,b]}),I[38]=y,I[39]=b,I[40]=w):w=I[40];let H=U.formState.isSubmitting?"Creating Account...":"Create Account";return I[41]!==U.formState.isSubmitting||I[42]!==H?(_=(0,a.jsx)(ey,{type:"submit",className:"w-full h-11 medical-button-primary mt-6",disabled:U.formState.isSubmitting,children:H}),I[41]=U.formState.isSubmitting,I[42]=H,I[43]=_):_=I[43],I[44]!==j||I[45]!==w||I[46]!==_||I[47]!==c||I[48]!==o||I[49]!==d||I[50]!==m?(S=(0,a.jsxs)("form",{onSubmit:c,className:"space-y-4",children:[o,d,m,j,w,_]}),I[44]=j,I[45]=w,I[46]=_,I[47]=c,I[48]=o,I[49]=d,I[50]=m,I[51]=S):S=I[51],I[52]!==U||I[53]!==S?(C=(0,a.jsx)(tI,{...U,children:S}),I[52]=U,I[53]=S,I[54]=C):C=I[54],I[55]===Symbol.for("react.memo_cache_sentinel")?(P=(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",(0,a.jsx)(i.rU,{href:"/login",className:"text-medical-blue hover:underline font-medium",children:"Sign in here"})]})}),I[55]=P):P=I[55],I[56]!==C?(A=(0,a.jsxs)(te,{className:"shadow-lg border-0",children:[n,(0,a.jsxs)(tr,{children:[C,P]})]}),I[56]=C,I[57]=A):A=I[57],I[58]===Symbol.for("react.memo_cache_sentinel")?(k=(0,a.jsx)(i.rU,{href:"/terms",className:"text-medical-blue hover:underline",children:"Terms of Service"}),I[58]=k):k=I[58],I[59]===Symbol.for("react.memo_cache_sentinel")?(D=(0,a.jsxs)("p",{className:"text-xs text-gray-500 text-center",children:["By creating an account, you agree to our"," ",k," ","and"," ",(0,a.jsx)(i.rU,{href:"/privacy",className:"text-medical-blue hover:underline",children:"Privacy Policy"})]}),I[59]=D):D=I[59],I[60]!==A?(Z=(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-medical-blue/10 to-medical-blue/5 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"w-full max-w-2xl space-y-8",children:[s,A,D]})}),I[60]=A,I[61]=Z):Z=I[61],Z}function aq(e){let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsx)(tR,{children:"Clinic License Number"}),(0,a.jsx)(t$,{children:(0,a.jsx)(eG,{placeholder:"CLI123456",className:"h-11",...t})}),(0,a.jsx)(tU,{})]})}function aH(e){let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsxs)(tR,{className:"flex items-center space-x-1",children:[(0,a.jsx)(to.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Clinic Email"})]}),(0,a.jsx)(t$,{children:(0,a.jsx)(eG,{type:"email",placeholder:"info@eyecarecenter.com",className:"h-11",...t})}),(0,a.jsx)(tU,{})]})}function aK(e){let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsxs)(tR,{className:"flex items-center space-x-1",children:[(0,a.jsx)(tc.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Clinic Phone"})]}),(0,a.jsx)(t$,{children:(0,a.jsx)(eG,{type:"tel",placeholder:"(555) 987-6543",className:"h-11",...t})}),(0,a.jsx)(tU,{})]})}function aG(e){let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsxs)(tR,{className:"flex items-center space-x-1",children:[(0,a.jsx)(ti.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Clinic Address"})]}),(0,a.jsx)(t$,{children:(0,a.jsx)(eG,{placeholder:"123 Medical Plaza, Suite 100, City, State 12345",className:"h-11",...t})}),(0,a.jsx)(tU,{})]})}function aJ(e){let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsxs)(tR,{className:"flex items-center space-x-1",children:[(0,a.jsx)(aV.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Clinic Name"})]}),(0,a.jsx)(t$,{children:(0,a.jsx)(eG,{placeholder:"EyeCare Medical Center",className:"h-11",...t})}),(0,a.jsx)(tU,{})]})}function aY(e){let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsx)(tR,{children:"Medical License Number"}),(0,a.jsx)(t$,{children:(0,a.jsx)(eG,{placeholder:"MD123456",className:"h-11",...t})}),(0,a.jsx)(tU,{})]})}function aQ(e){let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsx)(tR,{children:"Medical Specialty"}),(0,a.jsxs)(ty,{onValueChange:t.onChange,defaultValue:t.value,children:[(0,a.jsx)(t$,{children:(0,a.jsx)(tN,{className:"h-11",children:(0,a.jsx)(tv,{placeholder:"Select your specialty"})})}),(0,a.jsxs)(t_,{children:[(0,a.jsx)(tS,{value:"ophthalmology",children:"Ophthalmology"}),(0,a.jsx)(tS,{value:"optometry",children:"Optometry"}),(0,a.jsx)(tS,{value:"retinal-specialist",children:"Retinal Specialist"}),(0,a.jsx)(tS,{value:"corneal-specialist",children:"Corneal Specialist"}),(0,a.jsx)(tS,{value:"glaucoma-specialist",children:"Glaucoma Specialist"}),(0,a.jsx)(tS,{value:"pediatric-ophthalmology",children:"Pediatric Ophthalmology"}),(0,a.jsx)(tS,{value:"oculoplastic-surgery",children:"Oculoplastic Surgery"}),(0,a.jsx)(tS,{value:"other",children:"Other"})]})]}),(0,a.jsx)(tU,{})]})}function aX(e){let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsxs)(tR,{className:"flex items-center space-x-1",children:[(0,a.jsx)(tc.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Phone Number"})]}),(0,a.jsx)(t$,{children:(0,a.jsx)(eG,{type:"tel",placeholder:"(555) 123-4567",className:"h-11",...t})}),(0,a.jsx)(tU,{})]})}function a0(e){let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsxs)(tR,{className:"flex items-center space-x-1",children:[(0,a.jsx)(to.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Email Address"})]}),(0,a.jsx)(t$,{children:(0,a.jsx)(eG,{type:"email",placeholder:"doctor@eyecare.com",className:"h-11",...t})}),(0,a.jsx)(tU,{})]})}function a1(e){let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsx)(tR,{children:"Last Name"}),(0,a.jsx)(t$,{children:(0,a.jsx)(eG,{placeholder:"Smith",className:"h-11",...t})}),(0,a.jsx)(tU,{})]})}function a2(e){let{field:t}=e;return(0,a.jsxs)(tF,{children:[(0,a.jsxs)(tR,{className:"flex items-center space-x-1",children:[(0,a.jsx)(en.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"First Name"})]}),(0,a.jsx)(t$,{children:(0,a.jsx)(eG,{placeholder:"John",className:"h-11",...t})}),(0,a.jsx)(tU,{})]})}var a4=s(75518);function a3(){let e,t,s,r,n,c,o,d,m,u,x,h=(0,l.c)(16),[p]=(0,i.lr)();h[0]!==p?(e=(null==p?void 0:p.get("email"))??void 0,h[0]=p,h[1]=e):e=h[1];let f=e;return h[2]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"mx-auto h-12 w-12 bg-medical-blue rounded-full flex items-center justify-center mb-4",children:(0,a.jsx)(so.Z,{className:"h-6 w-6 text-white"})}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-professional-dark",children:"Registration Successful"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:"Thank you for creating an account with EyeCare Pro"})]}),h[2]=t):t=h[2],h[3]===Symbol.for("react.memo_cache_sentinel")?(s=(0,a.jsxs)(tt,{className:"space-y-1 pb-6",children:[(0,a.jsx)(ts,{className:"text-2xl text-center text-professional-dark",children:"Almost done"}),(0,a.jsx)(ta,{className:"text-center text-gray-600",children:"Please verify your email address to activate your account."})]}),h[3]=s):s=h[3],h[4]===Symbol.for("react.memo_cache_sentinel")?(r=(0,a.jsx)("div",{className:"p-4 bg-medical-blue/5 rounded-full",children:(0,a.jsx)(a4.Z,{className:"h-10 w-10 text-medical-blue"})}),h[4]=r):r=h[4],h[5]!==f?(n=f?(0,a.jsxs)(a.Fragment,{children:[": ",(0,a.jsx)("strong",{className:"text-professional-dark",children:f})]}):".",h[5]=f,h[6]=n):n=h[6],h[7]!==n?(c=(0,a.jsxs)("p",{className:"text-sm text-gray-700",children:["We sent a confirmation link to the email address you provided",n," Open the email and click the link to verify your account."]}),h[7]=n,h[8]=c):c=h[8],h[9]===Symbol.for("react.memo_cache_sentinel")?(o=(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"If you don't see the email, check your spam folder or request a new verification email from the login page."}),h[9]=o):o=h[9],h[10]===Symbol.for("react.memo_cache_sentinel")?(d=(0,a.jsx)("div",{className:"w-full mt-4",children:(0,a.jsx)(i.rU,{href:"/login",children:(0,a.jsx)(ey,{className:"w-full h-11 medical-button-primary",children:"Go to Sign In"})})}),h[10]=d):d=h[10],h[11]!==c?(m=(0,a.jsxs)(te,{className:"shadow-lg border-0",children:[s,(0,a.jsx)(tr,{className:"text-center",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[r,c,o,d]})})]}),h[11]=c,h[12]=m):m=h[12],h[13]===Symbol.for("react.memo_cache_sentinel")?(u=(0,a.jsxs)("p",{className:"text-xs text-gray-500 text-center",children:["Didn't receive an email? Visit the ",(0,a.jsx)(i.rU,{href:"/login",className:"text-medical-blue hover:underline",children:"Sign In"})," page to request a new verification message."]}),h[13]=u):u=h[13],h[14]!==m?(x=(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-medical-blue/10 to-medical-blue/5 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"w-full max-w-md space-y-8",children:[t,m,u]})}),h[14]=m,h[15]=x):x=h[15],x}var a5=s(52175);function a6(){let e,t=(0,l.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:(0,a.jsx)(te,{className:"w-full max-w-md mx-4",children:(0,a.jsxs)(tr,{className:"pt-6",children:[(0,a.jsxs)("div",{className:"flex mb-4 gap-2",children:[(0,a.jsx)(a5.Z,{className:"h-8 w-8 text-red-500"}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),(0,a.jsx)("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})}),t[0]=e):e=t[0],e}function a8(){let e,t,s,r,n,c,o,d,m,u,x=(0,l.c)(10);return x[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)(i.AW,{path:"/login",children:(0,a.jsx)(es,{children:(0,a.jsx)(aL,{})})}),x[0]=e):e=x[0],x[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)(i.AW,{path:"/signup",children:(0,a.jsx)(es,{children:(0,a.jsx)(aB,{})})}),x[1]=t):t=x[1],x[2]===Symbol.for("react.memo_cache_sentinel")?(s=(0,a.jsx)(i.AW,{path:"/registration-success",children:(0,a.jsx)(es,{restrictWhenAuthenticated:!1,children:(0,a.jsx)(a3,{})})}),x[2]=s):s=x[2],x[3]===Symbol.for("react.memo_cache_sentinel")?(r=(0,a.jsx)(i.AW,{path:"/",children:(0,a.jsx)(et,{children:(0,a.jsx)(e7,{})})}),x[3]=r):r=x[3],x[4]===Symbol.for("react.memo_cache_sentinel")?(n=(0,a.jsx)(i.AW,{path:"/dashboard",children:(0,a.jsx)(et,{children:(0,a.jsx)(e7,{})})}),x[4]=n):n=x[4],x[5]===Symbol.for("react.memo_cache_sentinel")?(c=(0,a.jsx)(i.AW,{path:"/patients",children:(0,a.jsx)(et,{children:(0,a.jsx)(sj,{})})}),x[5]=c):c=x[5],x[6]===Symbol.for("react.memo_cache_sentinel")?(o=(0,a.jsx)(i.AW,{path:"/appointments",children:(0,a.jsx)(et,{children:(0,a.jsx)(ar,{})})}),x[6]=o):o=x[6],x[7]===Symbol.for("react.memo_cache_sentinel")?(d=(0,a.jsx)(i.AW,{path:"/procedures",children:(0,a.jsx)(et,{children:(0,a.jsx)(aP,{})})}),x[7]=d):d=x[7],x[8]===Symbol.for("react.memo_cache_sentinel")?(m=(0,a.jsx)(i.AW,{path:"/ai-diagnosis",children:(0,a.jsx)(et,{children:(0,a.jsx)(ak,{})})}),x[8]=m):m=x[8],x[9]===Symbol.for("react.memo_cache_sentinel")?(u=(0,a.jsxs)(i.rs,{children:[e,t,s,r,n,c,o,d,m,(0,a.jsx)(i.AW,{path:"/billing",children:(0,a.jsx)(et,{children:(0,a.jsx)(aI,{})})}),(0,a.jsx)(i.AW,{component:a6})]}),x[9]=u):u=x[9],u}function a7(){let e,t,s,r=(0,l.c)(5),[n]=(0,i.TH)(),c=!["/login","/signup","/registration-success"].includes(n);return r[0]!==c?(e=c&&(0,a.jsx)(eN,{}),r[0]=c,r[1]=e):e=r[1],r[2]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)(a8,{}),r[2]=t):t=r[2],r[3]!==e?(s=(0,a.jsxs)("div",{className:"min-h-screen bg-clinical-white",children:[e,t]}),r[3]=e,r[4]=s):s=r[4],s}console.log("Base URL:","/netraAI");let a9=document.getElementById("root");a9&&n.createRoot(a9).render((0,a.jsx)(r.StrictMode,{children:(0,a.jsx)(()=>{let e,t=(0,l.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)(u.aH,{client:m,children:(0,a.jsx)(G,{children:(0,a.jsxs)(F,{children:[(0,a.jsx)(a7,{}),(0,a.jsx)(O,{})]})})}),t[0]=e):e=t[0],e},{})}))}},t={};function s(a){var r=t[a];if(void 0!==r)return r.exports;var n=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}s.m=e,s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;s.t=function(a,r){if(1&r&&(a=this(a)),8&r||"object"==typeof a&&a&&(4&r&&a.__esModule||16&r&&"function"==typeof a.then))return a;var n=Object.create(null);s.r(n);var l={};e=e||[null,t({}),t([]),t(t)];for(var i=2&r&&a;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach(e=>{l[e]=()=>a[e]});return l.default=()=>a,s.d(n,l),n}})(),s.d=(e,t)=>{for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},s.g=(()=>{if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}})(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),s.nc=void 0,(()=>{var e=[];s.O=(t,a,r,n)=>{if(a){n=n||0;for(var l=e.length;l>0&&e[l-1][2]>n;l--)e[l]=e[l-1];e[l]=[a,r,n];return}for(var i=1/0,l=0;l<e.length;l++){for(var[a,r,n]=e[l],c=!0,o=0;o<a.length;o++)(!1&n||i>=n)&&Object.keys(s.O).every(e=>s.O[e](a[o]))?a.splice(o--,1):(c=!1,n<i&&(i=n));if(c){e.splice(l--,1);var d=r();void 0!==d&&(t=d)}}return t}})(),(()=>{var e={980:0};s.O.j=t=>0===e[t];var t=(t,a)=>{var r,n,[l,i,c]=a,o=0;if(l.some(t=>0!==e[t])){for(r in i)s.o(i,r)&&(s.m[r]=i[r]);if(c)var d=c(s)}for(t&&t(a);o<l.length;o++)n=l[o],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(d)},a=self.webpackChunknetra_ai=self.webpackChunknetra_ai||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var a=s.O(void 0,["126","361","76"],function(){return s(94602)});a=s.O(a)})();